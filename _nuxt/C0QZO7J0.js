import{_ as y}from"./OQKrdR_N.js";import{_ as R}from"./UCE38ShZ.js";import{b as q,c as u,d as C}from"./Cg1U94MN.js";import{q as d,D as b,E as m,c,b as _,a as f,F as w,A as x,o as i}from"./BDIVmW0q.js";import{u as B}from"./-_1fAKAP.js";import{M as v}from"./DshPJGOp.js";import{u as E}from"./CtedyP2E.js";import{q as L}from"./b0X0itRI.js";import{b as g}from"./DXZobaUo.js";import"./C1qWdVWl.js";import"./Bf9Uzmf0.js";import"./DvDH6DOc.js";import"./OS6YM8YA.js";import"./OfYkl04k.js";import"./CAZilBRX.js";const M={class:"container"},N={class:"articles"},j={__name:"index",async setup(P){let t,s;const r=d([]),n=q(b().public.minpress),l=B(),h=l.protocol+"//"+l.host;if(console.log(n),console.log(h),console.log("mode===>"+n.mode),n.mode===v.SSG){if(r.value.length<=0){const{data:e}=([t,s]=m(()=>E("home",()=>L().sort({_id:1}).find())),t=await t,s(),t);console.log("--------data SSG-----");const a=e.value.map(o=>u(o));r.value=a}}else if(n.mode===v.FCM)try{const{data:e}=([t,s]=m(()=>g("/api/md/query",{method:"POST",body:{pageNo:1,pageSize:9,sort:{createTime:-1,title:1}}},"$PslAyef5YX")),t=await t,s(),t);console.log(e.value.data);const a=e.value.data.map(o=>u(o));r.value=a}catch(e){console.warn(e)}else{const{data:e}=([t,s]=m(()=>g(n.metaUrl,"$6PO73qLRkI")),t=await t,s(),t);if(e.value.totalElements>0){const a=d([]);a.value=e.value.content.map(o=>C(o)),r.value=a.value}}return(e,a)=>{const o=y,S=R;return i(),c("div",null,[_(o),f("main",M,[f("div",N,[(i(!0),c(w,null,x(r.value,p=>(i(),c("div",{class:"article",key:p.id},[_(S,{item:p},null,8,["item"])]))),128))])])])}}};export{j as default};
