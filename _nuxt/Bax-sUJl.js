import{_ as V}from"./BReCjAFt.js";import{_ as q}from"./CrmhgK10.js";import{b as R,i as M,c as _,d as w}from"./DIZLPcGa.js";import{r as f,g as D,h as c,c as i,b as v,a as g,F as x,i as B,o as u}from"./Zb7AOJ8A.js";import{u as C}from"./Cmo6LZyQ.js";import{M as L}from"./g2xh0qhU.js";import{q as k}from"./CfEUPmZH.js";import{u as h}from"./CL0bMa0i.js";import{u as E}from"./CvAJxBXj.js";import{q as N}from"./Cf4Z249-.js";import"./DIh6scxJ.js";import"./DvDH6DOc.js";import"./6o9c_-GJ.js";const P={class:"container"},S={class:"articles"},H={__name:"index",async setup(U){let o,t;const n=f([]),l=R(D().public.minpress),m=C(),y=m.protocol+"//"+m.host;console.log(l),console.log(y);let d=M(m.hostname);if(console.log("isDevMode:"+d),l.mode===L.static){const s=([o,t]=c(()=>k()),o=await o,t(),o);if(console.log("mode===>"+s),s==="fcm")try{const{data:e}=([o,t]=c(()=>h("/api/md/query","$PslAyef5YX")),o=await o,t(),o),a=e.value.map(r=>_(r,d));n.value=a,console.log("***************"),console.log(a)}catch(e){console.warn(e)}else{console.log("static mode");const{data:e}=([o,t]=c(()=>E("home",()=>N().sort({_id:1}).find())),o=await o,t(),o);console.log("--------dataVVVVVVV-----"),console.log(e.value);const a=e.value.map(r=>_(r));n.value=a}}else{console.log("server mode");const{data:s}=([o,t]=c(()=>h(l.metaUrl,"$6PO73qLRkI")),o=await o,t(),o);if(s.value.totalElements>0){const e=f([]);e.value=s.value.content.map(a=>w(a)),n.value=e.value}}return(s,e)=>{const a=V,r=q;return u(),i("div",null,[v(a),g("main",P,[g("div",S,[(u(!0),i(x,null,B(n.value,p=>(u(),i("div",{class:"article",key:p.id},[v(r,{item:p},null,8,["item"])]))),128))])])])}}};export{H as default};
