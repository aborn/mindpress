import{t as a}from"./CxIZtCgj.js";function s(){let d=[],n={addEventListener(e,t,r,i){return e.addEventListener(t,r,i),n.add(()=>e.removeEventListener(t,r,i))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);n.add(()=>cancelAnimationFrame(t))},nextFrame(...e){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...e)})},setTimeout(...e){let t=setTimeout(...e);n.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return a(()=>{t.current&&e[0]()}),n.add(()=>{t.current=!1})},style(e,t,r){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:i})})},group(e){let t=s();return e(t),this.add(()=>t.dispose())},add(e){return d.push(e),()=>{let t=d.indexOf(e);if(t>=0)for(let r of d.splice(t,1))r()}},dispose(){for(let e of d.splice(0))e()}};return n}function u(d){function n(){document.readyState!=="loading"&&(d(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let o=[];u(()=>{function d(n){n.target instanceof HTMLElement&&n.target!==document.body&&o[0]!==n.target&&(o.unshift(n.target),o=o.filter(e=>e!=null&&e.isConnected),o.splice(10))}window.addEventListener("click",d,{capture:!0}),window.addEventListener("mousedown",d,{capture:!0}),window.addEventListener("focus",d,{capture:!0}),document.body.addEventListener("click",d,{capture:!0}),document.body.addEventListener("mousedown",d,{capture:!0}),document.body.addEventListener("focus",d,{capture:!0})});export{s as o,o as t};
