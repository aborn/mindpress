import{_ as h}from"./DdrDnK2J.js";import{_ as R}from"./CC1plwcF.js";import{b as y,i as D,c as M,d as x}from"./CiUac3It.js";import{r as p,g as B,h as _,c as i,b as d,a as f,F as C,i as q,o as m}from"./BchPmWLr.js";import{u as E}from"./pH6SvB2C.js";import{M as L}from"./g2xh0qhU.js";import{u as N}from"./CTp9jtI9.js";import{q as S}from"./B2VgunFx.js";import{u as U}from"./CLSwBx_K.js";import"./B7z9aXni.js";import"./DvDH6DOc.js";import"./HZGp3d0O.js";const b={class:"container"},k={class:"articles"},G={__name:"index",async setup(w){let e,a;const r=p([]),n=y(B().public.minpress),c=E(),v=c.protocol+"//"+c.host;console.log(n),console.log(v);let l=D(c.hostname);if(console.log("isDevMode:"+l),n.mode===L.static){console.log("static mode");const{data:t}=([e,a]=_(()=>N("home",()=>S().sort({_id:1}).find())),e=await e,a(),e),o=t.value.map(s=>M(s,l));r.value=o}else{console.log("server mode");const{data:t}=([e,a]=_(()=>U(n.metaUrl,"$PslAyef5YX")),e=await e,a(),e);if(t.value.totalElements>0){const o=p([]);o.value=t.value.content.map(s=>x(s)),r.value=o.value}}return(t,o)=>{const s=h,g=R;return m(),i("div",null,[d(s),f("main",b,[f("div",k,[(m(!0),i(C,null,q(r.value,u=>(m(),i("div",{class:"article",key:u.id},[d(g,{item:u},null,8,["item"])]))),128))])])])}}};export{G as default};
