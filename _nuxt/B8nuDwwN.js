const g=t=>{const e={articleid:t.articleid,authors:[{name:t.createBy,link:t.createBy}],category:t.category,createBy:t.createBy,createTime:t.createTime,editlink:"/edit/"+t.articleid,date:t.createTime,description:t.desc,id:t.id,isPublic:t.isPublic===1,likeCount:t.likeCountVo||0,permalink:"/article/"+t.articleid,reviewInfo:t.reviewInfo,status:t.status,space:t.space,tags:t.tags?t.tags.split(","):[],title:t.title,updateTime:t.updateTime,_type:"markdown"};if(t.highlight)for(let a in t.highlight){let i="";t.highlight.hasOwnProperty(a)&&(i+=t.highlight[a].join(" "));const r='<span style="color:red">',n=i.indexOf(r),l="</span>",o=i.lastIndexOf(l),s=100+r.length;if(n>=0){const c=n-10>0?n-10:0;let h=n+s>i.length?i.length-1:n+s;o>0&&(h=o+l.length>i.length?i.length-1:o+l.length);const u=i.substring(c,h);a==="content"?e.highlightHtml=u:a==="title"&&(e.highlightTitle=i)}}return e},f=t=>t==="localhost"||t==="127.0.0.1",d=(t,e)=>({title:t.title,description:t.description,permalinkOrigin:t.permalink,permalink:t.permalink?t.permalink:t._id?"/article?id="+t._id:t._path,date:t.date?t.date:new Date,createTime:t.date?t.date:new Date,id:t._id,articleid:t._id,author:t.author,_path:t._path,_id:t._id,authors:t.authors?t.authors:t.author?[t.author]:[]}),m=t=>({mode:t.mode,contentUrl:t.baseUrl+"content",metaUrl:t.baseUrl+"meta",spaceUrl:t.baseUrl+"space",searchUrl:t.baseUrl+"search"}),k=(t,e)=>t?new Date(t).toLocaleDateString(e||"en",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):"",y=t=>{console.log(t);const e=[];let a=t.authors;if(!a&&t.author&&(a=[t.author]),a){const i=a.length;a.forEach((r,n)=>{e.length<5&&(e.push(r.name),n!==i-1&&n!==2&&e.push("|"))})}return e.join(" ")},b=t=>{let e=t.split(`
`),a=0,i={},r=["title","author","categories","category","tags","tag","date","permalink","desc"],n=0;for(var l=0;l<e.length&&!(e[l].trim()==="---"&&(a++,n++,a===2));l++)if(e[l].includes(":")){let o=e[l].split(/:(.*)/s),s=o[0].trim(),c=o[1].trim();s==="author"?i[s]=p(c):r.indexOf(s)>=0&&(i[s]=c)}if(!i.desc){let o="",s=0;for(var l=n;l<e.length;l++)if(s>0&&(o+=e[l]),e[l].trim().startsWith("#")){if(s>0)break;s=l+1}i.desc=o}return i},p=t=>{let e=t.trim().startsWith("{")&&t.trim().endsWith("}")?t.substring(t.indexOf("{")+1,t.indexOf("}")):t,a={};for(let i of e.split(","))if(i.includes(":")){let r=i.split(":");a[r[0].trim()]=r[1].trim()}return a};export{k as a,m as b,d as c,g as d,f as i,y as m,b as s};
