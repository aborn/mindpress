const f=t=>{const e={articleid:t.articleid,authors:[{name:t.createBy,link:t.createBy}],category:t.category,createBy:t.createBy,createTime:t.createTime,editlink:"/edit/"+t.articleid,date:t.createTime,description:t.desc,id:t.id,isPublic:t.isPublic===1,likeCount:t.likeCountVo||0,permalink:"/article/"+t.articleid,reviewInfo:t.reviewInfo,status:t.status,space:t.space,tags:t.tags?t.tags.split(","):[],title:t.title,updateTime:t.updateTime,_type:"markdown"};if(t.highlight)for(let a in t.highlight){let i="";t.highlight.hasOwnProperty(a)&&(i+=t.highlight[a].join(" "));const s='<span style="color:red">',n=i.indexOf(s),l="</span>",o=i.lastIndexOf(l),r=100+s.length;if(n>=0){const c=n-10>0?n-10:0;let h=n+r>i.length?i.length-1:n+r;o>0&&(h=o+l.length>i.length?i.length-1:o+l.length);const u=i.substring(c,h);a==="content"?e.highlightHtml=u:a==="title"&&(e.highlightTitle=i)}}return e},g=t=>t==="localhost"||t==="127.0.0.1",d=(t,e)=>({title:t.title,description:t.description,permalinkOrigin:t.permalink,permalink:t.permalink?t.permalink:t._id?"/article/?id="+t._id:t._path,date:t.date?t.date:t.createTime?t.createTime:new Date,createTime:t.createTime?t.createTime:new Date,updateTime:t.updateTime?t.updateTime:t.date?t.date:new Date,id:t._id,articleid:t._id,author:t.author,_path:t._path,_id:t._id,authors:t.authors?t.authors:t.author?[t.author]:[]}),m=t=>({mode:t.mode,contentUrl:t.baseUrl+"content",metaUrl:t.baseUrl+"meta",spaceUrl:t.baseUrl+"space",searchUrl:t.baseUrl+"search"}),k=(t,e)=>t?new Date(t).toLocaleDateString(e||"en",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):"",T=t=>{const e=[];let a=t.authors;if(!a&&t.author&&(a=[t.author]),a){const i=a.length;a.forEach((s,n)=>{e.length<5&&(e.push(s.name),n!==i-1&&n!==2&&e.push("|"))})}return e.join(" ")},y=t=>{let e=t.split(`
`),a=0,i={},s=["title","author","categories","category","tags","tag","date","permalink","desc"],n=0;for(var l=0;l<e.length&&!(e[l].trim()==="---"&&(a++,n++,a===2));l++)if(e[l].includes(":")){let o=e[l].split(/:(.*)/s),r=o[0].trim(),c=o[1].trim();r==="author"?i[r]=p(c):s.indexOf(r)>=0&&(i[r]=c)}if(!i.desc){let o="",r=0;for(var l=n;l<e.length;l++)if(r>0&&(o+=e[l]),e[l].trim().startsWith("#")){if(r>0)break;r=l+1}i.desc=o}return i},p=t=>{let e=t.trim().startsWith("{")&&t.trim().endsWith("}")?t.substring(t.indexOf("{")+1,t.indexOf("}")):t,a={};for(let i of e.split(","))if(i.includes(":")){let s=i.split(":");a[s[0].trim()]=s[1].trim()}return a};export{k as a,m as b,d as c,f as d,g as i,T as m,y as s};
