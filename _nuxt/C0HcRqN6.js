import{_ as h}from"./CnqKLyX9.js";import{_ as R}from"./CXIGGX_l.js";import{m as y,i as D,b as M,c as x}from"./BSkel07v.js";import{r as p,f as B,g as _,c,b as d,a as f,F as C,i as q,o as i}from"./CQJaGi-r.js";import{u as E}from"./D6wqEjXS.js";import{M as L}from"./g2xh0qhU.js";import{u as N}from"./C1HWiWsi.js";import{q as S}from"./CJI6kKu1.js";import{u as U}from"./BejWhX5D.js";import"./BCQP9xwi.js";import"./DvDH6DOc.js";import"./fEg3WBUa.js";const b={class:"container"},k={class:"articles"},G={__name:"index",async setup(w){let e,a;const r=p([]),n=y(B().public.minpress),m=E(),v=m.protocol+"//"+m.host;console.log(n),console.log(v);let l=D(m.hostname);if(console.log("isDevMode:"+l),n.mode===L.static){console.log("static mode");const{data:t}=([e,a]=_(()=>N("home",()=>S().sort({_id:1}).find())),e=await e,a(),e),o=t.value.map(s=>M(s,l));r.value=o}else{console.log("server mode");const{data:t}=([e,a]=_(()=>U(n.metaUrl,"$PslAyef5YX")),e=await e,a(),e);if(t.value.totalElements>0){const o=p([]);o.value=t.value.content.map(s=>x(s)),r.value=o.value}}return(t,o)=>{const s=h,g=R;return i(),c("div",null,[d(s),f("main",b,[f("div",k,[(i(!0),c(C,null,q(r.value,u=>(i(),c("div",{class:"article",key:u.id},[d(g,{item:u},null,8,["item"])]))),128))])])])}}};export{G as default};
