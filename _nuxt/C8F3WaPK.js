import{_ as V}from"./Cu2iXnnl.js";import{_ as q}from"./BYoy9IEO.js";import{b as R,i as M,c as _,d as w}from"./DIZLPcGa.js";import{r as f,g as D,h as c,c as u,b as v,a as g,F as x,i as B,o as d}from"./DOqSFjtK.js";import{u as C}from"./Uxguswxc.js";import{M as L}from"./g2xh0qhU.js";import{q as k}from"./Qh6YXNAF.js";import{u as h}from"./BI2u1nzg.js";import{u as E}from"./BbXdhYsK.js";import{q as N}from"./0h6Ed8BA.js";import"./CcNhtY2w.js";import"./DvDH6DOc.js";import"./DLQ0ovf-.js";const P={class:"container"},S={class:"articles"},H={__name:"index",async setup(U){let o,t;const r=f([]),m=R(D().public.minpress),l=C(),y=l.protocol+"//"+l.host;console.log(m),console.log(y);let i=M(l.hostname);if(console.log("isDevMode:"+i),m.mode===L.static)if(([o,t]=c(()=>k()),o=await o,t(),o)==="fcm"&&!i)try{const{data:e}=([o,t]=c(()=>h("/api/md/query","$PslAyef5YX")),o=await o,t(),o),a=e.value.map(s=>_(s,i));r.value=a,console.log("***************"),console.log(a)}catch(e){console.warn(e)}else{console.log("static mode");const{data:e}=([o,t]=c(()=>E("home",()=>N().sort({_id:1}).find())),o=await o,t(),o);console.log("--------dataVVVVVVV-----"),console.log(e.value);const a=e.value.map(s=>_(s));r.value=a}else{console.log("server mode");const{data:n}=([o,t]=c(()=>h(m.metaUrl,"$6PO73qLRkI")),o=await o,t(),o);if(n.value.totalElements>0){const e=f([]);e.value=n.value.content.map(a=>w(a)),r.value=e.value}}return(n,e)=>{const a=V,s=q;return d(),u("div",null,[v(a),g("main",P,[g("div",S,[(d(!0),u(x,null,B(r.value,p=>(d(),u("div",{class:"article",key:p.id},[v(s,{item:p},null,8,["item"])]))),128))])])])}}};export{H as default};
