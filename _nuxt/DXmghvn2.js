import{_ as b}from"./CjiEw_nX.js";import{_ as T}from"./Bp00swNi.js";import{_ as M}from"./37eWAXfI.js";import{_ as C}from"./VW2_teCE.js";import{b as N,c as S,d as B}from"./CvIXsaFB.js";import{h as E,q as c,D as q,o as d,c as f,b as _,a as u,I as D,W as F,X as P,w as V,d as U,B as L,z as g,F as $,A as G}from"./BSy4vkLm.js";import{M as y}from"./DshPJGOp.js";import{s as H}from"./Cn9VcFDr.js";import{b as I}from"./BesPgHLl.js";import"./kgxOG7eA.js";import"./DvDH6DOc.js";import"./CzuAhjsQ.js";import"./DDk-EgDL.js";import"./CAZilBRX.js";import"./BSDPbCfE.js";const O={class:"container"},R=["innerHTML"],j={class:"articles"},re=E({__name:"index",setup(z){const i=c(""),m=N(q().public.minpress),e=c(""),a=c([]),s=c(!1);console.log("search....."),console.log("mode===>"+m.mode);const k=c(1);function w(p){const l=m.searchUrl+"?q="+p;if(console.log(l),m.mode===y.SSG)a.value=[],e.value="no markdown file find."+m.mode,s.value=!1;else if(m.mode===y.FCM)try{const o="/api/md/search";let t=performance.now();s.value=!0,H({pageNo:k.value,url:o,q:p}).then(n=>{if(n){a.value=n.map(x=>S(x));let r=(performance.now()-t).toFixed(2);e.value='find <span style="color:red">'+n.length+`</span> markdown files. Time cost: ${r} milliseconds.`}else e.value='find <span style="color:red">0</span> markdown files.';s.value=!1},n=>{s.value=!1})}catch(o){console.warn(o)}else I(l,{key:l+p},"$9f7SGOEuTp").then(o=>{const t=o.data.value;console.log(t),t&&t.totalElements>0?(a.value=t.content.map(n=>B(n)),e.value='find <span style="color:red">'+t.totalElements+"</span> markdown files.",console.log(a.value),console.log(e.value)):(a.value=[],e.value="no markdown file find.")},o=>{e.value="http request error. "+o,a.value=[]})}function v(){if(console.log("submit... q="+i.value),!i.value){a.value=[],e.value="";return}w(i.value)}return(p,l)=>{const o=b,t=T,n=M,h=C;return d(),f("div",null,[_(o),u("main",O,[u("form",{onSubmit:D(v,["prevent"]),style:{display:"flex","justify-content":"center","margin-bottom":"0rem"}},[F(u("input",{type:"text",style:{height:"2.5rem"},"onUpdate:modelValue":l[0]||(l[0]=r=>i.value=r),placeholder:"Please input your keyword."},null,512),[[P,i.value]]),_(t,{onclick:v,icon:"i-heroicons-magnifying-glass-16-solid",style:{width:"10rem","margin-left":"10px"},block:""},{default:V(()=>[U("Search")]),_:1})],32),u("label",{style:{"margin-bottom":"1rem"},innerHTML:e.value},null,8,R),s.value?(d(),L(n,{key:0,animation:"carousel"})):g("",!0),u("div",j,[s.value?g("",!0):(d(!0),f($,{key:0},G(a.value,r=>(d(),f("div",{class:"article",key:r.id},[_(h,{item:r},null,8,["item"])]))),128))])])])}}});export{re as default};
