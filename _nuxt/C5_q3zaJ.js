const g=t=>{const e={articleid:t.articleid,authors:[{name:t.createBy,link:t.createBy}],category:t.category,createBy:t.createBy,createTime:t.createTime,editlink:"/edit/"+t.articleid,date:t.createTime,description:t.desc,id:t.id,isPublic:t.isPublic===1,likeCount:t.likeCountVo||0,permalink:"/article/"+t.articleid,reviewInfo:t.reviewInfo,status:t.status,space:t.space,tags:t.tags?t.tags.split(","):[],title:t.title,updateTime:t.updateTime,_type:"markdown"};if(t.highlight)for(let a in t.highlight){let i="";t.highlight.hasOwnProperty(a)&&(i+=t.highlight[a].join(" "));const s='<span style="color:red">',l=i.indexOf(s),n="</span>",o=i.lastIndexOf(n),r=100+s.length;if(l>=0){const c=l-10>0?l-10:0;let h=l+r>i.length?i.length-1:l+r;o>0&&(h=o+n.length>i.length?i.length-1:o+n.length);const u=i.substring(c,h);a==="content"?e.highlightHtml=u:a==="title"&&(e.highlightTitle=i)}}return e},f=t=>({title:t.title,description:t.description,permalinkOrigin:t.permalink,permalink:t.permalink?t.permalink:t._id?"/article?id="+t._id:t._path,date:t.date?t.date:t.createTime?t.createTime:new Date,createTime:t.createTime?t.createTime:new Date,updateTime:t.updateTime?t.updateTime:t.date?t.date:new Date,id:t._id,articleid:t._id,author:t.author,_path:t._path,_id:t._id,editlink:"/edit/"+t._id,authors:t.authors?t.authors:t.author?[t.author]:[]}),d=t=>({mode:t.mode,contentUrl:t.baseUrl+"content",metaUrl:t.baseUrl+"meta",spaceUrl:t.baseUrl+"space",searchUrl:t.baseUrl+"search"}),m=(t,e="en")=>t?new Date(t).toLocaleDateString(e||"en",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):"",k=t=>{const e=[];let a=t.authors;if(!a&&t.author&&(a=[t.author]),a){const i=a.length;a.forEach((s,l)=>{e.length<5&&(e.push(s.name),l!==i-1&&l!==2&&e.push("|"))})}return e.join(" ")},T=t=>{let e=t.split(`
`),a=0,i={},s=["title","author","categories","category","tags","tag","date","permalink","desc"],l=0;for(var n=0;n<e.length&&!(e[n].trim()==="---"&&(a++,l++,a===2));n++)if(e[n].includes(":")){let o=e[n].split(/:(.*)/s),r=o[0].trim(),c=o[1].trim();r==="author"?i[r]=p(c):s.indexOf(r)>=0&&(i[r]=c)}if(!i.desc){let o="",r=0;for(var n=l;n<e.length;n++)if(r>0&&(o+=e[n]),e[n].trim().startsWith("#")){if(r>0)break;r=n+1}i.desc=o}return i},p=t=>{let e=t.trim().startsWith("{")&&t.trim().endsWith("}")?t.substring(t.indexOf("{")+1,t.indexOf("}")):t,a={};for(let i of e.split(","))if(i.includes(":")){let s=i.split(":");a[s[0].trim()]=s[1].trim()}return a};export{m as a,d as b,f as c,g as d,k as m,T as s};
