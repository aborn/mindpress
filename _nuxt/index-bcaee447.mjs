import{_}from"./NavBar-24001c5c.mjs";import{_ as p}from"./PostCard-1a36e5d4.mjs";import{_ as f,y as l,l as g,o as c,i as m,k as u,n as a,Q as v,G as b,H as y,K as w,L as x}from"./entry-a10c5f71.mjs";import{m as k,u as S,b as B}from"./utils-9ec78e61.mjs";const L={data:()=>({hint:"",search:"",mp:{},articles:[]}),methods:{searchShows(s){const e=this.mp.searchUrl+"?q="+s.value;console.log(e),S(e).then(n=>{const t=n.data.value;if(console.log(t),t.totalElements>0){const o=l([]);o.value=t.content.map(i=>B(i)),this.articles=o.value,this.hint='find <span style="color:red">'+t.totalElements+"</span> markdown files.",console.log(this.articles),console.log(this.hint)}else this.articles=[],this.hint="no markdown file find."},n=>{this.hint="http request error. "+n,this.articles=[]})},submit(s){console.log(s);const e=l(this.search);console.log("submit... q="+e.value),e.value&&this.searchShows(e)}}},M=Object.assign(L,{__name:"index",setup(s,{expose:e}){e();const n=l(""),t=k(g().public.minpress),o={search:n,mp:t,ref:l};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),T={class:"container"},j=a("button",{class:"outline",style:{"margin-left":".5rem",height:"2.5rem",width:"10rem"}},"Search",-1),q=["innerHTML"],C={class:"articles"};function E(s,e,n,t,o,i){const h=_,d=p;return c(),m("div",null,[u(h),a("main",T,[a("form",{onSubmit:e[1]||(e[1]=v((...r)=>i.submit&&i.submit(...r),["prevent"])),style:{display:"flex","justify-content":"center","margin-bottom":"0rem"}},[b(a("input",{type:"text",style:{height:"2.5rem"},"onUpdate:modelValue":e[0]||(e[0]=r=>t.search=r),placeholder:"Please input your keyword."},null,512),[[y,t.search]]),j],32),a("label",{style:{"margin-bottom":"1rem"},innerHTML:s.hint},null,8,q),a("div",C,[(c(!0),m(w,null,x(s.articles,r=>(c(),m("div",{class:"article",key:r.id},[u(d,{item:r},null,8,["item"])]))),128))])])])}var F=f(M,[["render",E]]);export{F as default};
