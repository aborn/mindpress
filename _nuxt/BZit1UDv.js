import{_ as y}from"./DuoXotSW.js";import{_ as w}from"./Cva4h8kc.js";import{_ as k}from"./BJE6Pgui.js";import{b,c as x,d as M}from"./CvIXsaFB.js";import{h as S,q as u,D as N,o as p,c as d,b as f,a as i,I as T,W as C,X as E,w as q,d as B,F as D,A as F}from"./phpWZdgF.js";import{M as v}from"./DshPJGOp.js";import{s as P}from"./IEt2pOAE.js";import{b as V}from"./C-DxBFI5.js";import"./4aEf34Wd.js";import"./DvDH6DOc.js";import"./Dmrag6x9.js";import"./BagyJoSl.js";import"./CAZilBRX.js";import"./DXSXPMPw.js";const L={class:"container"},U=["innerHTML"],G={class:"articles"},ee=S({__name:"index",setup(H){const s=u(""),l=b(N().public.minpress),o=u(""),t=u([]);console.log("search....."),console.log("mode===>"+l.mode);const h=u(1);function g(m){const a=l.searchUrl+"?q="+m;if(console.log(a),l.mode===v.SSG)t.value=[],o.value="no markdown file find."+l.mode;else if(l.mode===v.FCM)try{P({pageNo:h.value,url:"/api/md/search",q:m}).then(e=>{e?(t.value=e.map(r=>x(r)),o.value='find <span style="color:red">'+e.length+"</span> markdown files."):o.value='find <span style="color:red">0</span> markdown files.'},e=>{})}catch(n){console.warn(n)}else V(a,{key:a+m},"$9f7SGOEuTp").then(n=>{const e=n.data.value;console.log(e),e&&e.totalElements>0?(t.value=e.content.map(r=>M(r)),o.value='find <span style="color:red">'+e.totalElements+"</span> markdown files.",console.log(t.value),console.log(o.value)):(t.value=[],o.value="no markdown file find.")},n=>{o.value="http request error. "+n,t.value=[]})}function _(){if(console.log("submit... q="+s.value),!s.value){t.value=[],o.value="";return}g(s.value)}return(m,a)=>{const n=y,e=w,r=k;return p(),d("div",null,[f(n),i("main",L,[i("form",{onSubmit:T(_,["prevent"]),style:{display:"flex","justify-content":"center","margin-bottom":"0rem"}},[C(i("input",{type:"text",style:{height:"2.5rem"},"onUpdate:modelValue":a[0]||(a[0]=c=>s.value=c),placeholder:"Please input your keyword."},null,512),[[E,s.value]]),f(e,{onclick:_,icon:"i-heroicons-magnifying-glass-16-solid",style:{width:"10rem","margin-left":"10px"},block:""},{default:q(()=>[B("Search")]),_:1})],32),i("label",{style:{"margin-bottom":"1rem"},innerHTML:o.value},null,8,U),i("div",G,[(p(!0),d(D,null,F(t.value,c=>(p(),d("div",{class:"article",key:c.id},[f(r,{item:c},null,8,["item"])]))),128))])])])}}});export{ee as default};
