import{_ as h}from"./B_tmR_Kw.js";import{_ as R}from"./FV7NXX8e.js";import{m as y,i as D,b as M,c as x}from"./ChfIlkBR.js";import{r as u,f as B,g as p,c,b as _,a as d,F as C,i as q,o as i}from"./Br4mPX4N.js";import{u as E}from"./B4lObqHI.js";import{M as L}from"./g2xh0qhU.js";import{u as N}from"./CL5Agz9r.js";import{q as S}from"./YCH8A9sM.js";import{u as U}from"./vkICH1dm.js";import"./DTfFc5cm.js";import"./DvDH6DOc.js";import"./DPZ42PP7.js";const b={class:"container"},k={class:"articles"},G={__name:"index",async setup(w){let e,a;const r=u([]),n=y(B().public.minpress),m=E(),f=m.protocol+"//"+m.host;console.log(n),console.log(f);let v=D(m.hostname);if(console.log("isDevMode:"+v),n.mode===L.static){console.log("static mode");const{data:t}=([e,a]=p(()=>N("home",()=>S().sort({_id:1}).find())),e=await e,a(),e),o=t.value.map(s=>M(s));r.value=o}else{console.log("server mode");const{data:t}=([e,a]=p(()=>U(n.metaUrl,"$PslAyef5YX")),e=await e,a(),e);if(t.value.totalElements>0){const o=u([]);o.value=t.value.content.map(s=>x(s)),r.value=o.value}}return(t,o)=>{const s=h,g=R;return i(),c("div",null,[_(s),d("main",b,[d("div",k,[(i(!0),c(C,null,q(r.value,l=>(i(),c("div",{class:"article",key:l.id},[_(g,{item:l},null,8,["item"])]))),128))])])])}}};export{G as default};
