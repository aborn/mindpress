import{_ as R}from"./DMGU4WNi.js";import{_ as S}from"./DSQjBMvt.js";import{b as q,c as p,d as x}from"./tRb40OuR.js";import{x as d,H as C,I as m,c,b as _,a as f,F as w,D as B,o as i}from"./0VmqX8Pe.js";import{u as L}from"./Dwcg0_5Q.js";import{M as v}from"./DshPJGOp.js";import{u as M}from"./CKcVQbgC.js";import{q as k}from"./J3oegvoJ.js";import{u as h}from"./Da_yB0kA.js";import"./DBljpKhT.js";import"./DgydWD8w.js";import"./DIYvxlDG.js";import"./BQkc-AXV.js";import"./DvDH6DOc.js";import"./BuJkFgm0.js";const D={class:"container"},E={class:"articles"},j={__name:"index",async setup(F){let t,s;const r=d([]),n=q(C().public.minpress),l=L(),g=l.protocol+"//"+l.host;if(console.log(n),console.log(g),console.log("mode===>"+n.mode),n.mode===v.SSG){if(r.value.length<=0){const{data:e}=([t,s]=m(()=>M("home",()=>k().sort({_id:1}).find())),t=await t,s(),t);console.log("--------data SSG-----");const a=e.value.map(o=>p(o));r.value=a}}else if(n.mode===v.FCM)try{const{data:e}=([t,s]=m(()=>h("/api/md/query","$PslAyef5YX")),t=await t,s(),t),a=e.value.map(o=>p(o));r.value=a}catch(e){console.warn(e)}else{const{data:e}=([t,s]=m(()=>h(n.metaUrl,"$6PO73qLRkI")),t=await t,s(),t);if(e.value.totalElements>0){const a=d([]);a.value=e.value.content.map(o=>x(o)),r.value=a.value}}return(e,a)=>{const o=R,y=S;return i(),c("div",null,[_(o),f("main",D,[f("div",E,[(i(!0),c(w,null,B(r.value,u=>(i(),c("div",{class:"article",key:u.id},[_(y,{item:u},null,8,["item"])]))),128))])])])}}};export{j as default};
