import{_ as R}from"./C5RXCEce.js";import{_ as M}from"./O4yGgMHf.js";import{b as q,i as C,c as d,d as D}from"./UNtwXuXg.js";import{r as p,g as S,h as m,c as i,b as _,a as f,F as w,i as x,o as l}from"./k8h7Q78W.js";import{u as B}from"./CS0neVLv.js";import{M as v}from"./DshPJGOp.js";import{u as L}from"./CZJPFNrQ.js";import{q as k}from"./BRTiDoyY.js";import{u as h}from"./CY8TaWz5.js";import"./BkCmYd-W.js";import"./DvDH6DOc.js";import"./BXXddnnf.js";const E={class:"container"},F={class:"articles"},j={__name:"index",async setup(N){let e,s;const r=p([]),n=q(S().public.minpress),c=B(),g=c.protocol+"//"+c.host;console.log(n),console.log(g);let V=C(c.hostname);if(console.log("isDevMode:"+V),console.log("mode===>"+n.mode),n.mode===v.SSG){if(r.value.length<=0){const{data:t}=([e,s]=m(()=>L("home",()=>k().sort({_id:1}).find())),e=await e,s(),e);console.log("--------dataVVVVVVV-----");const a=t.value.map(o=>d(o));r.value=a}}else if(n.mode===v.FCM)try{const{data:t}=([e,s]=m(()=>h("/api/md/query","$PslAyef5YX")),e=await e,s(),e),a=t.value.map(o=>d(o));r.value=a}catch(t){console.warn(t)}else{const{data:t}=([e,s]=m(()=>h(n.metaUrl,"$6PO73qLRkI")),e=await e,s(),e);if(t.value.totalElements>0){const a=p([]);a.value=t.value.content.map(o=>D(o)),r.value=a.value}}return(t,a)=>{const o=R,y=M;return l(),i("div",null,[_(o),f("main",E,[f("div",F,[(l(!0),i(w,null,x(r.value,u=>(l(),i("div",{class:"article",key:u.id},[_(y,{item:u},null,8,["item"])]))),128))])])])}}};export{j as default};
