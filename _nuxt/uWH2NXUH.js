import{_ as w}from"./DEla3lQn.js";import{_ as F}from"./y2sVCqiy.js";import V from"./GV5k4iql.js";import N from"./BAC6ZWGb.js";import S from"./B8a3Ap_J.js";import{b as U,c as T,d as D,a as E}from"./CS_T3frf.js";import{r as p,h as M,G as q,i as _,j as g,c as B,b as m,a as d,w as u,f as R,m as $,o as A,d as P,t as j}from"./Bqnd1YEV.js";import{u as G}from"./Bsu8SNyA.js";import{M as y}from"./DshPJGOp.js";import{q as I}from"./WeVvagF4.js";import"./CBFedrLV.js";import"./DWrVQmg9.js";import"./Dvlp8htJ.js";import"./qMIhA3pu.js";import"./Bri_7zzn.js";import"./BeIXggyZ.js";import"./BTaUj5aw.js";import"./CgVkkDzh.js";import"./CTZ2Hakn.js";import"./eKH4vHJG.js";import"./blSOxsGD.js";import"./J83razt3.js";import"./6bm_RRcn.js";import"./QwubxqEi.js";import"./NPkJpnse.js";const L={class:"container"},Q={class:"article-meta"},J=d("span",{class:"article-edit"},"Edit",-1),O={class:"flex justify-end px-3 py-3.5 border-t border-gray-200 dark:border-gray-700"},f=9,xe={__name:"index",async setup(Z){let t,n;const s=p([]),c=U(M().public.mindpress),i=E;G();const x=p([...[{key:"title",label:"Title"},{key:"createTimeF",label:"Create Time"},{key:"updateTimeF",label:"Update Time"},{key:"actions",label:"Actions"}]]),l=p(1),b=q(()=>s.value.slice((l.value-1)*f,l.value*f));if(console.log("mode===>"+c.mode),c.mode===y.SSG){console.log("static mode");const{data:a}=([t,n]=_(()=>$("home",()=>I().find())),t=await t,n(),t),o=a.value.map(e=>T(e));s.value=o.map(e=>(e.updateTimeF=i(e.updateTime),e.createTimeF=i(e.createTime),e)),s.value=o}else if(c.mode===y.FCM)try{const{data:a}=([t,n]=_(()=>g("/api/md/query","$bVgVCtepJP")),t=await t,n(),t),o=a.value.map(e=>T(e));s.value=o.map(e=>(e.updateTimeF=i(e.updateTime),e.createTimeF=i(e.createTime),e))}catch(a){console.warn(a)}else{console.log("server mode");const{data:a}=([t,n]=_(()=>g(c.metaUrl,"$VQM0Z5geNE")),t=await t,n(),t);if(a.value.totalElements>0){const o=p([]);o.value=a.value.content.map(e=>D(e)),s.value=o.value}}return(a,o)=>{const e=w,v=F,h=V,k=N,C=S;return A(),B("div",null,[m(e),d("main",L,[m(k,{columns:x.value,rows:R(b)},{"title-data":u(({row:r})=>[m(v,{to:r.permdlink},{default:u(()=>[P(j(r.title),1)]),_:2},1032,["to"])]),"actions-data":u(({row:r})=>[d("span",Q,[m(v,{to:r.editlink},{default:u(()=>[m(h,{name:"i-heroicons-pencil-square"}),J]),_:2},1032,["to"])])]),_:1},8,["columns","rows"]),d("div",O,[m(C,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=r=>l.value=r),"page-count":f,total:s.value.length},null,8,["modelValue","total"])])])])}}};export{xe as default};
