import{_ as g}from"./ISBnj_Oo.js";import{_ as h}from"./98UFl2Qt.js";import{m as R,b as y,c as x}from"./N8Y1yk_7.js";import{r as u,f as B,g as p,c as m,b as _,a as d,F as C,i as q,o as c}from"./BQooEwJo.js";import{u as E}from"./CcxiKJYR.js";import{M as L}from"./g2xh0qhU.js";import{u as M}from"./4zkkVl8u.js";import{q as N}from"./DbiPCDCQ.js";import{u as S}from"./Dhzyllz3.js";import"./HvyInYOh.js";import"./DvDH6DOc.js";import"./C6as0VBy.js";const U={class:"container"},b={class:"articles"},j={__name:"index",async setup(k){let t,a;const r=u([]),n=R(B().public.minpress),i=E(),f=i.protocol+"//"+i.host;if(console.log(n),console.log(f),n.mode===L.static){console.log("static mode");const{data:e}=([t,a]=p(()=>M("home",()=>N().sort({_id:1}).find())),t=await t,a(),t),o=e.value.map(s=>y(s));r.value=o}else{console.log("server mode");const{data:e}=([t,a]=p(()=>S(n.metaUrl,"$PslAyef5YX")),t=await t,a(),t);if(e.value.totalElements>0){const o=u([]);o.value=e.value.content.map(s=>x(s)),r.value=o.value}}return(e,o)=>{const s=g,v=h;return c(),m("div",null,[_(s),d("main",U,[d("div",b,[(c(!0),m(C,null,q(r.value,l=>(c(),m("div",{class:"article",key:l.id},[_(v,{item:l},null,8,["item"])]))),128))])])])}}};export{j as default};
