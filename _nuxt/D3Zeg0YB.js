var Pl=Object.defineProperty;var vi=e=>{throw TypeError(e)};var Bl=(e,t,n)=>t in e?Pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>Bl(e,typeof t!="symbol"?t+"":t,n),Zn=(e,t,n)=>t.has(e)||vi("Cannot "+n);var h=(e,t,n)=>(Zn(e,t,"read from private field"),n?n.call(e):t.get(e)),X=(e,t,n)=>t.has(e)?vi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,o)=>(Zn(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),O=(e,t,n)=>(Zn(e,t,"access private method"),n);var an=(e,t,n,o)=>({set _(i){H(e,t,i,n)},get _(){return h(e,t,o)}});import{_ as Rl}from"./Cgerfk6U.js";import Hl from"./B3JRbHJ1.js";import{_ as jl}from"./DqZmW5Rw.js";import{_ as Nl,n as Ul,o as _n,q as so,w as Ge,s as Wl,v as Vl,x as le,y as q,b as p,z as ye,r as V,A as W,B as ae,C as Xt,D as ao,E as mt,G as ke,H as Ue,T as ql,I as Gl,J as Ze,F as Rn,K as Je,L as Zl,g as bi,h as Xl,i as cn,j as Kl,c as Ql,a as kn,M as Jl,N as Yl,l as _i,f as Xn,d as Kn}from"./D6ngAd8t.js";import es from"./C6SBaOt5.js";import ts from"./BjsH2BQB.js";import ns from"./ByTMkn6z.js";import os from"./CsSiDD7l.js";import is from"./BI66fd6o.js";import{c as rs}from"./BjbDE7hK.js";import{u as ls}from"./Dwcg0_5Q.js";import{M as Ye}from"./DshPJGOp.js";import{s as ss,a as as,i as cs}from"./CY1gv12X.js";import{q as ki}from"./3EvPgMXE.js";import{l as Fr,c as us}from"./7CiI2pVq.js";import{b as ds,s as fs,a as yi}from"./DtlU0Yam.js";import{E as Qe,H as Dr,t as E,s as Tr,k as hs,d as ms,h as ps,i as gs,a as Ci,u as vs,r as bs,b as _s,c as Xe,e as Qn,f as ks,p as ys,C as wt,g as Cs,S as xs,j as ws}from"./Bufd6AOs.js";import{l as As}from"./5KMA2Za-.js";import{markdown as Es}from"./lIK7pvj4.js";import{g as Sr}from"./BosuxZz1.js";import"./rsv2OuEX.js";import"./BvwqRU9-.js";import"./DwX4sQ8S.js";import"./BpZh8ZVW.js";import"./DqBrWh9h.js";import"./CTZ2Hakn.js";import"./Dd-DcO-u.js";import"./blSOxsGD.js";import"./BRvcGhgU.js";import"./Bri_7zzn.js";import"./CsyXPHkS.js";import"./BVeP1Ugd.js";import"./C0aiMLI2.js";import"./CaV-aHZM.js";import"./CmZZa95N.js";import"./VaMRxlFD.js";import"./Ce6uBLy-.js";import"./B08LnwSc.js";import"./CxIZtCgj.js";import"./CH7DZWgY.js";import"./DcdWqMh8.js";const Fs={name:Ul,props:{placeholder:String,tag:{type:String,default:"span"}}};function Ds(e,t,n,o,i,r){const l=Vl;return _n(),so(l,{placeholder:n.placeholder,"placeholder-tag":n.tag},{default:Ge(()=>[Wl(e.$slots,"default")]),_:3},8,["placeholder","placeholder-tag"])}const Ts=Nl(Fs,[["render",Ds]]),Ss=e=>{const t=typeof e;return t!=="function"&&t!=="object"||e===null},$s=e=>{const t=e.flags===""?void 0:e.flags;return new RegExp(e.source,t)},Pt=(e,t=new WeakMap)=>{if(e===null||Ss(e))return e;if(t.has(e))return t.get(e);if(e instanceof RegExp)return $s(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof Function)return e;if(e instanceof Map){const o=new Map;return t.set(e,o),e.forEach((i,r)=>{o.set(r,Pt(i,t))}),o}if(e instanceof Set){const o=new Set;t.set(e,o);for(const i of e)o.add(Pt(i,t));return o}if(Array.isArray(e)){const o=[];return t.set(e,o),e.forEach(i=>{o.push(Pt(i,t))}),o}const n={};t.set(e,n);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=Pt(e[o],t));return n},Ao=(e,t=200)=>{let n=0;return(...o)=>new Promise(i=>{n&&(clearTimeout(n),i("cancel")),n=window.setTimeout(()=>{e.apply(void 0,o),n=0,i("done")},t)})},Is=(e,t={_blank:!0,nofollow:!0})=>{const n=document.createElement("a");n.href=e,t._blank&&(n.target="_blank"),t.nofollow&&(n.rel="noopener noreferrer"),n.click()},Ls=()=>{let e=-1;return(t,n,o,i=100)=>{const r=()=>{o&&(typeof i=="number"?setTimeout(o,i):o())};e!==-1&&(cancelAnimationFrame(e),r());let l=t.scrollTop;const s=()=>{e=-1;const a=n-l;l=l+a/5,Math.abs(a)<1?(t.scrollTo(0,n),r()):(t.scrollTo(0,l),e=requestAnimationFrame(s))};e=requestAnimationFrame(s)}},zs=(e,t=200)=>{let n=0,o=null;const i=r=>{n===0&&(n=r),r-n>=t?(e.apply(void 0,o),o=null,n=0):window.requestAnimationFrame(i)};return(...r)=>{o===null&&window.requestAnimationFrame(i),o=r}},Ms=e=>{const t=n=>{const{scrollHeight:o,scrollWidth:i,offsetHeight:r,offsetWidth:l,scrollLeft:s,scrollTop:a}=e,c=n.x,u=n.y,d=b=>{const f=a+u-b.y,v=s+c-b.x,k=o-r,_=i-l,y={};v>=0&&v<=_&&(y.left=v),f>=0&&f<=k&&(y.top=f),e.scroll(y)};document.addEventListener("mousemove",d);const g=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",g)};document.addEventListener("mouseup",g)};return e.addEventListener("mousedown",t),()=>{e.removeEventListener("mousedown",t)}},co=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,xi=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),$r=(e,t)=>{for(const n in t)xi(t[n])&&xi(e[n])?e[n]=$r(e[n],t[n]):e[n]=t[n];return e},m="md-editor",Os="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",Ps="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",ie="https://cdnjs.cloudflare.com/ajax/libs",Bs=`${ie}/highlight.js/11.8.0/highlight.min.js`,wi={main:`${ie}/prettier/2.8.0/standalone.js`,markdown:`${ie}/prettier/2.8.0/parser-markdown.js`},Rs={css:`${ie}/cropperjs/1.5.13/cropper.min.css`,js:`${ie}/cropperjs/1.5.13/cropper.min.js`},Hs=`${ie}/screenfull.js/5.2.0/screenfull.min.js`,Ir=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],Lr=["markdownTotal","=","scrollSwitch"],Ai={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},js=`${ie}/mermaid/10.6.1/mermaid.esm.min.mjs`,Ns={js:`${ie}/KaTeX/0.16.9/katex.min.js`,css:`${ie}/KaTeX/0.16.9/katex.min.css`},uo={a11y:{light:`${ie}/highlight.js/11.8.0/styles/a11y-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/a11y-dark.min.css`},atom:{light:`${ie}/highlight.js/11.8.0/styles/atom-one-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/atom-one-dark.min.css`},github:{light:`${ie}/highlight.js/11.8.0/styles/github.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/github-dark.min.css`},gradient:{light:`${ie}/highlight.js/11.8.0/styles/gradient-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/gradient-dark.min.css`},kimbie:{light:`${ie}/highlight.js/11.8.0/styles/kimbie-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/kimbie-dark.min.css`},paraiso:{light:`${ie}/highlight.js/11.8.0/styles/paraiso-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${ie}/highlight.js/11.8.0/styles/qtcreator-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${ie}/highlight.js/11.8.0/styles/stackoverflow-light.min.css`,dark:`${ie}/highlight.js/11.8.0/styles/stackoverflow-dark.min.css`}},he={editorExtensions:{highlight:{js:Bs,css:uo},prettier:{standaloneJs:wi.main,parserMarkdownJs:wi.markdown},cropper:{...Rs},iconfont:Os,iconfontClass:Ps,screenfull:{js:Hs},mermaid:{js},katex:{...Ns}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{},markdownItPlugins:e=>e,iconfontType:"svg",mermaidConfig:e=>e},un=170,Se=({instance:e,ctx:t,props:n={}},o="default")=>{const i=(e==null?void 0:e.$slots[o])||(t==null?void 0:t.slots[o]);return(i?i(e):"")||n[o]},Us={overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},At=le({props:Us,setup(e,t){const n=`${m}-dropdown-hidden`,o=ye({overlayClass:[n],overlayStyle:{},triggerHover:!1,overlayHover:!1}),i=V(),r=V(),l=()=>{var u,d;o.triggerHover=!0;const g=i.value,b=r.value;if(!g||!b)return;const f=g.getBoundingClientRect(),v=g.offsetTop,k=g.offsetLeft,_=f.height,y=f.width,C=((u=document.querySelector(e.relative))==null?void 0:u.scrollLeft)||0,w=((d=document.querySelector(e.relative))==null?void 0:d.clientWidth)||0;let A=k-b.offsetWidth/2+y/2-C;A+b.offsetWidth>C+w&&(A=C+w-b.offsetWidth),A<0&&(A=0),o.overlayStyle={...o.overlayStyle,top:v+_+"px",left:A+"px"},e.onChange(!0)},s=()=>{o.overlayHover=!0};W(()=>e.visible,u=>{u?o.overlayClass=o.overlayClass.filter(d=>d!==n):o.overlayClass.push(n)});let a=-1;const c=u=>{i.value===u.target?o.triggerHover=!1:o.overlayHover=!1,clearTimeout(a),a=window.setTimeout(()=>{!o.overlayHover&&!o.triggerHover&&e.onChange(!1)},10)};return ae(()=>{i.value.addEventListener("mouseenter",l),i.value.addEventListener("mouseleave",c),r.value.addEventListener("mouseenter",s),r.value.addEventListener("mouseleave",c)}),Xt(()=>{i.value.removeEventListener("mouseenter",l),i.value.removeEventListener("mouseleave",c),r.value.removeEventListener("mouseenter",s),r.value.removeEventListener("mouseleave",c)}),()=>{const u=Se({ctx:t}),d=Se({props:e,ctx:t},"overlay"),g=ao(u instanceof Array?u[0]:u,{ref:i,key:"cloned-dropdown-trigger"}),b=p("div",{class:[`${m}-dropdown`,o.overlayClass],style:o.overlayStyle,ref:r},[p("div",{class:`${m}-dropdown-overlay`},[d instanceof Array?d[0]:d])]);return[g,b]}}}),Ws={title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String},default:{type:[String,Object]}},yn=le({name:"DropdownToolbar",props:Ws,emits:["onChange"],setup(e,t){const n=q("editorId");return()=>{const o=Se({props:e,ctx:t},"trigger"),i=Se({props:e,ctx:t},"overlay"),r=Se({props:e,ctx:t});return p(At,{relative:`#${n}-toolbar-wrapper`,visible:e.visible,onChange:l=>{e.onChange instanceof Function?e.onChange(l):t.emit("onChange",l)},overlay:i},{default:()=>[p("div",{class:`${m}-toolbar-item`,title:e.title||""},[o,r])]})}}});yn.install=e=>(e.component(yn.name,yn),e);var Vs=Object.defineProperty,qs=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gs=(e,t,n)=>(qs(e,t+"",n),n);class Zs{constructor(){Gs(this,"pools",{})}remove(t,n,o){const r=this.pools[t]&&this.pools[t][n];r&&(this.pools[t][n]=r.filter(l=>l!==o))}clear(t){this.pools[t]={}}on(t,n){return this.pools[t]||(this.pools[t]={}),this.pools[t][n.name]||(this.pools[t][n.name]=[]),this.pools[t][n.name].push(n.callback),this.pools[t][n.name].includes(n.callback)}emit(t,n,...o){this.pools[t]||(this.pools[t]={});const r=this.pools[t][n];r&&r.forEach(l=>{try{l(...o)}catch(s){console.error(`${n} monitor event exception！`,s)}})}}const T=new Zs,Hn="onSave",Eo="changeCatalogVisible",zr="changeFullscreen",Ei="pageFullscreenChanged",Fi="fullscreenChanged",Di="previewChanged",Ti="previewOnlyChanged",Si="htmlPreviewChanged",$i="catalogVisibleChanged",Cn="buildFinished",pt="errorCatcher",J="replace",jn="uploadImage",fo="openModals",Mr="ctrlZ",Or="ctrlShiftZ",xn="catalogChanged",Pr="pushCatalog",Fo="rerender",Br="eventListener",Ii=(e,t)=>{const n=o=>{const i=e.parentElement||document.body,r=i.offsetWidth,l=i.offsetHeight,{clientWidth:s,clientHeight:a}=document.documentElement,c=o.offsetX,u=o.offsetY,d=b=>{let f=b.x+document.body.scrollLeft-document.body.clientLeft-c,v=b.y+document.body.scrollTop-document.body.clientTop-u;f=f<1?1:f<s-r-1?f:s-r-1,v=v<1?1:v<a-l-1?v:a-l-1,t?t(f,v):(i.style.left=`${f}px`,i.style.top=`${v}px`)};document.addEventListener("mousemove",d);const g=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",g)};document.addEventListener("mouseup",g)};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n)}},Ce=(e,t,n="")=>{var o;const i=document.getElementById(t.id);if(i)n!==""&&(Reflect.get(window,n)?(o=t.onload)==null||o.call(i,new Event("load")):t.onload&&i.addEventListener("load",t.onload));else{const r={...t};r.onload=null;const l=Ks(e,r);t.onload&&l.addEventListener("load",t.onload),document.head.appendChild(l)}},Xs=(e,t)=>{const n=document.getElementById(t.id);n==null||n.remove(),Ce(e,t)},Ks=(e,t)=>{const n=document.createElement(e);return Object.keys(t).forEach(o=>{t[o]!==void 0&&(n[o]=t[o])}),n},Qs=(e,t="image.png")=>{const n=e.split(","),o=n[0].match(/:(.*?);/);if(o){const i=o[1],r=atob(n[1]);let l=r.length;const s=new Uint8Array(l);for(;l--;)s[l]=r.charCodeAt(l);return new File([s],t,{type:i})}return null},Js=e=>{if(!e)return e;const t=e.split(`
`),n=['<span rn-wrapper aria-hidden="true">'];return t.forEach(()=>{n.push("<span></span>")}),n.push("</span>"),`<span class="${m}-code-block">${e}</span>${n.join("")}`},Ys=(e,t)=>{if(!e||!t)return 0;const n=e==null?void 0:e.getBoundingClientRect();if(t===document.documentElement)return n.top-t.clientTop;const o=t==null?void 0:t.getBoundingClientRect();return n.top-o.top},ea=(()=>{let e=0;return t=>t+ ++e})(),Li=(()=>{let e=0;return()=>++e})(),ta=le({props:{name:{type:String,default:""}},setup(e){return()=>p("svg",{class:`${m}-icon`,"aria-hidden":"true"},[p("use",{"xlink:href":`#${m}-icon-${e.name}`},null)])}}),G=le({props:{name:{type:String,default:""}},setup(e){const t=q("customIcon");return()=>{const n=t.value[e.name];return typeof n=="object"?typeof n.component=="object"?Gl(n.component,n.props):p("span",{innerHTML:n.component},null):p(ta,{name:e.name},null)}}}),na={title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String},style:{type:[Object,String],default:()=>({})},showMask:{type:Boolean,default:!0}},Et=le({name:"MdModal",props:na,emits:["onClose"],setup(e,t){const n=q("theme"),o=V(e.visible),i=V([`${m}-modal`]),r=V(),l=V(),s=V(),a=mt();let c=()=>{};const u=ye({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),d=ke(()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height});W(()=>e.isFullscreen,f=>{f?c():Ue(()=>{c=Ii(l.value,(v,k)=>{u.initPos.left=v+"px",u.initPos.top=k+"px"})})}),W(()=>e.visible,f=>{f?(u.maskStyle.zIndex=he.editorConfig.zIndex+Li(),u.modalStyle.zIndex=he.editorConfig.zIndex+Li(),i.value.push("zoom-in"),o.value=f,Ue(()=>{const v=r.value.offsetWidth/2,k=r.value.offsetHeight/2,_=document.documentElement.clientWidth/2,y=document.documentElement.clientHeight/2;u.initPos.left=_-v+"px",u.initPos.top=y-k+"px",e.isFullscreen||(c=Ii(l.value,(C,w)=>{u.initPos.left=C+"px",u.initPos.top=w+"px"}))}),setTimeout(()=>{i.value=i.value.filter(v=>v!=="zoom-in")},140)):(i.value.push("zoom-out"),c(),setTimeout(()=>{i.value=i.value.filter(v=>v!=="zoom-out"),o.value=f},130))});const g=ke(()=>({display:o.value?"block":"none"})),b=ke(()=>typeof e.style=="string"?[e.style,g.value].join("; "):e.style instanceof Object?{...g.value,...e.style}:g.value);return ae(()=>{s.value=document.body}),()=>{const f=Se({ctx:t}),v=Se({props:e,ctx:t},"title");return s.value?p(ql,{to:s.value},{default:()=>[p("div",{ref:a,class:`${m}-modal-container`,"data-theme":n.value},[p("div",{class:e.class,style:b.value},[e.showMask&&p("div",{class:`${m}-modal-mask`,style:u.maskStyle,onClick:()=>{e.onClose?e.onClose():t.emit("onClose")}},null),p("div",{class:i.value,style:{...u.modalStyle,...u.initPos,...d.value},ref:r},[p("div",{class:`${m}-modal-header`,ref:l},[v||""]),p("div",{class:`${m}-modal-body`},[f]),p("div",{class:`${m}-modal-func`},[e.showAdjust&&p("div",{class:`${m}-modal-adjust`,onClick:k=>{k.stopPropagation(),e.isFullscreen?u.initPos=u.historyPos:(u.historyPos=u.initPos,u.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[p(G,{name:e.isFullscreen?"suoxiao":"fangda"},null)]),p("div",{class:`${m}-modal-close`,onClick:k=>{k.stopPropagation(),e.onClose?e.onClose():t.emit("onClose")}},[p(G,{name:"close"},null)])])])])])]}):""}}});Et.install=e=>(e.component(Et.name,Et),e);/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},dn=function(t){return t.tagName==="IMG"},oa=function(t){return NodeList.prototype.isPrototypeOf(t)},wn=function(t){return t&&t.nodeType===1},zi=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},Mi=function(t){try{return Array.isArray(t)?t.filter(dn):oa(t)?[].slice.call(t).filter(dn):wn(t)?[t].filter(dn):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(dn):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},ia=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},ra=function(t){var n=t.getBoundingClientRect(),o=n.top,i=n.left,r=n.width,l=n.height,s=t.cloneNode(),a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return s.removeAttribute("id"),s.style.position="absolute",s.style.top=o+a+"px",s.style.left=i+c+"px",s.style.width=r+"px",s.style.height=l+"px",s.style.transform="",s},kt=function(t,n){var o=ut({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,o);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,o.bubbles,o.cancelable,o.detail),i},la=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=window.Promise||function(z){function F(){}z(F,F)},i=function(z){var F=z.target;if(F===P){f();return}C.indexOf(F)!==-1&&v({target:F})},r=function(){if(!(A||!x.original)){var z=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(S-z)>D.scrollOffset&&setTimeout(f,150)}},l=function(z){var F=z.key||z.keyCode;(F==="Escape"||F==="Esc"||F===27)&&f()},s=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=z;if(z.background&&(P.style.background=z.background),z.container&&z.container instanceof Object&&(F.container=ut({},D.container,z.container)),z.template){var $=wn(z.template)?z.template:document.querySelector(z.template);F.template=$}return D=ut({},D,F),C.forEach(function(L){L.dispatchEvent(kt("medium-zoom:update",{detail:{zoom:R}}))}),R},a=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(ut({},D,z))},c=function(){for(var z=arguments.length,F=Array(z),$=0;$<z;$++)F[$]=arguments[$];var L=F.reduce(function(M,N){return[].concat(M,Mi(N))},[]);return L.filter(function(M){return C.indexOf(M)===-1}).forEach(function(M){C.push(M),M.classList.add("medium-zoom-image")}),w.forEach(function(M){var N=M.type,B=M.listener,Z=M.options;L.forEach(function(Y){Y.addEventListener(N,B,Z)})}),R},u=function(){for(var z=arguments.length,F=Array(z),$=0;$<z;$++)F[$]=arguments[$];x.zoomed&&f();var L=F.length>0?F.reduce(function(M,N){return[].concat(M,Mi(N))},[]):C;return L.forEach(function(M){M.classList.remove("medium-zoom-image"),M.dispatchEvent(kt("medium-zoom:detach",{detail:{zoom:R}}))}),C=C.filter(function(M){return L.indexOf(M)===-1}),R},d=function(z,F){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C.forEach(function(L){L.addEventListener("medium-zoom:"+z,F,$)}),w.push({type:"medium-zoom:"+z,listener:F,options:$}),R},g=function(z,F){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C.forEach(function(L){L.removeEventListener("medium-zoom:"+z,F,$)}),w=w.filter(function(L){return!(L.type==="medium-zoom:"+z&&L.listener.toString()===F.toString())}),R},b=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=z.target,$=function(){var M={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},N=void 0,B=void 0;if(D.container)if(D.container instanceof Object)M=ut({},M,D.container),N=M.width-M.left-M.right-D.margin*2,B=M.height-M.top-M.bottom-D.margin*2;else{var Z=wn(D.container)?D.container:document.querySelector(D.container),Y=Z.getBoundingClientRect(),ce=Y.width,de=Y.height,ee=Y.left,Q=Y.top;M=ut({},M,{width:ce,height:de,left:ee,top:Q})}N=N||M.width-D.margin*2,B=B||M.height-D.margin*2;var qe=x.zoomedHd||x.original,Yt=zi(qe)?N:qe.naturalWidth||N,en=zi(qe)?B:qe.naturalHeight||B,ct=qe.getBoundingClientRect(),tn=ct.top,nn=ct.left,vt=ct.width,bt=ct.height,on=Math.min(Math.max(vt,Yt),N)/vt,rn=Math.min(Math.max(bt,en),B)/bt,_t=Math.min(on,rn),ln=(-nn+(N-vt)/2+D.margin+M.left)/_t,sn=(-tn+(B-bt)/2+D.margin+M.top)/_t,Mt="scale("+_t+") translate3d("+ln+"px, "+sn+"px, 0)";x.zoomed.style.transform=Mt,x.zoomedHd&&(x.zoomedHd.style.transform=Mt)};return new o(function(L){if(F&&C.indexOf(F)===-1){L(R);return}var M=function ce(){A=!1,x.zoomed.removeEventListener("transitionend",ce),x.original.dispatchEvent(kt("medium-zoom:opened",{detail:{zoom:R}})),L(R)};if(x.zoomed){L(R);return}if(F)x.original=F;else if(C.length>0){var N=C;x.original=N[0]}else{L(R);return}if(x.original.dispatchEvent(kt("medium-zoom:open",{detail:{zoom:R}})),S=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=!0,x.zoomed=ra(x.original),document.body.appendChild(P),D.template){var B=wn(D.template)?D.template:document.querySelector(D.template);x.template=document.createElement("div"),x.template.appendChild(B.content.cloneNode(!0)),document.body.appendChild(x.template)}if(x.original.parentElement&&x.original.parentElement.tagName==="PICTURE"&&x.original.currentSrc&&(x.zoomed.src=x.original.currentSrc),document.body.appendChild(x.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),x.original.classList.add("medium-zoom-image--hidden"),x.zoomed.classList.add("medium-zoom-image--opened"),x.zoomed.addEventListener("click",f),x.zoomed.addEventListener("transitionend",M),x.original.getAttribute("data-zoom-src")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("srcset"),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading"),x.zoomedHd.src=x.zoomed.getAttribute("data-zoom-src"),x.zoomedHd.onerror=function(){clearInterval(Z),console.warn("Unable to reach the zoom image target "+x.zoomedHd.src),x.zoomedHd=null,$()};var Z=setInterval(function(){x.zoomedHd.complete&&(clearInterval(Z),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",f),document.body.appendChild(x.zoomedHd),$())},10)}else if(x.original.hasAttribute("srcset")){x.zoomedHd=x.zoomed.cloneNode(),x.zoomedHd.removeAttribute("sizes"),x.zoomedHd.removeAttribute("loading");var Y=x.zoomedHd.addEventListener("load",function(){x.zoomedHd.removeEventListener("load",Y),x.zoomedHd.classList.add("medium-zoom-image--opened"),x.zoomedHd.addEventListener("click",f),document.body.appendChild(x.zoomedHd),$()})}else $()})},f=function(){return new o(function(z){if(A||!x.original){z(R);return}var F=function $(){x.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(x.zoomed),x.zoomedHd&&document.body.removeChild(x.zoomedHd),document.body.removeChild(P),x.zoomed.classList.remove("medium-zoom-image--opened"),x.template&&document.body.removeChild(x.template),A=!1,x.zoomed.removeEventListener("transitionend",$),x.original.dispatchEvent(kt("medium-zoom:closed",{detail:{zoom:R}})),x.original=null,x.zoomed=null,x.zoomedHd=null,x.template=null,z(R)};A=!0,document.body.classList.remove("medium-zoom--opened"),x.zoomed.style.transform="",x.zoomedHd&&(x.zoomedHd.style.transform=""),x.template&&(x.template.style.transition="opacity 150ms",x.template.style.opacity=0),x.original.dispatchEvent(kt("medium-zoom:close",{detail:{zoom:R}})),x.zoomed.addEventListener("transitionend",F)})},v=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=z.target;return x.original?f():b({target:F})},k=function(){return D},_=function(){return C},y=function(){return x.original},C=[],w=[],A=!1,S=0,D=n,x={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?D=t:(t||typeof t=="string")&&c(t),D=ut({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},D);var P=ia(D.background);document.addEventListener("click",i),document.addEventListener("keyup",l),document.addEventListener("scroll",r),window.addEventListener("resize",f);var R={open:b,close:f,toggle:v,update:s,clone:a,attach:c,detach:u,on:d,off:g,getOptions:k,getImages:_,getZoomedImage:y};return R};function sa(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var aa=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";sa(aa);var ca=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},ua=ca,Oi={"text/plain":"Text","text/html":"Url",default:"Text"},da="Copy to clipboard: #{key}, Enter";function fa(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function ha(e,t){var n,o,i,r,l,s,a=!1;t||(t={}),n=t.debug||!1;try{i=ua(),r=document.createRange(),l=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),t.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=Oi[t.format]||Oi.default;window.clipboardData.setData(d,e)}else u.clipboardData.clearData(),u.clipboardData.setData(t.format,e);t.onCopy&&(u.preventDefault(),t.onCopy(u.clipboardData))}),document.body.appendChild(s),r.selectNodeContents(s),l.addRange(r);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");a=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),a=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=fa("message"in t?t.message:da),window.prompt(o,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(r):l.removeAllRanges()),s&&document.body.removeChild(s),i()}return a}var ma=ha;const pa=Sr(ma),Pi={};function ga(e){let t=Pi[e];if(t)return t;t=Pi[e]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);t.push(o)}for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);t[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return t}function It(e,t){typeof t!="string"&&(t=It.defaultChars);const n=ga(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let i="";for(let r=0,l=o.length;r<l;r+=3){const s=parseInt(o.slice(r+1,r+3),16);if(s<128){i+=n[s];continue}if((s&224)===192&&r+3<l){const a=parseInt(o.slice(r+4,r+6),16);if((a&192)===128){const c=s<<6&1984|a&63;c<128?i+="��":i+=String.fromCharCode(c),r+=3;continue}}if((s&240)===224&&r+6<l){const a=parseInt(o.slice(r+4,r+6),16),c=parseInt(o.slice(r+7,r+9),16);if((a&192)===128&&(c&192)===128){const u=s<<12&61440|a<<6&4032|c&63;u<2048||u>=55296&&u<=57343?i+="���":i+=String.fromCharCode(u),r+=6;continue}}if((s&248)===240&&r+9<l){const a=parseInt(o.slice(r+4,r+6),16),c=parseInt(o.slice(r+7,r+9),16),u=parseInt(o.slice(r+10,r+12),16);if((a&192)===128&&(c&192)===128&&(u&192)===128){let d=s<<18&1835008|a<<12&258048|c<<6&4032|u&63;d<65536||d>1114111?i+="����":(d-=65536,i+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),r+=9;continue}}i+="�"}return i})}It.defaultChars=";/?:@&=+$,#";It.componentChars="";const Bi={};function va(e){let t=Bi[e];if(t)return t;t=Bi[e]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);/^[0-9a-z]$/i.test(o)?t.push(o):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function Kt(e,t,n){typeof t!="string"&&(n=t,t=Kt.defaultChars),typeof n>"u"&&(n=!0);const o=va(t);let i="";for(let r=0,l=e.length;r<l;r++){const s=e.charCodeAt(r);if(n&&s===37&&r+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){i+=e.slice(r,r+3),r+=2;continue}if(s<128){i+=o[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<l){const a=e.charCodeAt(r+1);if(a>=56320&&a<=57343){i+=encodeURIComponent(e[r]+e[r+1]),r++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(e[r])}return i}Kt.defaultChars=";/?:@&=+$,-_.!~*'()#";Kt.componentChars="-_.!~*'()";function Do(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Ln(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const ba=/^([a-z0-9.+-]+:)/i,_a=/:[0-9]*$/,ka=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ya=["<",">",'"',"`"," ","\r",`
`,"	"],Ca=["{","}","|","\\","^","`"].concat(ya),xa=["'"].concat(Ca),Ri=["%","/","?",";","#"].concat(xa),Hi=["/","?","#"],wa=255,ji=/^[+a-z0-9A-Z_-]{0,63}$/,Aa=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ni={javascript:!0,"javascript:":!0},Ui={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function To(e,t){if(e&&e instanceof Ln)return e;const n=new Ln;return n.parse(e,t),n}Ln.prototype.parse=function(e,t){let n,o,i,r=e;if(r=r.trim(),!t&&e.split("#").length===1){const c=ka.exec(r);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let l=ba.exec(r);if(l&&(l=l[0],n=l.toLowerCase(),this.protocol=l,r=r.substr(l.length)),(t||l||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=r.substr(0,2)==="//",i&&!(l&&Ni[l])&&(r=r.substr(2),this.slashes=!0)),!Ni[l]&&(i||l&&!Ui[l])){let c=-1;for(let f=0;f<Hi.length;f++)o=r.indexOf(Hi[f]),o!==-1&&(c===-1||o<c)&&(c=o);let u,d;c===-1?d=r.lastIndexOf("@"):d=r.lastIndexOf("@",c),d!==-1&&(u=r.slice(0,d),r=r.slice(d+1),this.auth=u),c=-1;for(let f=0;f<Ri.length;f++)o=r.indexOf(Ri[f]),o!==-1&&(c===-1||o<c)&&(c=o);c===-1&&(c=r.length),r[c-1]===":"&&c--;const g=r.slice(0,c);r=r.slice(c),this.parseHost(g),this.hostname=this.hostname||"";const b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b){const f=this.hostname.split(/\./);for(let v=0,k=f.length;v<k;v++){const _=f[v];if(_&&!_.match(ji)){let y="";for(let C=0,w=_.length;C<w;C++)_.charCodeAt(C)>127?y+="x":y+=_[C];if(!y.match(ji)){const C=f.slice(0,v),w=f.slice(v+1),A=_.match(Aa);A&&(C.push(A[1]),w.unshift(A[2])),w.length&&(r=w.join(".")+r),this.hostname=C.join(".");break}}}}this.hostname.length>wa&&(this.hostname=""),b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=r.indexOf("#");s!==-1&&(this.hash=r.substr(s),r=r.slice(0,s));const a=r.indexOf("?");return a!==-1&&(this.search=r.substr(a),r=r.slice(0,a)),r&&(this.pathname=r),Ui[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ln.prototype.parseHost=function(e){let t=_a.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Ea=Object.freeze(Object.defineProperty({__proto__:null,decode:It,encode:Kt,format:Do,parse:To},Symbol.toStringTag,{value:"Module"})),Rr=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Hr=/[\0-\x1F\x7F-\x9F]/,Fa=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,So=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,jr=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Nr=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Da=Object.freeze(Object.defineProperty({__proto__:null,Any:Rr,Cc:Hr,Cf:Fa,P:So,S:jr,Z:Nr},Symbol.toStringTag,{value:"Module"}));function Ta(e){return Object.prototype.toString.call(e)}function $o(e){return Ta(e)==="[object String]"}const Sa=Object.prototype.hasOwnProperty;function $a(e,t){return Sa.call(e,t)}function Nn(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(o){e[o]=n[o]})}}),e}function Ur(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Io(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function zn(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Wr=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Ia=/&([a-z#][a-z0-9]{1,31});/gi,La=new RegExp(Wr.source+"|"+Ia.source,"gi"),za=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Ma(e,t){if(t.charCodeAt(0)===35&&za.test(t)){const o=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Io(o)?zn(o):e}const n=Fr.decodeHTML(e);return n!==e?n:e}function Oa(e){return e.indexOf("\\")<0?e:e.replace(Wr,"$1")}function Lt(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(La,function(t,n,o){return n||Ma(t,o)})}const Pa=/[&<>"]/,Ba=/[&<>"]/g,Ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ha(e){return Ra[e]}function at(e){return Pa.test(e)?e.replace(Ba,Ha):e}const ja=/[.?*+^$[\]\\(){}|-]/g;function Na(e){return e.replace(ja,"\\$&")}function te(e){switch(e){case 9:case 32:return!0}return!1}function Ut(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Wt(e){return So.test(e)||jr.test(e)}function Vt(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Un(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const Ua={mdurl:Ea,ucmicro:Da},Wa=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ur,assign:Nn,escapeHtml:at,escapeRE:Na,fromCodePoint:zn,has:$a,isMdAsciiPunct:Vt,isPunctChar:Wt,isSpace:te,isString:$o,isValidEntityCode:Io,isWhiteSpace:Ut,lib:Ua,normalizeReference:Un,unescapeAll:Lt,unescapeMd:Oa},Symbol.toStringTag,{value:"Module"}));function Va(e,t,n){let o,i,r,l;const s=e.posMax,a=e.pos;for(e.pos=t+1,o=1;e.pos<s;){if(r=e.src.charCodeAt(e.pos),r===93&&(o--,o===0)){i=!0;break}if(l=e.pos,e.md.inline.skipToken(e),r===91){if(l===e.pos-1)o++;else if(n)return e.pos=a,-1}}let c=-1;return i&&(c=e.pos),e.pos=a,c}function qa(e,t,n){let o,i=t;const r={ok:!1,pos:0,str:""};if(e.charCodeAt(i)===60){for(i++;i<n;){if(o=e.charCodeAt(i),o===10||o===60)return r;if(o===62)return r.pos=i+1,r.str=Lt(e.slice(t+1,i)),r.ok=!0,r;if(o===92&&i+1<n){i+=2;continue}i++}return r}let l=0;for(;i<n&&(o=e.charCodeAt(i),!(o===32||o<32||o===127));){if(o===92&&i+1<n){if(e.charCodeAt(i+1)===32)break;i+=2;continue}if(o===40&&(l++,l>32))return r;if(o===41){if(l===0)break;l--}i++}return t===i||l!==0||(r.str=Lt(e.slice(t,i)),r.pos=i,r.ok=!0),r}function Ga(e,t,n,o){let i,r=t;const l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)l.str=o.str,l.marker=o.marker;else{if(r>=n)return l;let s=e.charCodeAt(r);if(s!==34&&s!==39&&s!==40)return l;t++,r++,s===40&&(s=41),l.marker=s}for(;r<n;){if(i=e.charCodeAt(r),i===l.marker)return l.pos=r+1,l.str+=Lt(e.slice(t,r)),l.ok=!0,l;if(i===40&&l.marker===41)return l;i===92&&r+1<n&&r++,r++}return l.can_continue=!0,l.str+=Lt(e.slice(t,r)),l}const Za=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:qa,parseLinkLabel:Va,parseLinkTitle:Ga},Symbol.toStringTag,{value:"Module"})),We={};We.code_inline=function(e,t,n,o,i){const r=e[t];return"<code"+i.renderAttrs(r)+">"+at(r.content)+"</code>"};We.code_block=function(e,t,n,o,i){const r=e[t];return"<pre"+i.renderAttrs(r)+"><code>"+at(e[t].content)+`</code></pre>
`};We.fence=function(e,t,n,o,i){const r=e[t],l=r.info?Lt(r.info).trim():"";let s="",a="";if(l){const u=l.split(/(\s+)/g);s=u[0],a=u.slice(2).join("")}let c;if(n.highlight?c=n.highlight(r.content,s,a)||at(r.content):c=at(r.content),c.indexOf("<pre")===0)return c+`
`;if(l){const u=r.attrIndex("class"),d=r.attrs?r.attrs.slice():[];u<0?d.push(["class",n.langPrefix+s]):(d[u]=d[u].slice(),d[u][1]+=" "+n.langPrefix+s);const g={attrs:d};return`<pre><code${i.renderAttrs(g)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(r)}>${c}</code></pre>
`};We.image=function(e,t,n,o,i){const r=e[t];return r.attrs[r.attrIndex("alt")][1]=i.renderInlineAsText(r.children,n,o),i.renderToken(e,t,n)};We.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};We.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};We.text=function(e,t){return at(e[t].content)};We.html_block=function(e,t){return e[t].content};We.html_inline=function(e,t){return e[t].content};function zt(){this.rules=Nn({},We)}zt.prototype.renderAttrs=function(t){let n,o,i;if(!t.attrs)return"";for(i="",n=0,o=t.attrs.length;n<o;n++)i+=" "+at(t.attrs[n][0])+'="'+at(t.attrs[n][1])+'"';return i};zt.prototype.renderToken=function(t,n,o){const i=t[n];let r="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&t[n-1].hidden&&(r+=`
`),r+=(i.nesting===-1?"</":"<")+i.tag,r+=this.renderAttrs(i),i.nesting===0&&o.xhtmlOut&&(r+=" /");let l=!1;if(i.block&&(l=!0,i.nesting===1&&n+1<t.length)){const s=t[n+1];(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===i.tag)&&(l=!1)}return r+=l?`>
`:">",r};zt.prototype.renderInline=function(e,t,n){let o="";const i=this.rules;for(let r=0,l=e.length;r<l;r++){const s=e[r].type;typeof i[s]<"u"?o+=i[s](e,r,t,n,this):o+=this.renderToken(e,r,t)}return o};zt.prototype.renderInlineAsText=function(e,t,n){let o="";for(let i=0,r=e.length;i<r;i++)switch(e[i].type){case"text":o+=e[i].content;break;case"image":o+=this.renderInlineAsText(e[i].children,t,n);break;case"html_inline":case"html_block":o+=e[i].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};zt.prototype.render=function(e,t,n){let o="";const i=this.rules;for(let r=0,l=e.length;r<l;r++){const s=e[r].type;s==="inline"?o+=this.renderInline(e[r].children,t,n):typeof i[s]<"u"?o+=i[s](e,r,t,n,this):o+=this.renderToken(e,r,t,n)}return o};function xe(){this.__rules__=[],this.__cache__=null}xe.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};xe.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})};xe.prototype.at=function(e,t,n){const o=this.__find__(e),i=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=i.alt||[],this.__cache__=null};xe.prototype.before=function(e,t,n,o){const i=this.__find__(e),r=o||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};xe.prototype.after=function(e,t,n,o){const i=this.__find__(e),r=o||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};xe.prototype.push=function(e,t,n){const o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};xe.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(o){const i=this.__find__(o);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[i].enabled=!0,n.push(o)},this),this.__cache__=null,n};xe.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};xe.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(o){const i=this.__find__(o);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[i].enabled=!1,n.push(o)},this),this.__cache__=null,n};xe.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function He(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}He.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let o=0,i=n.length;o<i;o++)if(n[o][0]===t)return o;return-1};He.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};He.prototype.attrSet=function(t,n){const o=this.attrIndex(t),i=[t,n];o<0?this.attrPush(i):this.attrs[o]=i};He.prototype.attrGet=function(t){const n=this.attrIndex(t);let o=null;return n>=0&&(o=this.attrs[n][1]),o};He.prototype.attrJoin=function(t,n){const o=this.attrIndex(t);o<0?this.attrPush([t,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};function Vr(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Vr.prototype.Token=He;const Xa=/\r\n?|\n/g,Ka=/\0/g;function Qa(e){let t;t=e.src.replace(Xa,`
`),t=t.replace(Ka,"�"),e.src=t}function Ja(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function Ya(e){const t=e.tokens;for(let n=0,o=t.length;n<o;n++){const i=t[n];i.type==="inline"&&e.md.inline.parse(i.content,e.md,e.env,i.children)}}function ec(e){return/^<a[>\s]/i.test(e)}function tc(e){return/^<\/a\s*>/i.test(e)}function nc(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,o=t.length;n<o;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let i=t[n].children,r=0;for(let l=i.length-1;l>=0;l--){const s=i[l];if(s.type==="link_close"){for(l--;i[l].level!==s.level&&i[l].type!=="link_open";)l--;continue}if(s.type==="html_inline"&&(ec(s.content)&&r>0&&r--,tc(s.content)&&r++),!(r>0)&&s.type==="text"&&e.md.linkify.test(s.content)){const a=s.content;let c=e.md.linkify.match(a);const u=[];let d=s.level,g=0;c.length>0&&c[0].index===0&&l>0&&i[l-1].type==="text_special"&&(c=c.slice(1));for(let b=0;b<c.length;b++){const f=c[b].url,v=e.md.normalizeLink(f);if(!e.md.validateLink(v))continue;let k=c[b].text;c[b].schema?c[b].schema==="mailto:"&&!/^mailto:/i.test(k)?k=e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):k=e.md.normalizeLinkText(k):k=e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,"");const _=c[b].index;if(_>g){const A=new e.Token("text","",0);A.content=a.slice(g,_),A.level=d,u.push(A)}const y=new e.Token("link_open","a",1);y.attrs=[["href",v]],y.level=d++,y.markup="linkify",y.info="auto",u.push(y);const C=new e.Token("text","",0);C.content=k,C.level=d,u.push(C);const w=new e.Token("link_close","a",-1);w.level=--d,w.markup="linkify",w.info="auto",u.push(w),g=c[b].lastIndex}if(g<a.length){const b=new e.Token("text","",0);b.content=a.slice(g),b.level=d,u.push(b)}t[n].children=i=Ur(i,l,u)}}}}const qr=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,oc=/\((c|tm|r)\)/i,ic=/\((c|tm|r)\)/ig,rc={c:"©",r:"®",tm:"™"};function lc(e,t){return rc[t.toLowerCase()]}function sc(e){let t=0;for(let n=e.length-1;n>=0;n--){const o=e[n];o.type==="text"&&!t&&(o.content=o.content.replace(ic,lc)),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function ac(e){let t=0;for(let n=e.length-1;n>=0;n--){const o=e[n];o.type==="text"&&!t&&qr.test(o.content)&&(o.content=o.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function cc(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(oc.test(e.tokens[t].content)&&sc(e.tokens[t].children),qr.test(e.tokens[t].content)&&ac(e.tokens[t].children))}const uc=/['"]/,Wi=/['"]/g,Vi="’";function fn(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function dc(e,t){let n;const o=[];for(let i=0;i<e.length;i++){const r=e[i],l=e[i].level;for(n=o.length-1;n>=0&&!(o[n].level<=l);n--);if(o.length=n+1,r.type!=="text")continue;let s=r.content,a=0,c=s.length;e:for(;a<c;){Wi.lastIndex=a;const u=Wi.exec(s);if(!u)break;let d=!0,g=!0;a=u.index+1;const b=u[0]==="'";let f=32;if(u.index-1>=0)f=s.charCodeAt(u.index-1);else for(n=i-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let v=32;if(a<c)v=s.charCodeAt(a);else for(n=i+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){v=e[n].content.charCodeAt(0);break}const k=Vt(f)||Wt(String.fromCharCode(f)),_=Vt(v)||Wt(String.fromCharCode(v)),y=Ut(f),C=Ut(v);if(C?d=!1:_&&(y||k||(d=!1)),y?g=!1:k&&(C||_||(g=!1)),v===34&&u[0]==='"'&&f>=48&&f<=57&&(g=d=!1),d&&g&&(d=k,g=_),!d&&!g){b&&(r.content=fn(r.content,u.index,Vi));continue}if(g)for(n=o.length-1;n>=0;n--){let w=o[n];if(o[n].level<l)break;if(w.single===b&&o[n].level===l){w=o[n];let A,S;b?(A=t.md.options.quotes[2],S=t.md.options.quotes[3]):(A=t.md.options.quotes[0],S=t.md.options.quotes[1]),r.content=fn(r.content,u.index,S),e[w.token].content=fn(e[w.token].content,w.pos,A),a+=S.length-1,w.token===i&&(a+=A.length-1),s=r.content,c=s.length,o.length=n;continue e}}d?o.push({token:i,pos:u.index,single:b,level:l}):g&&b&&(r.content=fn(r.content,u.index,Vi))}}}function fc(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!uc.test(e.tokens[t].content)||dc(e.tokens[t].children,e)}function hc(e){let t,n;const o=e.tokens,i=o.length;for(let r=0;r<i;r++){if(o[r].type!=="inline")continue;const l=o[r].children,s=l.length;for(t=0;t<s;t++)l[t].type==="text_special"&&(l[t].type="text");for(t=n=0;t<s;t++)l[t].type==="text"&&t+1<s&&l[t+1].type==="text"?l[t+1].content=l[t].content+l[t+1].content:(t!==n&&(l[n]=l[t]),n++);t!==n&&(l.length=n)}}const Jn=[["normalize",Qa],["block",Ja],["inline",Ya],["linkify",nc],["replacements",cc],["smartquotes",fc],["text_join",hc]];function Lo(){this.ruler=new xe;for(let e=0;e<Jn.length;e++)this.ruler.push(Jn[e][0],Jn[e][1])}Lo.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,o=t.length;n<o;n++)t[n](e)};Lo.prototype.State=Vr;function Ve(e,t,n,o){this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let r=0,l=0,s=0,a=0,c=i.length,u=!1;l<c;l++){const d=i.charCodeAt(l);if(!u)if(te(d)){s++,d===9?a+=4-a%4:a++;continue}else u=!0;(d===10||l===c-1)&&(d!==10&&l++,this.bMarks.push(r),this.eMarks.push(l),this.tShift.push(s),this.sCount.push(a),this.bsCount.push(0),u=!1,s=0,a=0,r=l+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ve.prototype.push=function(e,t,n){const o=new He(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};Ve.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Ve.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Ve.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const o=this.src.charCodeAt(t);if(!te(o))break}return t};Ve.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!te(this.src.charCodeAt(--t)))return t+1;return t};Ve.prototype.skipChars=function(t,n){for(let o=this.src.length;t<o&&this.src.charCodeAt(t)===n;t++);return t};Ve.prototype.skipCharsBack=function(t,n,o){if(t<=o)return t;for(;t>o;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Ve.prototype.getLines=function(t,n,o,i){if(t>=n)return"";const r=new Array(n-t);for(let l=0,s=t;s<n;s++,l++){let a=0;const c=this.bMarks[s];let u=c,d;for(s+1<n||i?d=this.eMarks[s]+1:d=this.eMarks[s];u<d&&a<o;){const g=this.src.charCodeAt(u);if(te(g))g===9?a+=4-(a+this.bsCount[s])%4:a++;else if(u-c<this.tShift[s])a++;else break;u++}a>o?r[l]=new Array(a-o+1).join(" ")+this.src.slice(u,d):r[l]=this.src.slice(u,d)}return r.join("")};Ve.prototype.Token=He;const mc=65536;function Yn(e,t){const n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(n,o)}function qi(e){const t=[],n=e.length;let o=0,i=e.charCodeAt(o),r=!1,l=0,s="";for(;o<n;)i===124&&(r?(s+=e.substring(l,o-1),l=o):(t.push(s+e.substring(l,o)),s="",l=o+1)),r=i===92,o++,i=e.charCodeAt(o);return t.push(s+e.substring(l)),t}function pc(e,t,n,o){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)return!1;let r=e.bMarks[i]+e.tShift[i];if(r>=e.eMarks[i])return!1;const l=e.src.charCodeAt(r++);if(l!==124&&l!==45&&l!==58||r>=e.eMarks[i])return!1;const s=e.src.charCodeAt(r++);if(s!==124&&s!==45&&s!==58&&!te(s)||l===45&&te(s))return!1;for(;r<e.eMarks[i];){const w=e.src.charCodeAt(r);if(w!==124&&w!==45&&w!==58&&!te(w))return!1;r++}let a=Yn(e,t+1),c=a.split("|");const u=[];for(let w=0;w<c.length;w++){const A=c[w].trim();if(!A){if(w===0||w===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(A))return!1;A.charCodeAt(A.length-1)===58?u.push(A.charCodeAt(0)===58?"center":"right"):A.charCodeAt(0)===58?u.push("left"):u.push("")}if(a=Yn(e,t).trim(),a.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;c=qi(a),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const d=c.length;if(d===0||d!==u.length)return!1;if(o)return!0;const g=e.parentType;e.parentType="table";const b=e.md.block.ruler.getRules("blockquote"),f=e.push("table_open","table",1),v=[t,0];f.map=v;const k=e.push("thead_open","thead",1);k.map=[t,t+1];const _=e.push("tr_open","tr",1);_.map=[t,t+1];for(let w=0;w<c.length;w++){const A=e.push("th_open","th",1);u[w]&&(A.attrs=[["style","text-align:"+u[w]]]);const S=e.push("inline","",0);S.content=c[w].trim(),S.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let y,C=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let w=!1;for(let S=0,D=b.length;S<D;S++)if(b[S](e,i,n,!0)){w=!0;break}if(w||(a=Yn(e,i).trim(),!a)||e.sCount[i]-e.blkIndent>=4||(c=qi(a),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),C+=d-c.length,C>mc))break;if(i===t+2){const S=e.push("tbody_open","tbody",1);S.map=y=[t+2,0]}const A=e.push("tr_open","tr",1);A.map=[i,i+1];for(let S=0;S<d;S++){const D=e.push("td_open","td",1);u[S]&&(D.attrs=[["style","text-align:"+u[S]]]);const x=e.push("inline","",0);x.content=c[S]?c[S].trim():"",x.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return y&&(e.push("tbody_close","tbody",-1),y[1]=i),e.push("table_close","table",-1),v[1]=i,e.parentType=g,e.line=i,!0}function gc(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let o=t+1,i=o;for(;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,i=o;continue}break}e.line=i;const r=e.push("code_block","code",0);return r.content=e.getLines(t,i,4+e.blkIndent,!1)+`
`,r.map=[t,e.line],!0}function vc(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||i+3>r)return!1;const l=e.src.charCodeAt(i);if(l!==126&&l!==96)return!1;let s=i;i=e.skipChars(i,l);let a=i-s;if(a<3)return!1;const c=e.src.slice(s,i),u=e.src.slice(i,r);if(l===96&&u.indexOf(String.fromCharCode(l))>=0)return!1;if(o)return!0;let d=t,g=!1;for(;d++,!(d>=n||(i=s=e.bMarks[d]+e.tShift[d],r=e.eMarks[d],i<r&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(i)===l&&!(e.sCount[d]-e.blkIndent>=4)&&(i=e.skipChars(i,l),!(i-s<a)&&(i=e.skipSpaces(i),!(i<r)))){g=!0;break}a=e.sCount[t],e.line=d+(g?1:0);const b=e.push("fence","code",0);return b.info=u,b.content=e.getLines(t+1,d,a,!0),b.markup=c,b.map=[t,e.line],!0}function bc(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];const l=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==62)return!1;if(o)return!0;const s=[],a=[],c=[],u=[],d=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let b=!1,f;for(f=t;f<n;f++){const C=e.sCount[f]<e.blkIndent;if(i=e.bMarks[f]+e.tShift[f],r=e.eMarks[f],i>=r)break;if(e.src.charCodeAt(i++)===62&&!C){let A=e.sCount[f]+1,S,D;e.src.charCodeAt(i)===32?(i++,A++,D=!1,S=!0):e.src.charCodeAt(i)===9?(S=!0,(e.bsCount[f]+A)%4===3?(i++,A++,D=!1):D=!0):S=!1;let x=A;for(s.push(e.bMarks[f]),e.bMarks[f]=i;i<r;){const P=e.src.charCodeAt(i);if(te(P))P===9?x+=4-(x+e.bsCount[f]+(D?1:0))%4:x++;else break;i++}b=i>=r,a.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(S?1:0),c.push(e.sCount[f]),e.sCount[f]=x-A,u.push(e.tShift[f]),e.tShift[f]=i-e.bMarks[f];continue}if(b)break;let w=!1;for(let A=0,S=d.length;A<S;A++)if(d[A](e,f,n,!0)){w=!0;break}if(w){e.lineMax=f,e.blkIndent!==0&&(s.push(e.bMarks[f]),a.push(e.bsCount[f]),u.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}s.push(e.bMarks[f]),a.push(e.bsCount[f]),u.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]=-1}const v=e.blkIndent;e.blkIndent=0;const k=e.push("blockquote_open","blockquote",1);k.markup=">";const _=[t,0];k.map=_,e.md.block.tokenize(e,t,f);const y=e.push("blockquote_close","blockquote",-1);y.markup=">",e.lineMax=l,e.parentType=g,_[1]=e.line;for(let C=0;C<u.length;C++)e.bMarks[C+t]=s[C],e.tShift[C+t]=u[C],e.sCount[C+t]=c[C],e.bsCount[C+t]=a[C];return e.blkIndent=v,!0}function _c(e,t,n,o){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.bMarks[t]+e.tShift[t];const l=e.src.charCodeAt(r++);if(l!==42&&l!==45&&l!==95)return!1;let s=1;for(;r<i;){const c=e.src.charCodeAt(r++);if(c!==l&&!te(c))return!1;c===l&&s++}if(s<3)return!1;if(o)return!0;e.line=t+1;const a=e.push("hr","hr",0);return a.map=[t,e.line],a.markup=Array(s+1).join(String.fromCharCode(l)),!0}function Gi(e,t){const n=e.eMarks[t];let o=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(o++);if(i!==42&&i!==45&&i!==43)return-1;if(o<n){const r=e.src.charCodeAt(o);if(!te(r))return-1}return o}function Zi(e,t){const n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];let i=n;if(i+1>=o)return-1;let r=e.src.charCodeAt(i++);if(r<48||r>57)return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=e.src.charCodeAt(i),!te(r))?-1:i}function kc(e,t){const n=e.level+2;for(let o=t+2,i=e.tokens.length-2;o<i;o++)e.tokens[o].level===n&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function yc(e,t,n,o){let i,r,l,s,a=t,c=!0;if(e.sCount[a]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[a]-e.listIndent>=4&&e.sCount[a]<e.blkIndent)return!1;let u=!1;o&&e.parentType==="paragraph"&&e.sCount[a]>=e.blkIndent&&(u=!0);let d,g,b;if((b=Zi(e,a))>=0){if(d=!0,l=e.bMarks[a]+e.tShift[a],g=Number(e.src.slice(l,b-1)),u&&g!==1)return!1}else if((b=Gi(e,a))>=0)d=!1;else return!1;if(u&&e.skipSpaces(b)>=e.eMarks[a])return!1;if(o)return!0;const f=e.src.charCodeAt(b-1),v=e.tokens.length;d?(s=e.push("ordered_list_open","ol",1),g!==1&&(s.attrs=[["start",g]])):s=e.push("bullet_list_open","ul",1);const k=[a,0];s.map=k,s.markup=String.fromCharCode(f);let _=!1;const y=e.md.block.ruler.getRules("list"),C=e.parentType;for(e.parentType="list";a<n;){r=b,i=e.eMarks[a];const w=e.sCount[a]+b-(e.bMarks[a]+e.tShift[a]);let A=w;for(;r<i;){const L=e.src.charCodeAt(r);if(L===9)A+=4-(A+e.bsCount[a])%4;else if(L===32)A++;else break;r++}const S=r;let D;S>=i?D=1:D=A-w,D>4&&(D=1);const x=w+D;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(f);const P=[a,0];s.map=P,d&&(s.info=e.src.slice(l,b-1));const R=e.tight,j=e.tShift[a],z=e.sCount[a],F=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=x,e.tight=!0,e.tShift[a]=S-e.bMarks[a],e.sCount[a]=A,S>=i&&e.isEmpty(a+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,a,n,!0),(!e.tight||_)&&(c=!1),_=e.line-a>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=F,e.tShift[a]=j,e.sCount[a]=z,e.tight=R,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(f),a=e.line,P[1]=a,a>=n||e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)break;let $=!1;for(let L=0,M=y.length;L<M;L++)if(y[L](e,a,n,!0)){$=!0;break}if($)break;if(d){if(b=Zi(e,a),b<0)break;l=e.bMarks[a]+e.tShift[a]}else if(b=Gi(e,a),b<0)break;if(f!==e.src.charCodeAt(b-1))break}return d?s=e.push("ordered_list_close","ol",-1):s=e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(f),k[1]=a,e.line=a,e.parentType=C,c&&kc(e,v),!0}function Cc(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],l=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==91)return!1;function s(y){const C=e.lineMax;if(y>=C||e.isEmpty(y))return null;let w=!1;if(e.sCount[y]-e.blkIndent>3&&(w=!0),e.sCount[y]<0&&(w=!0),!w){const D=e.md.block.ruler.getRules("reference"),x=e.parentType;e.parentType="reference";let P=!1;for(let R=0,j=D.length;R<j;R++)if(D[R](e,y,C,!0)){P=!0;break}if(e.parentType=x,P)return null}const A=e.bMarks[y]+e.tShift[y],S=e.eMarks[y];return e.src.slice(A,S+1)}let a=e.src.slice(i,r+1);r=a.length;let c=-1;for(i=1;i<r;i++){const y=a.charCodeAt(i);if(y===91)return!1;if(y===93){c=i;break}else if(y===10){const C=s(l);C!==null&&(a+=C,r=a.length,l++)}else if(y===92&&(i++,i<r&&a.charCodeAt(i)===10)){const C=s(l);C!==null&&(a+=C,r=a.length,l++)}}if(c<0||a.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<r;i++){const y=a.charCodeAt(i);if(y===10){const C=s(l);C!==null&&(a+=C,r=a.length,l++)}else if(!te(y))break}const u=e.md.helpers.parseLinkDestination(a,i,r);if(!u.ok)return!1;const d=e.md.normalizeLink(u.str);if(!e.md.validateLink(d))return!1;i=u.pos;const g=i,b=l,f=i;for(;i<r;i++){const y=a.charCodeAt(i);if(y===10){const C=s(l);C!==null&&(a+=C,r=a.length,l++)}else if(!te(y))break}let v=e.md.helpers.parseLinkTitle(a,i,r);for(;v.can_continue;){const y=s(l);if(y===null)break;a+=y,i=r,r=a.length,l++,v=e.md.helpers.parseLinkTitle(a,i,r,v)}let k;for(i<r&&f!==i&&v.ok?(k=v.str,i=v.pos):(k="",i=g,l=b);i<r;){const y=a.charCodeAt(i);if(!te(y))break;i++}if(i<r&&a.charCodeAt(i)!==10&&k)for(k="",i=g,l=b;i<r;){const y=a.charCodeAt(i);if(!te(y))break;i++}if(i<r&&a.charCodeAt(i)!==10)return!1;const _=Un(a.slice(1,c));return _?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[_]>"u"&&(e.env.references[_]={title:k,href:d}),e.line=l),!0):!1}const xc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wc="[a-zA-Z_:][a-zA-Z0-9:._-]*",Ac="[^\"'=<>`\\x00-\\x20]+",Ec="'[^']*'",Fc='"[^"]*"',Dc="(?:"+Ac+"|"+Ec+"|"+Fc+")",Tc="(?:\\s+"+wc+"(?:\\s*=\\s*"+Dc+")?)",Gr="<[A-Za-z][A-Za-z0-9\\-]*"+Tc+"*\\s*\\/?>",Zr="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Sc="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",$c="<[?][\\s\\S]*?[?]>",Ic="<![A-Za-z][^>]*>",Lc="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",zc=new RegExp("^(?:"+Gr+"|"+Zr+"|"+Sc+"|"+$c+"|"+Ic+"|"+Lc+")"),Mc=new RegExp("^(?:"+Gr+"|"+Zr+")"),yt=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+xc.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Mc.source+"\\s*$"),/^$/,!1]];function Oc(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(i)!==60)return!1;let l=e.src.slice(i,r),s=0;for(;s<yt.length&&!yt[s][0].test(l);s++);if(s===yt.length)return!1;if(o)return yt[s][2];let a=t+1;if(!yt[s][1].test(l)){for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(i=e.bMarks[a]+e.tShift[a],r=e.eMarks[a],l=e.src.slice(i,r),yt[s][1].test(l)){l.length!==0&&a++;break}}e.line=a;const c=e.push("html_block","",0);return c.map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}function Pc(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(i);if(l!==35||i>=r)return!1;let s=1;for(l=e.src.charCodeAt(++i);l===35&&i<r&&s<=6;)s++,l=e.src.charCodeAt(++i);if(s>6||i<r&&!te(l))return!1;if(o)return!0;r=e.skipSpacesBack(r,i);const a=e.skipCharsBack(r,35,i);a>i&&te(e.src.charCodeAt(a-1))&&(r=a),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const u=e.push("inline","",0);u.content=e.src.slice(i,r).trim(),u.map=[t,e.line],u.children=[];const d=e.push("heading_close","h"+String(s),-1);return d.markup="########".slice(0,s),!0}function Bc(e,t,n){const o=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let r=0,l,s=t+1;for(;s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let b=e.bMarks[s]+e.tShift[s];const f=e.eMarks[s];if(b<f&&(l=e.src.charCodeAt(b),(l===45||l===61)&&(b=e.skipChars(b,l),b=e.skipSpaces(b),b>=f))){r=l===61?1:2;break}}if(e.sCount[s]<0)continue;let g=!1;for(let b=0,f=o.length;b<f;b++)if(o[b](e,s,n,!0)){g=!0;break}if(g)break}if(!r)return!1;const a=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(r),1);c.markup=String.fromCharCode(l),c.map=[t,e.line];const u=e.push("inline","",0);u.content=a,u.map=[t,e.line-1],u.children=[];const d=e.push("heading_close","h"+String(r),-1);return d.markup=String.fromCharCode(l),e.parentType=i,!0}function Rc(e,t,n){const o=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let r=t+1;for(e.parentType="paragraph";r<n&&!e.isEmpty(r);r++){if(e.sCount[r]-e.blkIndent>3||e.sCount[r]<0)continue;let c=!1;for(let u=0,d=o.length;u<d;u++)if(o[u](e,r,n,!0)){c=!0;break}if(c)break}const l=e.getLines(t,r,e.blkIndent,!1).trim();e.line=r;const s=e.push("paragraph_open","p",1);s.map=[t,e.line];const a=e.push("inline","",0);return a.content=l,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}const hn=[["table",pc,["paragraph","reference"]],["code",gc],["fence",vc,["paragraph","reference","blockquote","list"]],["blockquote",bc,["paragraph","reference","blockquote","list"]],["hr",_c,["paragraph","reference","blockquote","list"]],["list",yc,["paragraph","reference","blockquote"]],["reference",Cc],["html_block",Oc,["paragraph","reference","blockquote"]],["heading",Pc,["paragraph","reference","blockquote"]],["lheading",Bc],["paragraph",Rc]];function Wn(){this.ruler=new xe;for(let e=0;e<hn.length;e++)this.ruler.push(hn[e][0],hn[e][1],{alt:(hn[e][2]||[]).slice()})}Wn.prototype.tokenize=function(e,t,n){const o=this.ruler.getRules(""),i=o.length,r=e.md.options.maxNesting;let l=t,s=!1;for(;l<n&&(e.line=l=e.skipEmptyLines(l),!(l>=n||e.sCount[l]<e.blkIndent));){if(e.level>=r){e.line=n;break}const a=e.line;let c=!1;for(let u=0;u<i;u++)if(c=o[u](e,l,n,!1),c){if(a>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),l=e.line,l<n&&e.isEmpty(l)&&(s=!0,l++,e.line=l)}};Wn.prototype.parse=function(e,t,n,o){if(!e)return;const i=new this.State(e,t,n,o);this.tokenize(i,i.line,i.lineMax)};Wn.prototype.State=Ve;function Qt(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Qt.prototype.pushPending=function(){const e=new He("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Qt.prototype.push=function(e,t,n){this.pending&&this.pushPending();const o=new He(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o};Qt.prototype.scanDelims=function(e,t){const n=this.posMax,o=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let r=e;for(;r<n&&this.src.charCodeAt(r)===o;)r++;const l=r-e,s=r<n?this.src.charCodeAt(r):32,a=Vt(i)||Wt(String.fromCharCode(i)),c=Vt(s)||Wt(String.fromCharCode(s)),u=Ut(i),d=Ut(s),g=!d&&(!c||u||a),b=!u&&(!a||d||c);return{can_open:g&&(t||!b||a),can_close:b&&(t||!g||c),length:l}};Qt.prototype.Token=He;function Hc(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function jc(e,t){let n=e.pos;for(;n<e.posMax&&!Hc(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const Nc=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Uc(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,o=e.posMax;if(n+3>o||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const i=e.pending.match(Nc);if(!i)return!1;const r=i[1],l=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!l)return!1;let s=l.url;if(s.length<=r.length)return!1;s=s.replace(/\*+$/,"");const a=e.md.normalizeLink(s);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const c=e.push("link_open","a",1);c.attrs=[["href",a]],c.markup="linkify",c.info="auto";const u=e.push("text","",0);u.content=e.md.normalizeLinkText(s);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=s.length-r.length,!0}function Wc(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const o=e.pending.length-1,i=e.posMax;if(!t)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let r=o-1;for(;r>=1&&e.pending.charCodeAt(r-1)===32;)r--;e.pending=e.pending.slice(0,r),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&te(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const zo=[];for(let e=0;e<256;e++)zo.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){zo[e.charCodeAt(0)]=1});function Vc(e,t){let n=e.pos;const o=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=o))return!1;let i=e.src.charCodeAt(n);if(i===10){for(t||e.push("hardbreak","br",0),n++;n<o&&(i=e.src.charCodeAt(n),!!te(i));)n++;return e.pos=n,!0}let r=e.src[n];if(i>=55296&&i<=56319&&n+1<o){const s=e.src.charCodeAt(n+1);s>=56320&&s<=57343&&(r+=e.src[n+1],n++)}const l="\\"+r;if(!t){const s=e.push("text_special","",0);i<256&&zo[i]!==0?s.content=r:s.content=l,s.markup=l,s.info="escape"}return e.pos=n+1,!0}function qc(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const i=n;n++;const r=e.posMax;for(;n<r&&e.src.charCodeAt(n)===96;)n++;const l=e.src.slice(i,n),s=l.length;if(e.backticksScanned&&(e.backticks[s]||0)<=i)return t||(e.pending+=l),e.pos+=s,!0;let a=n,c;for(;(c=e.src.indexOf("`",a))!==-1;){for(a=c+1;a<r&&e.src.charCodeAt(a)===96;)a++;const u=a-c;if(u===s){if(!t){const d=e.push("code_inline","code",0);d.markup=l,d.content=e.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=a,!0}e.backticks[u]=c}return e.backticksScanned=!0,t||(e.pending+=l),e.pos+=s,!0}function Gc(e,t){const n=e.pos,o=e.src.charCodeAt(n);if(t||o!==126)return!1;const i=e.scanDelims(e.pos,!0);let r=i.length;const l=String.fromCharCode(o);if(r<2)return!1;let s;r%2&&(s=e.push("text","",0),s.content=l,r--);for(let a=0;a<r;a+=2)s=e.push("text","",0),s.content=l+l,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0}function Xi(e,t){let n;const o=[],i=t.length;for(let r=0;r<i;r++){const l=t[r];if(l.marker!==126||l.end===-1)continue;const s=t[l.end];n=e.tokens[l.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[s.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&o.push(s.token-1)}for(;o.length;){const r=o.pop();let l=r+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,r!==l&&(n=e.tokens[l],e.tokens[l]=e.tokens[r],e.tokens[r]=n)}}function Zc(e){const t=e.tokens_meta,n=e.tokens_meta.length;Xi(e,e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&Xi(e,t[o].delimiters)}const Xr={tokenize:Gc,postProcess:Zc};function Xc(e,t){const n=e.pos,o=e.src.charCodeAt(n);if(t||o!==95&&o!==42)return!1;const i=e.scanDelims(e.pos,o===42);for(let r=0;r<i.length;r++){const l=e.push("text","",0);l.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0}function Ki(e,t){const n=t.length;for(let o=n-1;o>=0;o--){const i=t[o];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const r=t[i.end],l=o>0&&t[o-1].end===i.end+1&&t[o-1].marker===i.marker&&t[o-1].token===i.token-1&&t[i.end+1].token===r.token+1,s=String.fromCharCode(i.marker),a=e.tokens[i.token];a.type=l?"strong_open":"em_open",a.tag=l?"strong":"em",a.nesting=1,a.markup=l?s+s:s,a.content="";const c=e.tokens[r.token];c.type=l?"strong_close":"em_close",c.tag=l?"strong":"em",c.nesting=-1,c.markup=l?s+s:s,c.content="",l&&(e.tokens[t[o-1].token].content="",e.tokens[t[i.end+1].token].content="",o--)}}function Kc(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ki(e,e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&Ki(e,t[o].delimiters)}const Kr={tokenize:Xc,postProcess:Kc};function Qc(e,t){let n,o,i,r,l="",s="",a=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const u=e.pos,d=e.posMax,g=e.pos+1,b=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(b<0)return!1;let f=b+1;if(f<d&&e.src.charCodeAt(f)===40){for(c=!1,f++;f<d&&(n=e.src.charCodeAt(f),!(!te(n)&&n!==10));f++);if(f>=d)return!1;if(a=f,i=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),i.ok){for(l=e.md.normalizeLink(i.str),e.md.validateLink(l)?f=i.pos:l="",a=f;f<d&&(n=e.src.charCodeAt(f),!(!te(n)&&n!==10));f++);if(i=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&a!==f&&i.ok)for(s=i.str,f=i.pos;f<d&&(n=e.src.charCodeAt(f),!(!te(n)&&n!==10));f++);}(f>=d||e.src.charCodeAt(f)!==41)&&(c=!0),f++}if(c){if(typeof e.env.references>"u")return!1;if(f<d&&e.src.charCodeAt(f)===91?(a=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?o=e.src.slice(a,f++):f=b+1):f=b+1,o||(o=e.src.slice(g,b)),r=e.env.references[Un(o)],!r)return e.pos=u,!1;l=r.href,s=r.title}if(!t){e.pos=g,e.posMax=b;const v=e.push("link_open","a",1),k=[["href",l]];v.attrs=k,s&&k.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}function Jc(e,t){let n,o,i,r,l,s,a,c,u="";const d=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const b=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if(r=f+1,r<g&&e.src.charCodeAt(r)===40){for(r++;r<g&&(n=e.src.charCodeAt(r),!(!te(n)&&n!==10));r++);if(r>=g)return!1;for(c=r,s=e.md.helpers.parseLinkDestination(e.src,r,e.posMax),s.ok&&(u=e.md.normalizeLink(s.str),e.md.validateLink(u)?r=s.pos:u=""),c=r;r<g&&(n=e.src.charCodeAt(r),!(!te(n)&&n!==10));r++);if(s=e.md.helpers.parseLinkTitle(e.src,r,e.posMax),r<g&&c!==r&&s.ok)for(a=s.str,r=s.pos;r<g&&(n=e.src.charCodeAt(r),!(!te(n)&&n!==10));r++);else a="";if(r>=g||e.src.charCodeAt(r)!==41)return e.pos=d,!1;r++}else{if(typeof e.env.references>"u")return!1;if(r<g&&e.src.charCodeAt(r)===91?(c=r+1,r=e.md.helpers.parseLinkLabel(e,r),r>=0?i=e.src.slice(c,r++):r=f+1):r=f+1,i||(i=e.src.slice(b,f)),l=e.env.references[Un(i)],!l)return e.pos=d,!1;u=l.href,a=l.title}if(!t){o=e.src.slice(b,f);const v=[];e.md.inline.parse(o,e.md,e.env,v);const k=e.push("image","img",0),_=[["src",u],["alt",""]];k.attrs=_,k.children=v,k.content=o,a&&_.push(["title",a])}return e.pos=r,e.posMax=g,!0}const Yc=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,eu=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function tu(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const o=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const l=e.src.charCodeAt(n);if(l===60)return!1;if(l===62)break}const r=e.src.slice(o+1,n);if(eu.test(r)){const l=e.md.normalizeLink(r);if(!e.md.validateLink(l))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",l]],s.markup="autolink",s.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(r);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=r.length+2,!0}if(Yc.test(r)){const l=e.md.normalizeLink("mailto:"+r);if(!e.md.validateLink(l))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",l]],s.markup="autolink",s.info="auto";const a=e.push("text","",0);a.content=e.md.normalizeLinkText(r);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=r.length+2,!0}return!1}function nu(e){return/^<a[>\s]/i.test(e)}function ou(e){return/^<\/a\s*>/i.test(e)}function iu(e){const t=e|32;return t>=97&&t<=122}function ru(e,t){if(!e.md.options.html)return!1;const n=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=n)return!1;const i=e.src.charCodeAt(o+1);if(i!==33&&i!==63&&i!==47&&!iu(i))return!1;const r=e.src.slice(o).match(zc);if(!r)return!1;if(!t){const l=e.push("html_inline","",0);l.content=r[0],nu(l.content)&&e.linkLevel++,ou(l.content)&&e.linkLevel--}return e.pos+=r[0].length,!0}const lu=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,su=/^&([a-z][a-z0-9]{1,31});/i;function au(e,t){const n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=o)return!1;if(e.src.charCodeAt(n+1)===35){const r=e.src.slice(n).match(lu);if(r){if(!t){const l=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),s=e.push("text_special","",0);s.content=Io(l)?zn(l):zn(65533),s.markup=r[0],s.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(su);if(r){const l=Fr.decodeHTML(r[0]);if(l!==r[0]){if(!t){const s=e.push("text_special","",0);s.content=l,s.markup=r[0],s.info="entity"}return e.pos+=r[0].length,!0}}}return!1}function Qi(e){const t={},n=e.length;if(!n)return;let o=0,i=-2;const r=[];for(let l=0;l<n;l++){const s=e[l];if(r.push(0),(e[o].marker!==s.marker||i!==s.token-1)&&(o=l),i=s.token,s.length=s.length||0,!s.close)continue;t.hasOwnProperty(s.marker)||(t[s.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[s.marker][(s.open?3:0)+s.length%3];let c=o-r[o]-1,u=c;for(;c>a;c-=r[c]+1){const d=e[c];if(d.marker===s.marker&&d.open&&d.end<0){let g=!1;if((d.close||s.open)&&(d.length+s.length)%3===0&&(d.length%3!==0||s.length%3!==0)&&(g=!0),!g){const b=c>0&&!e[c-1].open?r[c-1]+1:0;r[l]=l-c+b,r[c]=b,s.open=!1,d.end=l,d.close=!1,u=-1,i=-2;break}}}u!==-1&&(t[s.marker][(s.open?3:0)+(s.length||0)%3]=u)}}function cu(e){const t=e.tokens_meta,n=e.tokens_meta.length;Qi(e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&Qi(t[o].delimiters)}function uu(e){let t,n,o=0;const i=e.tokens,r=e.tokens.length;for(t=n=0;t<r;t++)i[t].nesting<0&&o--,i[t].level=o,i[t].nesting>0&&o++,i[t].type==="text"&&t+1<r&&i[t+1].type==="text"?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}const eo=[["text",jc],["linkify",Uc],["newline",Wc],["escape",Vc],["backticks",qc],["strikethrough",Xr.tokenize],["emphasis",Kr.tokenize],["link",Qc],["image",Jc],["autolink",tu],["html_inline",ru],["entity",au]],to=[["balance_pairs",cu],["strikethrough",Xr.postProcess],["emphasis",Kr.postProcess],["fragments_join",uu]];function Jt(){this.ruler=new xe;for(let e=0;e<eo.length;e++)this.ruler.push(eo[e][0],eo[e][1]);this.ruler2=new xe;for(let e=0;e<to.length;e++)this.ruler2.push(to[e][0],to[e][1])}Jt.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),o=n.length,i=e.md.options.maxNesting,r=e.cache;if(typeof r[t]<"u"){e.pos=r[t];return}let l=!1;if(e.level<i){for(let s=0;s<o;s++)if(e.level++,l=n[s](e,!0),e.level--,l){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,r[t]=e.pos};Jt.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,o=e.posMax,i=e.md.options.maxNesting;for(;e.pos<o;){const r=e.pos;let l=!1;if(e.level<i){for(let s=0;s<n;s++)if(l=t[s](e,!1),l){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Jt.prototype.parse=function(e,t,n,o){const i=new this.State(e,t,n,o);this.tokenize(i);const r=this.ruler2.getRules(""),l=r.length;for(let s=0;s<l;s++)r[s](i)};Jt.prototype.State=Qt;function du(e){const t={};e=e||{},t.src_Any=Rr.source,t.src_Cc=Hr.source,t.src_Z=Nr.source,t.src_P=So.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function ho(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(o){e[o]=n[o]})}),e}function Vn(e){return Object.prototype.toString.call(e)}function fu(e){return Vn(e)==="[object String]"}function hu(e){return Vn(e)==="[object Object]"}function mu(e){return Vn(e)==="[object RegExp]"}function Ji(e){return Vn(e)==="[object Function]"}function pu(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Qr={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function gu(e){return Object.keys(e||{}).reduce(function(t,n){return t||Qr.hasOwnProperty(n)},!1)}const vu={"http:":{validate:function(e,t,n){const o=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const o=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const o=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},bu="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",_u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function ku(e){e.__index__=-1,e.__text_cache__=""}function yu(e){return function(t,n){const o=t.slice(n);return e.test(o)?o.match(e)[0].length:0}}function Yi(){return function(e,t){t.normalize(e)}}function Mn(e){const t=e.re=du(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(bu),n.push(t.src_xn),t.src_tlds=n.join("|");function o(s){return s.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");const i=[];e.__compiled__={};function r(s,a){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+a)}Object.keys(e.__schemas__).forEach(function(s){const a=e.__schemas__[s];if(a===null)return;const c={validate:null,link:null};if(e.__compiled__[s]=c,hu(a)){mu(a.validate)?c.validate=yu(a.validate):Ji(a.validate)?c.validate=a.validate:r(s,a),Ji(a.normalize)?c.normalize=a.normalize:a.normalize?r(s,a):c.normalize=Yi();return}if(fu(a)){i.push(s);return}r(s,a)}),i.forEach(function(s){e.__compiled__[e.__schemas__[s]]&&(e.__compiled__[s].validate=e.__compiled__[e.__schemas__[s]].validate,e.__compiled__[s].normalize=e.__compiled__[e.__schemas__[s]].normalize)}),e.__compiled__[""]={validate:null,normalize:Yi()};const l=Object.keys(e.__compiled__).filter(function(s){return s.length>0&&e.__compiled__[s]}).map(pu).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),ku(e)}function Cu(e,t){const n=e.__index__,o=e.__last_index__,i=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=o+t,this.raw=i,this.text=i,this.url=i}function mo(e,t){const n=new Cu(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function De(e,t){if(!(this instanceof De))return new De(e,t);t||gu(e)&&(t=e,e={}),this.__opts__=ho({},Qr,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ho({},vu,e),this.__compiled__={},this.__tlds__=_u,this.__tlds_replaced__=!1,this.re={},Mn(this)}De.prototype.add=function(t,n){return this.__schemas__[t]=n,Mn(this),this};De.prototype.set=function(t){return this.__opts__=ho(this.__opts__,t),this};De.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,o,i,r,l,s,a,c,u;if(this.re.schema_test.test(t)){for(a=this.re.schema_search,a.lastIndex=0;(n=a.exec(t))!==null;)if(r=this.testSchemaAt(t,n[2],a.lastIndex),r){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(o=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=o.index+o[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(l=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=s))),this.__index__>=0};De.prototype.pretest=function(t){return this.re.pretest.test(t)};De.prototype.testSchemaAt=function(t,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,o,this):0};De.prototype.match=function(t){const n=[];let o=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(mo(this,o)),o=this.__last_index__);let i=o?t.slice(o):t;for(;this.test(i);)n.push(mo(this,o)),i=i.slice(this.__last_index__),o+=this.__last_index__;return n.length?n:null};De.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const o=this.testSchemaAt(t,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,mo(this,0)):null};De.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(o,i,r){return o!==r[i-1]}).reverse(),Mn(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Mn(this),this)};De.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};De.prototype.onCompile=function(){};const Ft=2147483647,je=36,Mo=1,qt=26,xu=38,wu=700,Jr=72,Yr=128,el="-",Au=/^xn--/,Eu=/[^\0-\x7F]/,Fu=/[\x2E\u3002\uFF0E\uFF61]/g,Du={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},no=je-Mo,Ne=Math.floor,oo=String.fromCharCode;function rt(e){throw new RangeError(Du[e])}function Tu(e,t){const n=[];let o=e.length;for(;o--;)n[o]=t(e[o]);return n}function tl(e,t){const n=e.split("@");let o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(Fu,".");const i=e.split("."),r=Tu(i,t).join(".");return o+r}function nl(e){const t=[];let n=0;const o=e.length;for(;n<o;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}const Su=e=>String.fromCodePoint(...e),$u=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:je},er=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},ol=function(e,t,n){let o=0;for(e=n?Ne(e/wu):e>>1,e+=Ne(e/t);e>no*qt>>1;o+=je)e=Ne(e/no);return Ne(o+(no+1)*e/(e+xu))},il=function(e){const t=[],n=e.length;let o=0,i=Yr,r=Jr,l=e.lastIndexOf(el);l<0&&(l=0);for(let s=0;s<l;++s)e.charCodeAt(s)>=128&&rt("not-basic"),t.push(e.charCodeAt(s));for(let s=l>0?l+1:0;s<n;){const a=o;for(let u=1,d=je;;d+=je){s>=n&&rt("invalid-input");const g=$u(e.charCodeAt(s++));g>=je&&rt("invalid-input"),g>Ne((Ft-o)/u)&&rt("overflow"),o+=g*u;const b=d<=r?Mo:d>=r+qt?qt:d-r;if(g<b)break;const f=je-b;u>Ne(Ft/f)&&rt("overflow"),u*=f}const c=t.length+1;r=ol(o-a,c,a==0),Ne(o/c)>Ft-i&&rt("overflow"),i+=Ne(o/c),o%=c,t.splice(o++,0,i)}return String.fromCodePoint(...t)},rl=function(e){const t=[];e=nl(e);const n=e.length;let o=Yr,i=0,r=Jr;for(const a of e)a<128&&t.push(oo(a));const l=t.length;let s=l;for(l&&t.push(el);s<n;){let a=Ft;for(const u of e)u>=o&&u<a&&(a=u);const c=s+1;a-o>Ne((Ft-i)/c)&&rt("overflow"),i+=(a-o)*c,o=a;for(const u of e)if(u<o&&++i>Ft&&rt("overflow"),u===o){let d=i;for(let g=je;;g+=je){const b=g<=r?Mo:g>=r+qt?qt:g-r;if(d<b)break;const f=d-b,v=je-b;t.push(oo(er(b+f%v,0))),d=Ne(f/v)}t.push(oo(er(d,0))),r=ol(i,c,s===l),i=0,++s}++i,++o}return t.join("")},Iu=function(e){return tl(e,function(t){return Au.test(t)?il(t.slice(4).toLowerCase()):t})},Lu=function(e){return tl(e,function(t){return Eu.test(t)?"xn--"+rl(t):t})},ll={version:"2.3.1",ucs2:{decode:nl,encode:Su},decode:il,encode:rl,toASCII:Lu,toUnicode:Iu},zu={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Mu={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Ou={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Pu={default:zu,zero:Mu,commonmark:Ou},Bu=/^(vbscript|javascript|file|data):/,Ru=/^data:image\/(gif|png|jpeg|webp);/;function Hu(e){const t=e.trim().toLowerCase();return Bu.test(t)?Ru.test(t):!0}const sl=["http:","https:","mailto:"];function ju(e){const t=To(e,!0);if(t.hostname&&(!t.protocol||sl.indexOf(t.protocol)>=0))try{t.hostname=ll.toASCII(t.hostname)}catch{}return Kt(Do(t))}function Nu(e){const t=To(e,!0);if(t.hostname&&(!t.protocol||sl.indexOf(t.protocol)>=0))try{t.hostname=ll.toUnicode(t.hostname)}catch{}return It(Do(t),It.defaultChars+"%")}function $e(e,t){if(!(this instanceof $e))return new $e(e,t);t||$o(e)||(t=e||{},e="default"),this.inline=new Jt,this.block=new Wn,this.core=new Lo,this.renderer=new zt,this.linkify=new De,this.validateLink=Hu,this.normalizeLink=ju,this.normalizeLinkText=Nu,this.utils=Wa,this.helpers=Nn({},Za),this.options={},this.configure(e),t&&this.set(t)}$e.prototype.set=function(e){return Nn(this.options,e),this};$e.prototype.configure=function(e){const t=this;if($o(e)){const n=e;if(e=Pu[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};$e.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const o=e.filter(function(i){return n.indexOf(i)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};$e.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const o=e.filter(function(i){return n.indexOf(i)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};$e.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};$e.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};$e.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};$e.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};$e.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const tr=new Set([!0,!1,"alt","title"]);function al(e,t){return(Array.isArray(e)?e:[]).filter(([n])=>n!==t)}function cl(e,t){e&&e.attrs&&(e.attrs=al(e.attrs,t))}function Uu(e,t){if(!tr.has(e))throw new TypeError(`figcaption must be one of: ${[...tr]}.`);if(e==="alt")return t.content;const n=t.attrs.find(([o])=>o==="title");return Array.isArray(n)&&n[1]?(cl(t,"title"),n[1]):void 0}function Wu(e,t){t=t||{},e.core.ruler.before("linkify","image_figures",function(n){let o=1;for(let i=1,r=n.tokens.length;i<r-1;++i){const l=n.tokens[i];if(l.type!=="inline"||!l.children||l.children.length!==1&&l.children.length!==3||l.children.length===1&&l.children[0].type!=="image")continue;if(l.children.length===3){const[c,u,d]=l.children;if(c.type!=="link_open"||u.type!=="image"||d.type!=="link_close")continue}if(i!==0&&n.tokens[i-1].type!=="paragraph_open"||i!==r-1&&n.tokens[i+1].type!=="paragraph_close")continue;const s=n.tokens[i-1];let a;if(s.type="figure_open",s.tag="figure",n.tokens[i+1].type="figure_close",n.tokens[i+1].tag="figure",t.dataType&&n.tokens[i-1].attrPush(["data-type","image"]),t.link&&l.children.length===1){[a]=l.children;const c=new n.Token("link_open","a",1);c.attrPush(["href",a.attrGet("src")]),l.children.unshift(c),l.children.push(new n.Token("link_close","a",-1))}if(a=l.children.length===1?l.children[0]:l.children[1],t.figcaption){const c=Uu(t.figcaption,a);if(c){const[u]=e.parseInline(c,n.env);l.children.push(new n.Token("figcaption_open","figcaption",1)),l.children.push(...u.children),l.children.push(new n.Token("figcaption_close","figcaption",-1)),a.attrs&&(a.attrs=al(a.attrs,"title"))}}if(t.copyAttrs&&a.attrs){const c=t.copyAttrs===!0?"":t.copyAttrs;s.attrs=a.attrs.filter(([u])=>u.match(c)).map(u=>Array.from(u))}if(t.tabindex&&(n.tokens[i-1].attrPush(["tabindex",o]),o++),t.lazy&&(a.attrs.some(([c])=>c==="loading")||a.attrs.push(["loading","lazy"])),t.async&&(a.attrs.some(([c])=>c==="decoding")||a.attrs.push(["decoding","async"])),t.classes&&typeof t.classes=="string"){let c=!1;for(let u=0,d=a.attrs.length;u<d&&!c;u++){const g=a.attrs[u];g[0]==="class"&&(g[1]=`${g[1]} ${t.classes}`,c=!0)}c||a.attrs.push(["class",t.classes])}if(t.removeSrc){const c=a.attrs.find(([u])=>u==="src");a.attrs.push(["data-src",c[1]]),cl(a,"src")}}})}var po=!0,ul=!1,dl=!1,Vu=function(e,t){t&&(po=!t.enabled,ul=!!t.label,dl=!!t.labelAfter),e.core.ruler.after("inline","github-task-lists",function(n){for(var o=n.tokens,i=2;i<o.length;i++)Gu(o,i)&&(Zu(o[i],n.Token),nr(o[i-2],"class","task-list-item"+(po?"":" enabled")),nr(o[qu(o,i-2)],"class","contains-task-list"))})};function nr(e,t,n){var o=e.attrIndex(t),i=[t,n];o<0?e.attrPush(i):e.attrs[o]=i}function qu(e,t){for(var n=e[t].level-1,o=t-1;o>=0;o--)if(e[o].level===n)return o;return-1}function Gu(e,t){return Yu(e[t])&&ed(e[t-1])&&td(e[t-2])&&nd(e[t])}function Zu(e,t){if(e.children.unshift(Xu(e,t)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),ul)if(dl){e.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+n+'">',e.children.push(Ju(e.content,n,t))}else e.children.unshift(Ku(t)),e.children.push(Qu(t))}function Xu(e,t){var n=new t("html_inline","",0),o=po?' disabled="" ':"";return e.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+o+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+o+'type="checkbox">'),n}function Ku(e){var t=new e("html_inline","",0);return t.content="<label>",t}function Qu(e){var t=new e("html_inline","",0);return t.content="</label>",t}function Ju(e,t,n){var o=new n("html_inline","",0);return o.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",o.attrs=[{for:t}],o}function Yu(e){return e.type==="inline"}function ed(e){return e.type==="paragraph_open"}function td(e){return e.type==="list_item_open"}function nd(e){return e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0}const od=Sr(Vu),Ct=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,fl=new Set,go=typeof process=="object"&&process?process:{},hl=(e,t,n,o)=>{typeof go.emitWarning=="function"?go.emitWarning(e,t,n,o):console.error(`[${n}] ${t}: ${e}`)};let On=globalThis.AbortController,or=globalThis.AbortSignal;var wr;if(typeof On>"u"){or=class{constructor(){re(this,"onabort");re(this,"_onabort",[]);re(this,"reason");re(this,"aborted",!1)}addEventListener(o,i){this._onabort.push(i)}},On=class{constructor(){re(this,"signal",new or);t()}abort(o){var i,r;if(!this.signal.aborted){this.signal.reason=o,this.signal.aborted=!0;for(const l of this.signal._onabort)l(o);(r=(i=this.signal).onabort)==null||r.call(i,o)}}};let e=((wr=go.env)==null?void 0:wr.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const t=()=>{e&&(e=!1,hl("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const id=e=>!fl.has(e),tt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),ml=e=>tt(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?An:null:null;class An extends Array{constructor(t){super(t),this.fill(0)}}var Dt;const dt=class dt{constructor(t,n){re(this,"heap");re(this,"length");if(!h(dt,Dt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}static create(t){const n=ml(t);if(!n)return[];H(dt,Dt,!0);const o=new dt(t,n);return H(dt,Dt,!1),o}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};Dt=new WeakMap,X(dt,Dt,!1);let vo=dt;var Ar,Er,Ie,we,Le,ze,Tt,St,fe,Me,ue,oe,U,be,Ae,ve,me,Oe,pe,Pe,Be,Ee,Re,st,_e,I,_o,ft,Ke,Gt,Fe,pl,ht,$t,Zt,nt,ot,ko,En,Fn,ne,yo,Bt,it,Co;const Bo=class Bo{constructor(t){X(this,I);X(this,Ie);X(this,we);X(this,Le);X(this,ze);X(this,Tt);X(this,St);re(this,"ttl");re(this,"ttlResolution");re(this,"ttlAutopurge");re(this,"updateAgeOnGet");re(this,"updateAgeOnHas");re(this,"allowStale");re(this,"noDisposeOnSet");re(this,"noUpdateTTL");re(this,"maxEntrySize");re(this,"sizeCalculation");re(this,"noDeleteOnFetchRejection");re(this,"noDeleteOnStaleGet");re(this,"allowStaleOnFetchAbort");re(this,"allowStaleOnFetchRejection");re(this,"ignoreFetchAbort");X(this,fe);X(this,Me);X(this,ue);X(this,oe);X(this,U);X(this,be);X(this,Ae);X(this,ve);X(this,me);X(this,Oe);X(this,pe);X(this,Pe);X(this,Be);X(this,Ee);X(this,Re);X(this,st);X(this,_e);X(this,ft,()=>{});X(this,Ke,()=>{});X(this,Gt,()=>{});X(this,Fe,()=>!1);X(this,ht,t=>{});X(this,$t,(t,n,o)=>{});X(this,Zt,(t,n,o,i)=>{if(o||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});re(this,Ar,"LRUCache");const{max:n=0,ttl:o,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:l,updateAgeOnHas:s,allowStale:a,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:g,maxSize:b=0,maxEntrySize:f=0,sizeCalculation:v,fetchMethod:k,memoMethod:_,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:A,ignoreFetchAbort:S}=t;if(n!==0&&!tt(n))throw new TypeError("max option must be a nonnegative integer");const D=n?ml(n):Array;if(!D)throw new Error("invalid max value: "+n);if(H(this,Ie,n),H(this,we,b),this.maxEntrySize=f||h(this,we),this.sizeCalculation=v,this.sizeCalculation){if(!h(this,we)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(_!==void 0&&typeof _!="function")throw new TypeError("memoMethod must be a function if defined");if(H(this,St,_),k!==void 0&&typeof k!="function")throw new TypeError("fetchMethod must be a function if specified");if(H(this,Tt,k),H(this,st,!!k),H(this,ue,new Map),H(this,oe,new Array(n).fill(void 0)),H(this,U,new Array(n).fill(void 0)),H(this,be,new D(n)),H(this,Ae,new D(n)),H(this,ve,0),H(this,me,0),H(this,Oe,vo.create(n)),H(this,fe,0),H(this,Me,0),typeof c=="function"&&H(this,Le,c),typeof u=="function"?(H(this,ze,u),H(this,pe,[])):(H(this,ze,void 0),H(this,pe,void 0)),H(this,Re,!!h(this,Le)),H(this,_e,!!h(this,ze)),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(h(this,we)!==0&&!tt(h(this,we)))throw new TypeError("maxSize must be a positive integer if specified");if(!tt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");O(this,I,pl).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!s,this.ttlResolution=tt(i)||i===0?i:1,this.ttlAutopurge=!!r,this.ttl=o||0,this.ttl){if(!tt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");O(this,I,_o).call(this)}if(h(this,Ie)===0&&this.ttl===0&&h(this,we)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!h(this,Ie)&&!h(this,we)){const x="LRU_CACHE_UNBOUNDED";id(x)&&(fl.add(x),hl("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",x,Bo))}}static unsafeExposeInternals(t){return{starts:h(t,Be),ttls:h(t,Ee),sizes:h(t,Pe),keyMap:h(t,ue),keyList:h(t,oe),valList:h(t,U),next:h(t,be),prev:h(t,Ae),get head(){return h(t,ve)},get tail(){return h(t,me)},free:h(t,Oe),isBackgroundFetch:n=>{var o;return O(o=t,I,ne).call(o,n)},backgroundFetch:(n,o,i,r)=>{var l;return O(l=t,I,Fn).call(l,n,o,i,r)},moveToTail:n=>{var o;return O(o=t,I,Bt).call(o,n)},indexes:n=>{var o;return O(o=t,I,nt).call(o,n)},rindexes:n=>{var o;return O(o=t,I,ot).call(o,n)},isStale:n=>{var o;return h(o=t,Fe).call(o,n)}}}get max(){return h(this,Ie)}get maxSize(){return h(this,we)}get calculatedSize(){return h(this,Me)}get size(){return h(this,fe)}get fetchMethod(){return h(this,Tt)}get memoMethod(){return h(this,St)}get dispose(){return h(this,Le)}get disposeAfter(){return h(this,ze)}getRemainingTTL(t){return h(this,ue).has(t)?1/0:0}*entries(){for(const t of O(this,I,nt).call(this))h(this,U)[t]!==void 0&&h(this,oe)[t]!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield[h(this,oe)[t],h(this,U)[t]])}*rentries(){for(const t of O(this,I,ot).call(this))h(this,U)[t]!==void 0&&h(this,oe)[t]!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield[h(this,oe)[t],h(this,U)[t]])}*keys(){for(const t of O(this,I,nt).call(this)){const n=h(this,oe)[t];n!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield n)}}*rkeys(){for(const t of O(this,I,ot).call(this)){const n=h(this,oe)[t];n!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield n)}}*values(){for(const t of O(this,I,nt).call(this))h(this,U)[t]!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield h(this,U)[t])}*rvalues(){for(const t of O(this,I,ot).call(this))h(this,U)[t]!==void 0&&!O(this,I,ne).call(this,h(this,U)[t])&&(yield h(this,U)[t])}[(Er=Symbol.iterator,Ar=Symbol.toStringTag,Er)](){return this.entries()}find(t,n={}){for(const o of O(this,I,nt).call(this)){const i=h(this,U)[o],r=O(this,I,ne).call(this,i)?i.__staleWhileFetching:i;if(r!==void 0&&t(r,h(this,oe)[o],this))return this.get(h(this,oe)[o],n)}}forEach(t,n=this){for(const o of O(this,I,nt).call(this)){const i=h(this,U)[o],r=O(this,I,ne).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&t.call(n,r,h(this,oe)[o],this)}}rforEach(t,n=this){for(const o of O(this,I,ot).call(this)){const i=h(this,U)[o],r=O(this,I,ne).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&t.call(n,r,h(this,oe)[o],this)}}purgeStale(){let t=!1;for(const n of O(this,I,ot).call(this,{allowStale:!0}))h(this,Fe).call(this,n)&&(O(this,I,it).call(this,h(this,oe)[n],"expire"),t=!0);return t}info(t){const n=h(this,ue).get(t);if(n===void 0)return;const o=h(this,U)[n],i=O(this,I,ne).call(this,o)?o.__staleWhileFetching:o;if(i===void 0)return;const r={value:i};if(h(this,Ee)&&h(this,Be)){const l=h(this,Ee)[n],s=h(this,Be)[n];if(l&&s){const a=l-(Ct.now()-s);r.ttl=a,r.start=Date.now()}}return h(this,Pe)&&(r.size=h(this,Pe)[n]),r}dump(){const t=[];for(const n of O(this,I,nt).call(this,{allowStale:!0})){const o=h(this,oe)[n],i=h(this,U)[n],r=O(this,I,ne).call(this,i)?i.__staleWhileFetching:i;if(r===void 0||o===void 0)continue;const l={value:r};if(h(this,Ee)&&h(this,Be)){l.ttl=h(this,Ee)[n];const s=Ct.now()-h(this,Be)[n];l.start=Math.floor(Date.now()-s)}h(this,Pe)&&(l.size=h(this,Pe)[n]),t.unshift([o,l])}return t}load(t){this.clear();for(const[n,o]of t){if(o.start){const i=Date.now()-o.start;o.start=Ct.now()-i}this.set(n,o.value,o)}}set(t,n,o={}){var g,b,f,v,k;if(n===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=o;let{noUpdateTTL:c=this.noUpdateTTL}=o;const u=h(this,Zt).call(this,t,n,o.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),O(this,I,it).call(this,t,"set"),this;let d=h(this,fe)===0?void 0:h(this,ue).get(t);if(d===void 0)d=h(this,fe)===0?h(this,me):h(this,Oe).length!==0?h(this,Oe).pop():h(this,fe)===h(this,Ie)?O(this,I,En).call(this,!1):h(this,fe),h(this,oe)[d]=t,h(this,U)[d]=n,h(this,ue).set(t,d),h(this,be)[h(this,me)]=d,h(this,Ae)[d]=h(this,me),H(this,me,d),an(this,fe)._++,h(this,$t).call(this,d,u,a),a&&(a.set="add"),c=!1;else{O(this,I,Bt).call(this,d);const _=h(this,U)[d];if(n!==_){if(h(this,st)&&O(this,I,ne).call(this,_)){_.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:y}=_;y!==void 0&&!l&&(h(this,Re)&&((g=h(this,Le))==null||g.call(this,y,t,"set")),h(this,_e)&&((b=h(this,pe))==null||b.push([y,t,"set"])))}else l||(h(this,Re)&&((f=h(this,Le))==null||f.call(this,_,t,"set")),h(this,_e)&&((v=h(this,pe))==null||v.push([_,t,"set"])));if(h(this,ht).call(this,d),h(this,$t).call(this,d,u,a),h(this,U)[d]=n,a){a.set="replace";const y=_&&O(this,I,ne).call(this,_)?_.__staleWhileFetching:_;y!==void 0&&(a.oldValue=y)}}else a&&(a.set="update")}if(i!==0&&!h(this,Ee)&&O(this,I,_o).call(this),h(this,Ee)&&(c||h(this,Gt).call(this,d,i,r),a&&h(this,Ke).call(this,a,d)),!l&&h(this,_e)&&h(this,pe)){const _=h(this,pe);let y;for(;y=_==null?void 0:_.shift();)(k=h(this,ze))==null||k.call(this,...y)}return this}pop(){var t;try{for(;h(this,fe);){const n=h(this,U)[h(this,ve)];if(O(this,I,En).call(this,!0),O(this,I,ne).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(h(this,_e)&&h(this,pe)){const n=h(this,pe);let o;for(;o=n==null?void 0:n.shift();)(t=h(this,ze))==null||t.call(this,...o)}}}has(t,n={}){const{updateAgeOnHas:o=this.updateAgeOnHas,status:i}=n,r=h(this,ue).get(t);if(r!==void 0){const l=h(this,U)[r];if(O(this,I,ne).call(this,l)&&l.__staleWhileFetching===void 0)return!1;if(h(this,Fe).call(this,r))i&&(i.has="stale",h(this,Ke).call(this,i,r));else return o&&h(this,ft).call(this,r),i&&(i.has="hit",h(this,Ke).call(this,i,r)),!0}else i&&(i.has="miss");return!1}peek(t,n={}){const{allowStale:o=this.allowStale}=n,i=h(this,ue).get(t);if(i===void 0||!o&&h(this,Fe).call(this,i))return;const r=h(this,U)[i];return O(this,I,ne).call(this,r)?r.__staleWhileFetching:r}async fetch(t,n={}){const{allowStale:o=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:b=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:v,forceRefresh:k=!1,status:_,signal:y}=n;if(!h(this,st))return _&&(_.fetch="get"),this.get(t,{allowStale:o,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:_});const C={allowStale:o,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:l,noDisposeOnSet:s,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:f,ignoreFetchAbort:b,status:_,signal:y};let w=h(this,ue).get(t);if(w===void 0){_&&(_.fetch="miss");const A=O(this,I,Fn).call(this,t,w,C,v);return A.__returned=A}else{const A=h(this,U)[w];if(O(this,I,ne).call(this,A)){const R=o&&A.__staleWhileFetching!==void 0;return _&&(_.fetch="inflight",R&&(_.returnedStale=!0)),R?A.__staleWhileFetching:A.__returned=A}const S=h(this,Fe).call(this,w);if(!k&&!S)return _&&(_.fetch="hit"),O(this,I,Bt).call(this,w),i&&h(this,ft).call(this,w),_&&h(this,Ke).call(this,_,w),A;const D=O(this,I,Fn).call(this,t,w,C,v),P=D.__staleWhileFetching!==void 0&&o;return _&&(_.fetch=S?"stale":"refresh",P&&S&&(_.returnedStale=!0)),P?D.__staleWhileFetching:D.__returned=D}}async forceFetch(t,n={}){const o=await this.fetch(t,n);if(o===void 0)throw new Error("fetch() returned undefined");return o}memo(t,n={}){const o=h(this,St);if(!o)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...l}=n,s=this.get(t,l);if(!r&&s!==void 0)return s;const a=o(t,s,{options:l,context:i});return this.set(t,a,l),a}get(t,n={}){const{allowStale:o=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:l}=n,s=h(this,ue).get(t);if(s!==void 0){const a=h(this,U)[s],c=O(this,I,ne).call(this,a);return l&&h(this,Ke).call(this,l,s),h(this,Fe).call(this,s)?(l&&(l.get="stale"),c?(l&&o&&a.__staleWhileFetching!==void 0&&(l.returnedStale=!0),o?a.__staleWhileFetching:void 0):(r||O(this,I,it).call(this,t,"expire"),l&&o&&(l.returnedStale=!0),o?a:void 0)):(l&&(l.get="hit"),c?a.__staleWhileFetching:(O(this,I,Bt).call(this,s),i&&h(this,ft).call(this,s),a))}else l&&(l.get="miss")}delete(t){return O(this,I,it).call(this,t,"delete")}clear(){return O(this,I,Co).call(this,"delete")}};Ie=new WeakMap,we=new WeakMap,Le=new WeakMap,ze=new WeakMap,Tt=new WeakMap,St=new WeakMap,fe=new WeakMap,Me=new WeakMap,ue=new WeakMap,oe=new WeakMap,U=new WeakMap,be=new WeakMap,Ae=new WeakMap,ve=new WeakMap,me=new WeakMap,Oe=new WeakMap,pe=new WeakMap,Pe=new WeakMap,Be=new WeakMap,Ee=new WeakMap,Re=new WeakMap,st=new WeakMap,_e=new WeakMap,I=new WeakSet,_o=function(){const t=new An(h(this,Ie)),n=new An(h(this,Ie));H(this,Ee,t),H(this,Be,n),H(this,Gt,(r,l,s=Ct.now())=>{if(n[r]=l!==0?s:0,t[r]=l,l!==0&&this.ttlAutopurge){const a=setTimeout(()=>{h(this,Fe).call(this,r)&&O(this,I,it).call(this,h(this,oe)[r],"expire")},l+1);a.unref&&a.unref()}}),H(this,ft,r=>{n[r]=t[r]!==0?Ct.now():0}),H(this,Ke,(r,l)=>{if(t[l]){const s=t[l],a=n[l];if(!s||!a)return;r.ttl=s,r.start=a,r.now=o||i();const c=r.now-a;r.remainingTTL=s-c}});let o=0;const i=()=>{const r=Ct.now();if(this.ttlResolution>0){o=r;const l=setTimeout(()=>o=0,this.ttlResolution);l.unref&&l.unref()}return r};this.getRemainingTTL=r=>{const l=h(this,ue).get(r);if(l===void 0)return 0;const s=t[l],a=n[l];if(!s||!a)return 1/0;const c=(o||i())-a;return s-c},H(this,Fe,r=>{const l=n[r],s=t[r];return!!s&&!!l&&(o||i())-l>s})},ft=new WeakMap,Ke=new WeakMap,Gt=new WeakMap,Fe=new WeakMap,pl=function(){const t=new An(h(this,Ie));H(this,Me,0),H(this,Pe,t),H(this,ht,n=>{H(this,Me,h(this,Me)-t[n]),t[n]=0}),H(this,Zt,(n,o,i,r)=>{if(O(this,I,ne).call(this,o))return 0;if(!tt(i))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(i=r(o,n),!tt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),H(this,$t,(n,o,i)=>{if(t[n]=o,h(this,we)){const r=h(this,we)-t[n];for(;h(this,Me)>r;)O(this,I,En).call(this,!0)}H(this,Me,h(this,Me)+t[n]),i&&(i.entrySize=o,i.totalCalculatedSize=h(this,Me))})},ht=new WeakMap,$t=new WeakMap,Zt=new WeakMap,nt=function*({allowStale:t=this.allowStale}={}){if(h(this,fe))for(let n=h(this,me);!(!O(this,I,ko).call(this,n)||((t||!h(this,Fe).call(this,n))&&(yield n),n===h(this,ve)));)n=h(this,Ae)[n]},ot=function*({allowStale:t=this.allowStale}={}){if(h(this,fe))for(let n=h(this,ve);!(!O(this,I,ko).call(this,n)||((t||!h(this,Fe).call(this,n))&&(yield n),n===h(this,me)));)n=h(this,be)[n]},ko=function(t){return t!==void 0&&h(this,ue).get(h(this,oe)[t])===t},En=function(t){var r,l;const n=h(this,ve),o=h(this,oe)[n],i=h(this,U)[n];return h(this,st)&&O(this,I,ne).call(this,i)?i.__abortController.abort(new Error("evicted")):(h(this,Re)||h(this,_e))&&(h(this,Re)&&((r=h(this,Le))==null||r.call(this,i,o,"evict")),h(this,_e)&&((l=h(this,pe))==null||l.push([i,o,"evict"]))),h(this,ht).call(this,n),t&&(h(this,oe)[n]=void 0,h(this,U)[n]=void 0,h(this,Oe).push(n)),h(this,fe)===1?(H(this,ve,H(this,me,0)),h(this,Oe).length=0):H(this,ve,h(this,be)[n]),h(this,ue).delete(o),an(this,fe)._--,n},Fn=function(t,n,o,i){const r=n===void 0?void 0:h(this,U)[n];if(O(this,I,ne).call(this,r))return r;const l=new On,{signal:s}=o;s==null||s.addEventListener("abort",()=>l.abort(s.reason),{signal:l.signal});const a={signal:l.signal,options:o,context:i},c=(v,k=!1)=>{const{aborted:_}=l.signal,y=o.ignoreFetchAbort&&v!==void 0;if(o.status&&(_&&!k?(o.status.fetchAborted=!0,o.status.fetchError=l.signal.reason,y&&(o.status.fetchAbortIgnored=!0)):o.status.fetchResolved=!0),_&&!y&&!k)return d(l.signal.reason);const C=b;return h(this,U)[n]===b&&(v===void 0?C.__staleWhileFetching?h(this,U)[n]=C.__staleWhileFetching:O(this,I,it).call(this,t,"fetch"):(o.status&&(o.status.fetchUpdated=!0),this.set(t,v,a.options))),v},u=v=>(o.status&&(o.status.fetchRejected=!0,o.status.fetchError=v),d(v)),d=v=>{const{aborted:k}=l.signal,_=k&&o.allowStaleOnFetchAbort,y=_||o.allowStaleOnFetchRejection,C=y||o.noDeleteOnFetchRejection,w=b;if(h(this,U)[n]===b&&(!C||w.__staleWhileFetching===void 0?O(this,I,it).call(this,t,"fetch"):_||(h(this,U)[n]=w.__staleWhileFetching)),y)return o.status&&w.__staleWhileFetching!==void 0&&(o.status.returnedStale=!0),w.__staleWhileFetching;if(w.__returned===w)throw v},g=(v,k)=>{var y;const _=(y=h(this,Tt))==null?void 0:y.call(this,t,r,a);_&&_ instanceof Promise&&_.then(C=>v(C===void 0?void 0:C),k),l.signal.addEventListener("abort",()=>{(!o.ignoreFetchAbort||o.allowStaleOnFetchAbort)&&(v(void 0),o.allowStaleOnFetchAbort&&(v=C=>c(C,!0)))})};o.status&&(o.status.fetchDispatched=!0);const b=new Promise(g).then(c,u),f=Object.assign(b,{__abortController:l,__staleWhileFetching:r,__returned:void 0});return n===void 0?(this.set(t,f,{...a.options,status:void 0}),n=h(this,ue).get(t)):h(this,U)[n]=f,f},ne=function(t){if(!h(this,st))return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof On},yo=function(t,n){h(this,Ae)[n]=t,h(this,be)[t]=n},Bt=function(t){t!==h(this,me)&&(t===h(this,ve)?H(this,ve,h(this,be)[t]):O(this,I,yo).call(this,h(this,Ae)[t],h(this,be)[t]),O(this,I,yo).call(this,h(this,me),t),H(this,me,t))},it=function(t,n){var i,r,l,s;let o=!1;if(h(this,fe)!==0){const a=h(this,ue).get(t);if(a!==void 0)if(o=!0,h(this,fe)===1)O(this,I,Co).call(this,n);else{h(this,ht).call(this,a);const c=h(this,U)[a];if(O(this,I,ne).call(this,c)?c.__abortController.abort(new Error("deleted")):(h(this,Re)||h(this,_e))&&(h(this,Re)&&((i=h(this,Le))==null||i.call(this,c,t,n)),h(this,_e)&&((r=h(this,pe))==null||r.push([c,t,n]))),h(this,ue).delete(t),h(this,oe)[a]=void 0,h(this,U)[a]=void 0,a===h(this,me))H(this,me,h(this,Ae)[a]);else if(a===h(this,ve))H(this,ve,h(this,be)[a]);else{const u=h(this,Ae)[a];h(this,be)[u]=h(this,be)[a];const d=h(this,be)[a];h(this,Ae)[d]=h(this,Ae)[a]}an(this,fe)._--,h(this,Oe).push(a)}}if(h(this,_e)&&((l=h(this,pe))!=null&&l.length)){const a=h(this,pe);let c;for(;c=a==null?void 0:a.shift();)(s=h(this,ze))==null||s.call(this,...c)}return o},Co=function(t){var n,o,i;for(const r of O(this,I,ot).call(this,{allowStale:!0})){const l=h(this,U)[r];if(O(this,I,ne).call(this,l))l.__abortController.abort(new Error("deleted"));else{const s=h(this,oe)[r];h(this,Re)&&((n=h(this,Le))==null||n.call(this,l,s,t)),h(this,_e)&&((o=h(this,pe))==null||o.push([l,s,t]))}}if(h(this,ue).clear(),h(this,U).fill(void 0),h(this,oe).fill(void 0),h(this,Ee)&&h(this,Be)&&(h(this,Ee).fill(0),h(this,Be).fill(0)),h(this,Pe)&&h(this,Pe).fill(0),H(this,ve,0),H(this,me,0),h(this,Oe).length=0,H(this,Me,0),H(this,fe,0),h(this,_e)&&h(this,pe)){const r=h(this,pe);let l;for(;l=r==null?void 0:r.shift();)(i=h(this,ze))==null||i.call(this,...l)}};let bo=Bo;function rd(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(o,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const ld=(e,t)=>{const n=q("editorId"),{noImgZoomIn:o}=e,i=Ao(()=>{const r=document.querySelectorAll(`#${n}-preview img:not(.not-zoom):not(.medium-zoom-image)`);r.length!==0&&la(r,{background:"#00000073"})});ae(()=>{!o&&e.setting.preview&&i()}),W([t,Je(e.setting,"preview")],()=>{!o&&e.setting.preview&&i()})},sd=(e,t,n)=>{const o=q("editorId"),i=q("usedLanguageText"),r=()=>{document.querySelectorAll(`#${o} .${m}-preview .${m}-code`).forEach(a=>{let c=-1;const u=a.querySelector(`.${m}-copy-button`);u&&(u.onclick=d=>{d.preventDefault(),clearTimeout(c);const b=(a.querySelector("input:checked + pre code")||a.querySelector("pre code")).textContent,f=pa(e.formatCopiedText(b)),{text:v,successTips:k,failTips:_}=i.value.copyCode,y=f?k:_;u.dataset.isIcon?u.dataset.tips=y:u.innerHTML=y,c=window.setTimeout(()=>{u.dataset.isIcon?u.dataset.tips=v:u.innerHTML=v},1500)})})},l=()=>{Ue(r)},s=a=>{a&&Ue(r)};W([t,n],l),W(()=>e.setting.preview,s),W(()=>e.setting.htmlPreview,s),W(()=>i.value,r),ae(r)},ad=e=>{const t=q("highlight"),n=mt(he.editorExtensions.highlight.instance);return ae(()=>{e.noHighlight||n.value||(Ce("link",{...t.value.css,rel:"stylesheet",id:`${m}-hlCss`}),Ce("script",{...t.value.js,id:`${m}-hljs`,onload(){n.value=window.hljs}},"hljs"))}),W(()=>t.value.css,()=>{e.noHighlight||Xs("link",{...t.value.css,rel:"stylesheet",id:`${m}-hlCss`})}),n},cd=e=>{const t=q("theme"),{editorExtensions:n,editorExtensionsAttrs:o,mermaidConfig:i}=he,r=mt(n.mermaid.instance),l=mt(-1),s=new bo({max:1e3,ttl:6e5}),a=()=>{const u=r.value;!e.noMermaid&&u&&(u.initialize(i({startOnLoad:!1,theme:t.value==="dark"?"dark":"default"})),l.value=l.value+1)};return W(()=>t.value,()=>{s.clear(),a()}),ae(()=>{var u,d;if(e.noMermaid||r.value)return;const g=n.mermaid.js;/\.mjs/.test(g)?(Ce("link",{...(u=o.mermaid)==null?void 0:u.js,rel:"modulepreload",href:g,id:`${m}-mermaid-m`}),import(g).then(b=>{r.value=b.default,a()})):Ce("script",{...(d=o.mermaid)==null?void 0:d.js,src:g,id:`${m}-mermaid`,onload(){r.value=window.mermaid,a()}},"mermaid")}),{mermaidRef:r,reRenderRef:l,replaceMermaid:()=>{Ue(()=>{if(!e.noMermaid&&r.value){const u=document.querySelectorAll(`div.${m}-mermaid`),d=document.createElement("div");d.style.width=document.body.offsetWidth+"px",d.style.height=document.body.offsetHeight+"px",d.style.position="fixed",d.style.zIndex="-10000",d.style.top="-10000";let g=u.length;g>0&&document.body.appendChild(d),u.forEach(async b=>{let f=s.get(b.innerText);if(!f){const k=co(),_=r.value.renderAsync||r.value.render;let y="";try{y=await _(k,b.innerText,d)}catch{}f=await e.sanitizeMermaid(typeof y=="string"?y:y.svg),s.set(b.innerText,f)}const v=document.createElement("p");v.className=`${m}-mermaid`,v.setAttribute("data-processed",""),v.innerHTML=f,b.dataset.line!==void 0&&(v.dataset.line=b.dataset.line),b.replaceWith(v),--g===0&&d.remove()})}})}}},ud=e=>{const t=mt(he.editorExtensions.katex.instance);return ae(()=>{if(e.noKatex||t.value)return;const{editorExtensions:n}=he;Ce("script",{src:n.katex.js,id:`${m}-katex`,onload(){t.value=window.katex}},"katex"),Ce("link",{rel:"stylesheet",href:n.katex.css,id:`${m}-katexCss`})}),t},dd=(e,t)=>{const n=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(o,i,r,l,s)=>{const a=o[i],c=a.content.trim();if(a.info==="mermaid"){let u;return o[i].map&&o[i].level===0&&(u=o[i].map[0],o[i].attrSet("data-line",String(u))),`<div class="${m}-mermaid" ${u!==void 0?"data-line="+u:""} data-mermaid-theme=${t.themeRef.value}>${c}</div>`}return n(o,i,r,l,s)}},fd=dd,Pn=(e,t)=>{const n=e.attrs?e.attrs.slice():[];return t.forEach(o=>{const i=e.attrIndex(o[0]);i<0?n.push(o):(n[i]=n[i].slice(),n[i][1]+=` ${o[1]}`)}),n},ir=(e,t)=>{let n=!0,o=!0;const i=e.posMax,r=t>0?e.src.charCodeAt(t-1):-1,l=t+1<=i?e.src.charCodeAt(t+1):-1;return(r===32||r===9||l>=48&&l<=57)&&(o=!1),(l===32||l===9)&&(n=!1),{can_open:n,can_close:o}},hd=(e,t)=>{let n,o,i,r;if(e.src[e.pos]!=="$")return!1;if(i=ir(e,e.pos),!i.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const l=e.pos+1;for(n=l;(n=e.src.indexOf("$",n))!==-1;){for(r=n-1;e.src[r]==="\\";)r-=1;if((n-r)%2==1)break;n+=1}return n===-1?(t||(e.pending+="$"),e.pos=l,!0):n-l===0?(t||(e.pending+="$$"),e.pos=l+1,!0):(i=ir(e,n),i.can_close?(t||(o=e.push("math_inline","math",0),o.markup="$",o.content=e.src.slice(l,n)),e.pos=n+1,!0):(t||(e.pending+="$"),e.pos=l,!0))},md=(e,t,n,o)=>{let i,r,l,s,a=!1,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(c+2>u||e.src.slice(c,c+2)!=="$$")return!1;if(c+=2,i=e.src.slice(c,u),o)return!0;for(i.trim().slice(-2)==="$$"&&(i=i.trim().slice(0,-2),a=!0),l=t;!a&&(l++,!(l>=n||(c=e.bMarks[l]+e.tShift[l],u=e.eMarks[l],c<u&&e.tShift[l]<e.blkIndent)));)e.src.slice(c,u).trim().slice(-2)==="$$"&&(s=e.src.slice(0,u).lastIndexOf("$$"),r=e.src.slice(c,s),a=!0);e.line=l+1;const d=e.push("math_block","math",0);return d.block=!0,d.content=(i&&i.trim()?i+`
`:"")+e.getLines(t+1,l,e.tShift[t],!0)+(r&&r.trim()?r:""),d.map=[t,e.line],d.markup="$$",!0},pd=(e,{katexRef:t})=>{const n=(i,r,l,s,a)=>{const c=i[r],u={attrs:Pn(c,[["class",`${m}-katex-inline`]])};if(t.value){const d=t.value.renderToString(c.content,{throwOnError:!1});return`<span ${a.renderAttrs(u)} data-processed>${d}</span>`}else return`<span ${a.renderAttrs(u)}>${c.content}</span>`},o=(i,r,l,s,a)=>{const c=i[r],u={attrs:Pn(c,[["class",`${m}-katex-block`]])};if(t.value){const d=t.value.renderToString(c.content,{throwOnError:!1,displayMode:!0});return`<p ${a.renderAttrs(u)} data-processed>${d}</p>`}else return`<p ${a.renderAttrs(u)}>${c.content}</p>`};e.inline.ruler.after("escape","math_inline",hd),e.block.ruler.after("blockquote","math_block",md,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=n,e.renderer.rules.math_block=o},gd=pd,vd=(e,t)=>{t=t||{};const n=3,o=t.marker||"!",i=o.charCodeAt(0),r=o.length;let l="",s="";const a=(u,d,g,b,f)=>{const v=u[d];return v.type==="admonition_open"?u[d].attrPush(["class",`${m}-admonition ${m}-admonition-${v.info}`]):v.type==="admonition_title_open"&&u[d].attrPush(["class",`${m}-admonition-title`]),f.renderToken(u,d,g)},c=u=>{const d=u.trim().split(" ",2);s="",l=d[0],d.length>1&&(s=u.substring(l.length+2))};e.block.ruler.before("code","admonition",(u,d,g,b)=>{let f,v,k,_=!1,y=u.bMarks[d]+u.tShift[d],C=u.eMarks[d];if(i!==u.src.charCodeAt(y))return!1;for(f=y+1;f<=C&&o[(f-y)%r]===u.src[f];f++);const w=Math.floor((f-y)/r);if(w!==n)return!1;f-=(f-y)%r;const A=u.src.slice(y,f),S=u.src.slice(f,C);if(c(S),b)return!0;for(v=d;v++,!(v>=g||(y=u.bMarks[v]+u.tShift[v],C=u.eMarks[v],y<C&&u.sCount[v]<u.blkIndent));)if(i===u.src.charCodeAt(y)&&!(u.sCount[v]-u.blkIndent>=4)){for(f=y+1;f<=C&&o[(f-y)%r]===u.src[f];f++);if(!(Math.floor((f-y)/r)<w)&&(f-=(f-y)%r,f=u.skipSpaces(f),!(f<C))){_=!0;break}}const D=u.parentType,x=u.lineMax;return u.parentType="root",u.lineMax=v,k=u.push("admonition_open","div",1),k.markup=A,k.block=!0,k.info=l,k.map=[d,v],s&&(k=u.push("admonition_title_open","p",1),k.markup=A+" "+l,k.map=[d,v],k=u.push("inline","",0),k.content=s,k.map=[d,u.line-1],k.children=[],k=u.push("admonition_title_close","p",-1),k.markup=A+" "+l),u.md.block.tokenize(u,d+1,v),k=u.push("admonition_close","div",-1),k.markup=u.src.slice(y,f),k.block=!0,u.parentType=D,u.lineMax=x,u.line=v+(_?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=a,e.renderer.rules.admonition_title_open=a,e.renderer.rules.admonition_title_close=a,e.renderer.rules.admonition_close=a},bd=vd,_d=(e,t)=>{e.renderer.rules.heading_open=(n,o)=>{var i;const r=n[o],l=((i=n[o+1].children)==null?void 0:i.reduce((a,c)=>a+(["text","code_inline"].includes(c.type)&&c.content||""),""))||"",s=r.markup.length;return t.headsRef.value.push({text:l,level:s}),r.map&&r.level===0&&r.attrSet("id",t.mdHeadingId(l,s,t.headsRef.value.length)),e.renderer.renderToken(n,o,t)},e.renderer.rules.heading_close=(n,o,i,r,l)=>l.renderToken(n,o,i)},kd=_d,yd=(e,t)=>{if(typeof t[e]=="string")return t[e];const n=`<i class="${m}-iconfont ${m}-icon-${e}"></i>`;switch(he.iconfontType){case"svg":return`<svg class="${m}-icon" aria-hidden="true"><use xlink:href="#${m}-icon-${e}"></use></svg>`;default:return n}},Cd=yd,xd=(e,t)=>{const n=e.renderer.rules.fence,o=e.utils.unescapeAll,i=/\[(\w*)(?::([\w ]*))?\]/,r=/::(open|close)/,l=d=>d.info?o(d.info).trim():"",s=d=>{const g=l(d),[b=null,f=""]=(i.exec(g)||[]).slice(1);return[b,f]},a=d=>{const g=l(d);return g?g.split(/(\s+)/g)[0]:""},c=d=>{const g=d.info.match(r)||[],b=g[1]==="open"||g[1]!=="close"&&t.codeFoldable&&d.content.trim().split(`
`).length<t.autoFoldThreshold,f=g[1]||t.codeFoldable?"details":"div",v=g[1]||t.codeFoldable?"summary":"div";return{open:b,tagContainer:f,tagHeader:v}},u=(d,g,b,f,v)=>{var k;if(d[g].hidden)return"";const _=(k=t.usedLanguageTextRef.value)==null?void 0:k.copyCode.text,y=t.customIconRef.value.copy||_,C=!!t.customIconRef.value.copy,w=`<span class="${m}-collapse-tips">${Cd("collapse-tips",t.customIconRef.value)}</span>`,[A]=s(d[g]);if(A===null){const{open:B,tagContainer:Z,tagHeader:Y}=c(d[g]),ce=[["class",`${m}-code`]];B&&ce.push(["open",""]);const de={attrs:Pn(d[g],ce)};d[g].info=d[g].info.replace(r,"");const ee=n(d,g,b,f,v);return`<${Z} ${v.renderAttrs(de)}>
        <${Y} class="${m}-code-head">
          <div class="${m}-code-flag"><span></span><span></span><span></span></div>
          <div class="${m}-code-action">
            <span class="${m}-code-lang">${d[g].info.trim()}</span>
            <span class="${m}-copy-button" data-tips="${_}"${C?" data-is-icon=true":""}">${y}</span>
            ${Z==="details"?w:""}
          </div>
        </${Y}>${ee}</${Z}>`}let S,D,x,P,R="",j="",z="";const{open:F,tagContainer:$,tagHeader:L}=c(d[g]),M=[["class",`${m}-code`]];F&&M.push(["open",""]);const N={attrs:Pn(d[g],M)};for(let B=g;B<d.length&&(S=d[B],[D,x]=s(S),D===A);B++){S.info=S.info.replace(i,"").replace(r,""),S.hidden=!0;const Z=`${m}-codetab-${t.editorId}-${g}-${B-g}`;P=B-g>0?"":"checked",R+=`<li>
          <input type="radio" name="${m}-codetab-label-${t.editorId}-${g}" class="${Z}" ${P}>
          <label onclick="document.querySelectorAll('.${Z}').forEach(e => e.click())">${x||a(S)}</label>
        </li>`,j+=`<input type="radio" name="${m}-codetab-pre-${t.editorId}-${g}" class="${Z}" ${P}>
      ${n(d,B,b,f,v)}`,z+=`<input type="radio" name="${m}-codetab-lang-${t.editorId}-${g}" class="${Z}" ${P}>
      <span class=${m}-code-lang>${a(S)}</span>`}return`<${$} ${v.renderAttrs(N)}>
    <${L} class="${m}-code-head">
      <div class="${m}-code-flag">
        <ul class="${m}-codetab-label">${R}</ul>
      </div>
      <div class="${m}-code-action">
        <span class="${m}-codetab-lang">${z}</span>
        <span class="${m}-copy-button" data-tips="${_}"${C?" data-is-icon=true":""}">${y}</span>
        ${$==="details"?w:""}
      </div>
    </${L}>${j}</${$}>`};e.renderer.rules.fence=u,e.renderer.rules.code_block=u},wd=xd;function Ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xo={exports:{}},se={},wo={exports:{}},gt={};function gl(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Ed(e,t,n){}function Fd(e,t,n){}var Dd=/javascript\s*\:/img;function Td(e,t){return Dd.test(t)?"":t}gt.whiteList=gl();gt.getDefaultWhiteList=gl;gt.onAttr=Ed;gt.onIgnoreAttr=Fd;gt.safeAttrValue=Td;var Sd={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,i;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ot=Sd;function $d(e,t){e=Ot.trimRight(e),e[e.length-1]!==";"&&(e+=";");var n=e.length,o=!1,i=0,r=0,l="";function s(){if(!o){var u=Ot.trim(e.slice(i,r)),d=u.indexOf(":");if(d!==-1){var g=Ot.trim(u.slice(0,d)),b=Ot.trim(u.slice(d+1));if(g){var f=t(i,l.length,g,b,u);f&&(l+=f+"; ")}}}i=r+1}for(;r<n;r++){var a=e[r];if(a==="/"&&e[r+1]==="*"){var c=e.indexOf("*/",r+2);if(c===-1)break;r=c+1,i=r+1,o=!1}else a==="("?o=!0:a===")"?o=!1:a===";"?o||s():a===`
`&&s()}return Ot.trim(l)}var Id=$d,mn=gt,Ld=Id;function rr(e){return e==null}function zd(e){var t={};for(var n in e)t[n]=e[n];return t}function vl(e){e=zd(e||{}),e.whiteList=e.whiteList||mn.whiteList,e.onAttr=e.onAttr||mn.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||mn.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||mn.safeAttrValue,this.options=e}vl.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,o=n.whiteList,i=n.onAttr,r=n.onIgnoreAttr,l=n.safeAttrValue,s=Ld(e,function(a,c,u,d,g){var b=o[u],f=!1;if(b===!0?f=b:typeof b=="function"?f=b(d):b instanceof RegExp&&(f=b.test(d)),f!==!0&&(f=!1),d=l(u,d),!!d){var v={position:c,sourcePosition:a,source:g,isWhite:f};if(f){var k=i(u,d,v);return rr(k)?u+":"+d:k}else{var k=r(u,d,v);if(!rr(k))return k}}});return s};var Md=vl;(function(e,t){var n=gt,o=Md;function i(l,s){var a=new o(s);return a.process(l)}t=e.exports=i,t.FilterCSS=o;for(var r in n)t[r]=n[r];typeof window<"u"&&(window.filterCSS=e.exports)})(wo,wo.exports);var Oo=wo.exports,Po={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,i;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}},Od=Oo.FilterCSS,Pd=Oo.getDefaultWhiteList,Bn=Po;function bl(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var _l=new Od;function Bd(e,t,n){}function Rd(e,t,n){}function Hd(e,t,n){}function jd(e,t,n){}function kl(e){return e.replace(Ud,"&lt;").replace(Wd,"&gt;")}function Nd(e,t,n,o){if(n=El(n),t==="href"||t==="src"){if(n=Bn.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(t==="background"){if(pn.lastIndex=0,pn.test(n))return""}else if(t==="style"){if(lr.lastIndex=0,lr.test(n)||(sr.lastIndex=0,sr.test(n)&&(pn.lastIndex=0,pn.test(n))))return"";o!==!1&&(o=o||_l,n=o.process(n))}return n=Fl(n),n}var Ud=/</g,Wd=/>/g,Vd=/"/g,qd=/&quot;/g,Gd=/&#([a-zA-Z0-9]*);?/gim,Zd=/&colon;?/gim,Xd=/&newline;?/gim,pn=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,lr=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,sr=/u\s*r\s*l\s*\(.*/gi;function yl(e){return e.replace(Vd,"&quot;")}function Cl(e){return e.replace(qd,'"')}function xl(e){return e.replace(Gd,function(n,o){return o[0]==="x"||o[0]==="X"?String.fromCharCode(parseInt(o.substr(1),16)):String.fromCharCode(parseInt(o,10))})}function wl(e){return e.replace(Zd,":").replace(Xd," ")}function Al(e){for(var t="",n=0,o=e.length;n<o;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return Bn.trim(t)}function El(e){return e=Cl(e),e=xl(e),e=wl(e),e=Al(e),e}function Fl(e){return e=yl(e),e=kl(e),e}function Kd(){return""}function Qd(e,t){typeof t!="function"&&(t=function(){});var n=!Array.isArray(e);function o(l){return n?!0:Bn.indexOf(e,l)!==-1}var i=[],r=!1;return{onIgnoreTag:function(l,s,a){if(o(l))if(a.isClosing){var c="[/removed]",u=a.position+c.length;return i.push([r!==!1?r:a.position,u]),r=!1,c}else return r||(r=a.position),"[removed]";else return t(l,s,a)},remove:function(l){var s="",a=0;return Bn.forEach(i,function(c){s+=l.slice(a,c[0]),a=c[1]}),s+=l.slice(a),s}}}function Jd(e){for(var t="",n=0;n<e.length;){var o=e.indexOf("<!--",n);if(o===-1){t+=e.slice(n);break}t+=e.slice(n,o);var i=e.indexOf("-->",o);if(i===-1)break;n=i+3}return t}function Yd(e){var t=e.split("");return t=t.filter(function(n){var o=n.charCodeAt(0);return o===127?!1:o<=31?o===10||o===13:!0}),t.join("")}se.whiteList=bl();se.getDefaultWhiteList=bl;se.onTag=Bd;se.onIgnoreTag=Rd;se.onTagAttr=Hd;se.onIgnoreTagAttr=jd;se.safeAttrValue=Nd;se.escapeHtml=kl;se.escapeQuote=yl;se.unescapeQuote=Cl;se.escapeHtmlEntities=xl;se.escapeDangerHtml5Entities=wl;se.clearNonPrintableCharacter=Al;se.friendlyAttrValue=El;se.escapeAttrValue=Fl;se.onIgnoreTagStripAll=Kd;se.StripTagBody=Qd;se.stripCommentTag=Jd;se.stripBlankChar=Yd;se.attributeWrapSign='"';se.cssFilter=_l;se.getDefaultCSSWhiteList=Pd;var qn={},lt=Po;function ef(e){var t=lt.spaceIndex(e),n;return t===-1?n=e.slice(1,-1):n=e.slice(1,t+1),n=lt.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function tf(e){return e.slice(0,2)==="</"}function nf(e,t,n){var o="",i=0,r=!1,l=!1,s=0,a=e.length,c="",u="";e:for(s=0;s<a;s++){var d=e.charAt(s);if(r===!1){if(d==="<"){r=s;continue}}else if(l===!1){if(d==="<"){o+=n(e.slice(i,s)),r=s,i=s;continue}if(d===">"||s===a-1){o+=n(e.slice(i,r)),u=e.slice(r,s+1),c=ef(u),o+=t(r,o.length,c,u,tf(u)),i=s+1,r=!1;continue}if(d==='"'||d==="'")for(var g=1,b=e.charAt(s-g);b.trim()===""||b==="=";){if(b==="="){l=d;continue e}b=e.charAt(s-++g)}}else if(d===l){l=!1;continue}}return i<a&&(o+=n(e.substr(i))),o}var of=/[^a-zA-Z0-9\\_:.-]/gim;function rf(e,t){var n=0,o=0,i=[],r=!1,l=e.length;function s(g,b){if(g=lt.trim(g),g=g.replace(of,"").toLowerCase(),!(g.length<1)){var f=t(g,b||"");f&&i.push(f)}}for(var a=0;a<l;a++){var c=e.charAt(a),u,d;if(r===!1&&c==="="){r=e.slice(n,a),n=a+1,o=e.charAt(n)==='"'||e.charAt(n)==="'"?n:sf(e,a+1);continue}if(r!==!1&&a===o){if(d=e.indexOf(c,a+1),d===-1)break;u=lt.trim(e.slice(o+1,d)),s(r,u),r=!1,a=d,n=a+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),r===!1)if(d=lf(e,a),d===-1){u=lt.trim(e.slice(n,a)),s(u),r=!1,n=a+1;continue}else{a=d-1;continue}else if(d=af(e,a-1),d===-1){u=lt.trim(e.slice(n,a)),u=ar(u),s(r,u),r=!1,n=a+1;continue}else continue}return n<e.length&&(r===!1?s(e.slice(n)):s(r,ar(lt.trim(e.slice(n))))),lt.trim(i.join(" "))}function lf(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="="?t:-1}}function sf(e,t){for(;t<e.length;t++){var n=e[t];if(n!==" ")return n==="'"||n==='"'?t:-1}}function af(e,t){for(;t>0;t--){var n=e[t];if(n!==" ")return n==="="?t:-1}}function cf(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function ar(e){return cf(e)?e.substr(1,e.length-2):e}qn.parseTag=nf;qn.parseAttr=rf;var uf=Oo.FilterCSS,Te=se,Dl=qn,df=Dl.parseTag,ff=Dl.parseAttr,Dn=Po;function gn(e){return e==null}function hf(e){var t=Dn.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=Dn.trim(e.slice(t+1,-1));var n=e[e.length-1]==="/";return n&&(e=Dn.trim(e.slice(0,-1))),{html:e,closing:n}}function mf(e){var t={};for(var n in e)t[n]=e[n];return t}function pf(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map(function(o){return o.toLowerCase()}):t[n.toLowerCase()]=e[n];return t}function Tl(e){e=mf(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Te.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=pf(e.whiteList||e.allowList):e.whiteList=Te.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":Te.attributeWrapSign,e.onTag=e.onTag||Te.onTag,e.onTagAttr=e.onTagAttr||Te.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Te.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Te.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Te.safeAttrValue,e.escapeHtml=e.escapeHtml||Te.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new uf(e.css))}Tl.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,o=n.whiteList,i=n.onTag,r=n.onIgnoreTag,l=n.onTagAttr,s=n.onIgnoreTagAttr,a=n.safeAttrValue,c=n.escapeHtml,u=t.attributeWrapSign,d=t.cssFilter;n.stripBlankChar&&(e=Te.stripBlankChar(e)),n.allowCommentTag||(e=Te.stripCommentTag(e));var g=!1;n.stripIgnoreTagBody&&(g=Te.StripTagBody(n.stripIgnoreTagBody,r),r=g.onIgnoreTag);var b=df(e,function(f,v,k,_,y){var C={sourcePosition:f,position:v,isClosing:y,isWhite:Object.prototype.hasOwnProperty.call(o,k)},w=i(k,_,C);if(!gn(w))return w;if(C.isWhite){if(C.isClosing)return"</"+k+">";var A=hf(_),S=o[k],D=ff(A.html,function(x,P){var R=Dn.indexOf(S,x)!==-1,j=l(k,x,P,R);return gn(j)?R?(P=a(k,x,P,d),P?x+"="+u+P+u:x):(j=s(k,x,P,R),gn(j)?void 0:j):j});return _="<"+k,D&&(_+=" "+D),A.closing&&(_+=" /"),_+=">",_}else return w=r(k,_,C),gn(w)?c(_):w},c);return g&&(b=g.remove(b)),b};var gf=Tl;(function(e,t){var n=se,o=qn,i=gf;function r(s,a){var c=new i(a);return c.process(s)}t=e.exports=r,t.filterXSS=r,t.FilterXSS=i,function(){for(var s in n)t[s]=n[s];for(var a in o)t[a]=o[a]}(),typeof window<"u"&&(window.filterXSS=e.exports);function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(xo,xo.exports);var jt=xo.exports;const vf=Ad(jt),bf=rd({__proto__:null,default:vf},[jt]),cr={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},_f=(e,t)=>{const{extendedWhiteList:n={},xss:o={}}=t;let i;if(typeof o=="function")i=new jt.FilterXSS(o(bf));else{const r=jt.getDefaultWhiteList();[...Object.keys(n),...Object.keys(cr)].forEach(s=>{const a=r[s]||[],c=cr[s]||[],u=n[s]||[];r[s]=[...new Set([...a,...c,...u])]}),i=new jt.FilterXSS({whiteList:r,...o})}e.core.ruler.after("linkify","xss",r=>{for(let l=0;l<r.tokens.length;l++){const s=r.tokens[l];switch(s.type){case"html_block":{s.content=i.process(s.content);break}case"inline":{(s.children||[]).forEach(c=>{c.type==="html_inline"&&(c.content=i.process(c.content))});break}}}})},kf=_f,yf=e=>{e.core.ruler.push("init-line-number",t=>(t.tokens.forEach(n=>{n.map&&(n.attrs||(n.attrs=[]),n.attrs.push(["data-line",n.map[0].toString()]))}),!0))},Cf=(e,t)=>{const{editorConfig:n,markdownItConfig:o,markdownItPlugins:i}=he,r=q("editorId"),l=q("language"),s=q("usedLanguageText"),a=q("showCodeRowNumber"),c=q("theme"),u=q("customIcon"),d=V([]),g=ad(e),b=ud(e),{reRenderRef:f,replaceMermaid:v}=cd(e),k=$e({html:!0,breaks:!0,linkify:!0});o(k,{editorId:r});const _=[{type:"image",plugin:Wu,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:bd,options:{}},{type:"taskList",plugin:od,options:{}},{type:"heading",plugin:kd,options:{mdHeadingId:e.mdHeadingId,headsRef:d}},{type:"code",plugin:wd,options:{editorId:r,usedLanguageTextRef:s,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:u}},{type:"xss",plugin:kf,options:{}}];e.noKatex||_.push({type:"katex",plugin:gd,options:{katexRef:b}}),e.noMermaid||_.push({type:"mermaid",plugin:fd,options:{themeRef:c}}),i(_,{editorId:r}).forEach(x=>{k.use(x.plugin,x.options)});const y=k.options.highlight;k.set({highlight:(x,P,R)=>{if(y){const F=y(x,P,R);if(F)return F}let j;!e.noHighlight&&g.value?g.value.getLanguage(P)?j=g.value.highlight(x,{language:P,ignoreIllegals:!0}).value:j=g.value.highlightAuto(x).value:j=k.utils.escapeHtml(x);const z=a?Js(j.replace(/^\n+|\n+$/g,"")):`<span class="${m}-code-block">${j.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${P}" language=${P}>${z}</code></pre>`}}),yf(k);const C=V(`_article-key_${co()}`),w=V(e.sanitize(k.render(e.modelValue))),A=()=>{T.emit(r,Cn,w.value),e.onHtmlChanged(w.value),e.onGetCatalog(d.value),T.emit(r,xn,d.value),v()};ae(A);const S=()=>{d.value=[],w.value=e.sanitize(k.render(e.modelValue)),A()},D=ke(()=>(e.noKatex||b.value)&&(e.noHighlight||g.value));return W([Je(e,"modelValue"),D,f,l],Ao(S,t?0:n.renderDelay)),W(()=>e.setting.preview,()=>{e.setting.preview&&Ue(()=>{T.emit(r,xn,d.value)})}),ae(()=>{T.on(r,{name:Pr,callback(){T.emit(r,xn,d.value)}}),T.on(r,{name:Fo,callback:()=>{C.value=`_article-key_${co()}`,S()}})}),{html:w,key:C}},xf=Cf,Sl={modelValue:{type:String,default:""},setting:{type:Object,default:()=>({preview:!0})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number}},wf={...Sl,updateModelValue:{type:Function,default:()=>{}},onChange:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},completions:{type:Array},catalogVisible:{type:Boolean},theme:{type:String,default:"light"},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWitdh:{type:String},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},$l=le({name:"ContentPreview",props:Sl,setup(e){const t=q("editorId"),n=q("previewTheme"),o=q("showCodeRowNumber"),{html:i,key:r}=xf(e,e.previewOnly);return sd(e,i,r),ld(e,i),()=>p(Rn,null,[e.setting.preview&&p("div",{id:`${t}-preview-wrapper`,class:`${m}-preview-wrapper`,key:"content-preview-wrapper"},[p("div",{key:r.value,id:`${t}-preview`,class:[`${m}-preview`,`${n==null?void 0:n.value}-theme`,o&&`${m}-scrn`],innerHTML:i.value},null)]),!e.previewOnly&&e.setting.htmlPreview&&p("div",{id:`${t}-html-wrapper`,class:`${m}-preview-wrapper`,key:"html-preview-wrapper"},[p("div",{class:`${m}-html`},[i.value])])])}}),Af=(e,t)=>{const{editorId:n}=e,o=ye({buildFinished:!1,html:""});W(()=>e.modelValue,()=>{o.buildFinished=!1}),ae(()=>{T.on(n,{name:Cn,callback(i){o.buildFinished=!0,o.html=i}}),T.on(n,{name:Hn,callback(){const i=new Promise(r=>{if(o.buildFinished)r(o.html);else{const l=s=>{r(s),T.remove(n,Cn,l)};T.on(n,{name:Cn,callback:l})}});e.onSave?e.onSave(e.modelValue,i):t.emit("onSave",e.modelValue,i)}})})},Il=e=>{const{editorId:t}=e,n=he.editorExtensions.highlight,o=he.editorExtensionsAttrs.highlight;Ze("editorId",t),Ze("theme",ke(()=>e.theme)),Ze("language",ke(()=>e.language)),Ze("highlight",ke(()=>{const{js:r}=n,l={...uo,...n.css},{js:s,css:a={}}=o||{},c=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme,u=l[e.codeTheme]?l[e.codeTheme][c]:uo.atom[c],d=l[e.codeTheme]&&a[e.codeTheme]?a[e.codeTheme][c]:a.atom?a.atom[c]:{};return{js:{src:r,...s},css:{href:u,...d}}})),Ze("showCodeRowNumber",e.showCodeRowNumber);const i=ke(()=>{const r={...Ai,...he.editorConfig.languageUserDefined};return $r(Pt(Ai["en-US"]),r[e.language]||{})});Ze("usedLanguageText",i),Ze("previewTheme",ke(()=>e.previewTheme)),Ze("customIcon",ke(()=>e.customIcon))},Ef=e=>{Il(e),Ze("tabWidth",e.tabWidth)},Ll=e=>{ae(()=>{const{editorExtensions:t,editorExtensionsAttrs:n,iconfontType:o}=he;e.noIconfont||(o==="svg"?Ce("script",{...n.iconfont,src:t.iconfont,id:`${m}-icon`}):Ce("link",{...n.iconfontClass,rel:"stylesheet",href:t.iconfontClass,id:`${m}-icon-class`}))})},Ff=e=>{const{noPrettier:t,noUploadImg:n}=e,{editorExtensions:o,editorExtensionsAttrs:i}=he,r=t||o.prettier.prettierInstance,l=t||o.prettier.parserMarkdownInstance,s=n||o.cropper.instance;ae(()=>{if(!s){const{js:a={},css:c={}}=i.cropper||{};Ce("link",{...c,rel:"stylesheet",href:o.cropper.css,id:`${m}-cropperCss`}),Ce("script",{...a,src:o.cropper.js,id:`${m}-cropper`})}if(!r){const{standaloneJs:a={}}=i.prettier||{};Ce("script",{...a,src:o.prettier.standaloneJs,id:`${m}-prettier`})}if(!l){const{parserMarkdownJs:a={}}=i.prettier||{};Ce("script",{...a,src:o.prettier.parserMarkdownJs,id:`${m}-prettierMD`})}}),Ll(e)},Df=(e,t)=>{const{editorId:n}=e;ae(()=>{T.on(n,{name:pt,callback:o=>{e.onError instanceof Function?e.onError(o):t.emit("onError",o)}})})},Tf=(e,t)=>{const{editorId:n}=e,o=ye({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:e.preview?!1:e.htmlPreview,previewOnly:!1}),i=ye({...o}),r=(a,c)=>{const u=c===void 0?!o[a]:c;switch(a){case"preview":{o.htmlPreview=!1,o.previewOnly=!1;break}case"htmlPreview":{o.preview=!1,o.previewOnly=!1;break}case"previewOnly":{u?!o.preview&&!o.htmlPreview&&(o.preview=!0):(i.preview||(o.preview=!1),i.htmlPreview||(o.htmlPreview=!1));break}}i[a]=u,o[a]=u};let l="";const s=()=>{o.pageFullscreen||o.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=l};return W(()=>[o.pageFullscreen,o.fullscreen],s),ae(()=>{T.on(n,{name:jn,callback(a,c){const u=d=>{T.emit(n,J,"image",{desc:"",urls:d}),c&&c()};e.onUploadImg?e.onUploadImg(a,u):t.emit("onUploadImg",a,u)}}),l=document.body.style.overflow,s()}),[o,r]},Sf=e=>{const{editorId:t}=e,n=V(!1);return ae(()=>{T.on(t,{name:Eo,callback:i=>{i===void 0?n.value=!n.value:n.value=i}})}),ke(()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")&&n.value)},$f=(e,t,n,o,i,r)=>{const{editorId:l}=e;W(()=>o.pageFullscreen,a=>{T.emit(l,Ei,a)}),W(()=>o.fullscreen,a=>{T.emit(l,Fi,a)}),W(()=>o.preview,a=>{T.emit(l,Di,a)}),W(()=>o.previewOnly,a=>{T.emit(l,Ti,a)}),W(()=>o.htmlPreview,a=>{T.emit(l,Si,a)}),W(n,a=>{T.emit(l,$i,a)});const s={on(a,c){switch(a){case"pageFullscreen":{T.on(l,{name:Ei,callback(u){c(u)}});break}case"fullscreen":{T.on(l,{name:Fi,callback(u){c(u)}});break}case"preview":{T.on(l,{name:Di,callback(u){c(u)}});break}case"previewOnly":{T.on(l,{name:Ti,callback(u){c(u)}});break}case"htmlPreview":{T.on(l,{name:Si,callback(u){c(u)}});break}case"catalog":{T.on(l,{name:$i,callback(u){c(u)}});break}}},togglePageFullscreen(a){i("pageFullscreen",a)},toggleFullscreen(a){T.emit(l,zr,a)},togglePreview(a){i("preview",a)},togglePreviewOnly(a){i("previewOnly",a)},toggleHtmlPreview(a){i("htmlPreview",a)},toggleCatalog(a){T.emit(l,Eo,a)},triggerSave(){T.emit(l,Hn)},insert(a){T.emit(l,J,"universal",{generate:a})},focus(a){var c;(c=r.value)==null||c.focus(a)},rerender(){T.emit(l,Fo)},getSelectedText(){var a;return(a=r.value)==null?void 0:a.getSelectedText()},resetHistory(){var a;(a=r.value)==null||a.resetHistory()},domEventHandlers(a){T.emit(l,Br,a)},execCommand(a){T.emit(l,J,a)}};t.expose(s)},If=e=>e,zl={modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:()=>ea("md-editor-v3_")},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:If},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30}},Lf={...zl,onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:Ir},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array},placeholder:{type:String,default:""},defToolbars:{type:[String,Object]},onError:{type:Function},footers:{type:Array,default:Lr},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noUploadImg:{type:Boolean},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},completions:{type:Array},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function},onDrop:{type:Function},inputBoxWitdh:{type:String,default:"50%"},onInputBoxWitdhChange:{type:Function},transformImgUrl:{type:Function,default:e=>e}},Ml=["onHtmlChanged","onGetCatalog"],zf=[...Ml,"onChange","onSave","onUploadImg","onError","update:modelValue","onBlur","onFocus","onInput","onDrop","onInputBoxWitdhChange"],Mf=(e,t)=>{const{editorId:n}=e,o={rerender(){T.emit(n,Fo)}};t.expose(o)},Tn=le({name:"MdPreview",props:zl,emits:Ml,setup(e,t){const{editorId:n,noKatex:o,noMermaid:i,noHighlight:r}=e;return Il(e),Ll(e),Mf(e,t),Xt(()=>{T.clear(n)}),()=>p("div",{id:n,class:[m,e.class,e.theme==="dark"&&`${m}-dark`,`${m}-previewOnly`],style:e.style},[p($l,{modelValue:e.modelValue,onHtmlChanged:l=>{e.onHtmlChanged?e.onHtmlChanged(l):t.emit("onHtmlChanged",l)},onGetCatalog:l=>{e.onGetCatalog?e.onGetCatalog(l):t.emit("onGetCatalog",l)},mdHeadingId:e.mdHeadingId,noMermaid:i,sanitize:e.sanitize,noKatex:o,formatCopiedText:e.formatCopiedText,noHighlight:r,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null)])}});Tn.install=e=>(e.component(Tn.name,Tn),e);const Of={tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},Ol=le({props:Of,setup(e){return()=>{const{tocItem:t,mdHeadingId:n,scrollElement:o,onClick:i,scrollElementOffsetTop:r}=e;return p("div",{class:[`${m}-catalog-link`,t.active&&`${m}-catalog-active`],onClick:l=>{i(l,t),l.stopPropagation();const s=n(t.text,t.level,t.index),a=document.getElementById(s),c=o instanceof Element?o:document.querySelector(o);if(a&&c){let u=a.offsetParent,d=a.offsetTop;if(c.contains(u))for(;u&&c!=u;)d+=u==null?void 0:u.offsetTop,u=u==null?void 0:u.offsetParent;c==null||c.scrollTo({top:d-r,behavior:"smooth"})}}},[p("span",{title:t.text},[t.text]),p("div",{class:`${m}-catalog-wrapper`},[t.children&&t.children.map(l=>p(Ol,{mdHeadingId:n,key:`${t.text}-link-${l.level}-${l.text}`,tocItem:l,scrollElement:o,onClick:i,scrollElementOffsetTop:r},null))])])}}}),Pf=Ol,Bf={editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function},onActive:{type:Function}},Nt=le({name:"MdCatalog",props:Bf,emits:["onClick","onActive"],setup(e,t){const n=e.editorId,o=ye({list:[],show:!1,scrollElement:e.scrollElement||`#${n}-preview-wrapper`}),i=mt(),r=ke(()=>{const c=[];return o.list.forEach((u,d)=>{const{text:g,level:b}=u,f={level:b,text:g,index:d+1,active:i.value===u};if(c.length===0)c.push(f);else{let v=c[c.length-1];if(f.level>v.level)for(let k=v.level+1;k<=6;k++){const{children:_}=v;if(!_){v.children=[f];break}if(v=_[_.length-1],f.level<=v.level){_.push(f);break}}else c.push(f)}}),c}),l=()=>o.scrollElement instanceof HTMLElement?o.scrollElement:document.querySelector(o.scrollElement),s=c=>{if(c.length===0)return o.list=[],!1;const{activeHead:u}=c.reduce((d,g,b)=>{const f=document.getElementById(e.mdHeadingId(g.text,g.level,b+1));if(f instanceof HTMLElement){const v=l(),k=Ys(f,v);if(k<e.offsetTop&&k>d.minTop)return{activeHead:g,minTop:k}}return d},{activeHead:c[0],minTop:Number.MIN_SAFE_INTEGER});i.value=u,o.list=c},a=()=>{s(o.list)};return W(()=>i.value,c=>{const u=c?{...c}:void 0;e.onActive?e.onActive(u):t.emit("onActive",u)}),ae(()=>{let c=window;const u=()=>{const d=l();c=d===document.documentElement?window:d};T.on(n,{name:xn,callback:d=>{c==null||c.removeEventListener("scroll",a),s(d),u(),c==null||c.addEventListener("scroll",a)}}),T.emit(n,Pr),u(),c==null||c.addEventListener("scroll",a)}),Xt(()=>{var c;const u=l();(c=u===document.documentElement?window:u)==null||c.removeEventListener("scroll",a)}),()=>p("div",{class:`${m}-catalog${e.theme==="dark"?"-dark":""} ${e.class}`},[r.value.map(c=>p(Pf,{mdHeadingId:e.mdHeadingId,tocItem:c,key:`link-${c.level}-${c.text}`,scrollElement:o.scrollElement,onClick:(u,d)=>{e.onClick?e.onClick(u,d):t.emit("onClick",u,d)},scrollElementOffsetTop:e.scrollElementOffsetTop},null))])}});Nt.install=e=>(e.component(Nt.name,Nt),e);const Rf={title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function},insert:{type:Function},language:{type:String},theme:{type:String}},Sn=le({name:"NormalToolbar",props:Rf,emits:["onClick"],setup(e,t){return()=>{const n=Se({props:e,ctx:t},"trigger");return p("div",{class:`${m}-toolbar-item`,title:e.title,onClick:o=>{e.onClick instanceof Function?e.onClick(o):t.emit("onClick",o)}},[n])}}});Sn.install=e=>(e.component(Sn.name,Sn),e);function Hf(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zl(e)}const jf={title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function},class:{type:String},style:{type:[Object,String]},showMask:{type:Boolean,default:!0},insert:{type:Function},language:{type:String},theme:{type:String},previewTheme:{type:String}},$n=le({name:"ModalToolbar",props:jf,emits:["onClick","onClose","onAdjust"],setup(e,t){return()=>{const n=Se({props:e,ctx:t},"trigger"),o=Se({props:e,ctx:t},"default");return p(Rn,null,[p("div",{class:`${m}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[n]),p(Et,{style:e.style,class:e.class,width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,showMask:e.showMask,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:i=>{e.onAdjust instanceof Function?e.onAdjust(i):t.emit("onAdjust",i)}},Hf(o)?o:{default:()=>[o]})])}}});$n.install=e=>(e.component($n.name,$n),e);var Nf=Object.defineProperty,Uf=(e,t,n)=>t in e?Nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t,n)=>(Uf(e,typeof t!="symbol"?t+"":t,n),n);const Wf=le({setup(){return()=>p("div",{class:`${m}-divider`},null)}}),Vf={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean},showToolbarName:{type:Boolean}},qf=e=>{const t=q("editorId"),{editorExtensions:n,editorExtensionsAttrs:o}=he;let i=n.screenfull.instance;const r=V(!1),l=c=>{if(!i){T.emit(t,pt,{name:"fullscreen",message:"fullscreen is undefined"});return}i.isEnabled?(r.value=!0,(c===void 0?!i.isFullscreen:c)?i.request():i.exit()):console.error("browser does not support screenfull!")},s=()=>{i&&i.isEnabled&&i.on("change",()=>{(r.value||e.setting.fullscreen)&&(r.value=!1,e.updateSetting("fullscreen"))})},a=()=>{i=window.screenfull,s()};return ae(()=>{var c;s(),i||Ce("script",{...(c=o.screenfull)==null?void 0:c.js,src:n.screenfull.js,id:`${m}-screenfull`,onload:a},"screenfull")}),ae(()=>{T.on(t,{name:zr,callback:l})}),{fullscreenHandler:l}},Gf={tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},Zf=le({name:"TableShape",props:Gf,setup(e){const t=ye({x:-1,y:-1}),n=()=>{const i=[...e.tableShape];return(!i[2]||i[2]<i[0])&&(i[2]=i[0]),(!i[3]||i[3]<i[3])&&(i[3]=i[1]),i},o=V(n());return W(()=>e.tableShape,()=>{o.value=n()}),()=>p("div",{class:`${m}-table-shape`,onMouseleave:()=>{o.value=n(),t.x=-1,t.y=-1}},[new Array(o.value[1]).fill("").map((i,r)=>p("div",{class:`${m}-table-shape-row`,key:`table-shape-row-${r}`},[new Array(o.value[0]).fill("").map((l,s)=>p("div",{class:`${m}-table-shape-col`,key:`table-shape-col-${s}`,onMouseenter:()=>{t.x=r,t.y=s,s+1===o.value[0]&&s+1<o.value[2]?o.value[0]++:s+2<o.value[0]&&o.value[0]>e.tableShape[0]&&o.value[0]--,r+1===o.value[1]&&r+1<o.value[3]?o.value[1]++:r+2<o.value[1]&&o.value[1]>e.tableShape[1]&&o.value[1]--},onClick:()=>{e.onSelected(t)}},[p("div",{class:[`${m}-table-shape-col-default`,r<=t.x&&s<=t.y&&`${m}-table-shape-col-include`]},null)]))]))])}}),Xf=Zf,Kf={type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},Qf=le({props:Kf,setup(e){const t=q("usedLanguageText"),n=q("editorId"),o=ke(()=>{var r,l;switch(e.type){case"link":return(r=t.value.linkModalTips)==null?void 0:r.linkTitle;case"image":return(l=t.value.linkModalTips)==null?void 0:l.imageTitle;default:return""}}),i=ye({desc:"",url:""});return W(()=>e.visible,r=>{r||setTimeout(()=>{i.desc="",i.url=""},200)}),()=>p(Et,{title:o.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var r,l,s,a,c;return[p("div",{class:`${m}-form-item`},[p("label",{class:`${m}-label`,for:`link-desc-${n}`},[(r=t.value.linkModalTips)==null?void 0:r.descLabel]),p("input",{placeholder:(l=t.value.linkModalTips)==null?void 0:l.descLabelPlaceHolder,class:`${m}-input`,id:`link-desc-${n}`,type:"text",value:i.desc,onChange:u=>{i.desc=u.target.value},autocomplete:"off"},null)]),p("div",{class:`${m}-form-item`},[p("label",{class:`${m}-label`,for:`link-url-${n}`},[(s=t.value.linkModalTips)==null?void 0:s.urlLabel]),p("input",{placeholder:(a=t.value.linkModalTips)==null?void 0:a.urlLabelPlaceHolder,class:`${m}-input`,id:`link-url-${n}`,type:"text",value:i.url,onChange:u=>{i.url=u.target.value},autocomplete:"off"},null)]),p("div",{class:`${m}-form-item`},[p("button",{class:[`${m}-btn`,`${m}-btn-row`],type:"button",onClick:()=>{e.onOk(i),i.desc="",i.url=""}},[(c=t.value.linkModalTips)==null?void 0:c.buttonOK])])]}})}}),Jf={visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},Yf=le({props:Jf,setup(e){const t=q("usedLanguageText"),n=q("editorId");let o=he.editorExtensions.cropper.instance;const i=V(),r=V(),l=V(),s=ye({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let a=null;W(()=>e.visible,()=>{e.visible&&!s.cropperInited&&(o=o||window.Cropper,i.value.onchange=()=>{if(!o){T.emit(n,pt,{name:"Cropper",message:"Cropper is undefined"});return}const u=i.value.files||[];if(s.imgSelected=!0,(u==null?void 0:u.length)>0){const d=new FileReader;d.onload=g=>{s.imgSrc=g.target.result,Ue(()=>{a=new o(r.value,{viewMode:2,preview:`.${m}-clip-preview-target`})})},d.readAsDataURL(u[0])}})}),W(()=>[s.imgSelected],()=>{l.value.style=""}),W(()=>s.isFullscreen,()=>{Ue(()=>{a==null||a.destroy(),l.value.style="",r.value&&(a=new o(r.value,{viewMode:2,preview:`.${m}-clip-preview-target`}))})});const c=()=>{a.clear(),a.destroy(),a=null,i.value.value="",s.imgSelected=!1};return()=>{var u;return p(Et,{class:`${m}-modal-clip`,title:(u=t.value.clipModalTips)==null?void 0:u.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:s.isFullscreen,onAdjust:d=>{s.isFullscreen=d},width:"668px",height:"421px"},{default:()=>{var d,g;return[p("div",{class:`${m}-form-item ${m}-clip`},[p("div",{class:`${m}-clip-main`},[s.imgSelected?p("div",{class:`${m}-clip-cropper`},[p("img",{src:s.imgSrc,ref:r,style:{display:"none"},alt:""},null),p("div",{class:`${m}-clip-delete`,onClick:c},[p(G,{name:"delete"},null)])]):p("div",{class:`${m}-clip-upload`,onClick:()=>{i.value.click()}},[p(G,{name:"upload"},null)])]),p("div",{class:`${m}-clip-preview`},[p("div",{class:`${m}-clip-preview-target`,ref:l},null)])]),p("div",{class:`${m}-form-item`},[p("button",{class:`${m}-btn`,type:"button",onClick:()=>{if(a){const b=a.getCroppedCanvas();T.emit(n,jn,[Qs(b.toDataURL("image/png"))],e.onOk),c()}}},[((d=t.value.clipModalTips)==null?void 0:d.buttonUpload)||((g=t.value.linkModalTips)==null?void 0:g.buttonOK)])]),p("input",{ref:i,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),eh={type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},th=le({props:eh,setup(e){return()=>p(Rn,null,[p(Qf,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),p(Yf,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}}),nh=le({name:"MDEditorToolbar",props:Vf,setup(e){const t=q("editorId"),n=q("usedLanguageText"),o=q("theme"),i=q("previewTheme"),r=q("language"),{fullscreenHandler:l}=qf(e),s=`${t}-toolbar-wrapper`,a=V(),c=ye({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),u=(_,y)=>{T.emit(t,J,_,y)},d=ye({type:"link",linkVisible:!1,clipVisible:!1}),g=V();ae(()=>{T.on(t,{name:fo,callback(_){d.type=_,d.linkVisible=!0}})});const b=ke(()=>{const _=e.toolbars.filter(A=>!e.toolbarsExclude.includes(A)),y=_.indexOf("="),C=y===-1?_:_.slice(0,y+1),w=y===-1?[]:_.slice(y,Number.MAX_SAFE_INTEGER);return[C,w]}),f=V(),v=()=>{T.emit(t,jn,Array.from(f.value.files||[])),f.value.value=""};ae(()=>{f.value.addEventListener("change",v)});const k=_=>{var y,C,w,A,S,D,x,P,R,j,z,F,$,L,M,N,B,Z,Y,ce,de,ee,Q,qe,Yt,en,ct,tn,nn,vt,bt,on,rn,_t,ln,sn,Mt,Ro,Ho,jo,No,Uo,Wo,Vo,qo,Go,Zo,Xo,Ko,Qo,Jo,Yo,ei,ti,ni,oi,ii,ri,li,si,ai,ci,ui,di,fi,hi,mi,pi,gi;if(Ir.includes(_))switch(_){case"-":return p(Wf,null,null);case"bold":return p("div",{class:`${m}-toolbar-item`,title:(y=n.value.toolbarTips)==null?void 0:y.bold,onClick:()=>{u("bold")}},[p(G,{name:"bold"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(C=n.value.toolbarTips)==null?void 0:C.bold])]);case"underline":return p("div",{class:`${m}-toolbar-item`,title:(w=n.value.toolbarTips)==null?void 0:w.underline,onClick:()=>{u("underline")}},[p(G,{name:"underline"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(A=n.value.toolbarTips)==null?void 0:A.underline])]);case"italic":return p("div",{class:`${m}-toolbar-item`,title:(S=n.value.toolbarTips)==null?void 0:S.italic,onClick:()=>{u("italic")}},[p(G,{name:"italic"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(D=n.value.toolbarTips)==null?void 0:D.italic])]);case"strikeThrough":return p("div",{class:`${m}-toolbar-item`,title:(x=n.value.toolbarTips)==null?void 0:x.strikeThrough,onClick:()=>{u("strikeThrough")}},[p(G,{name:"strike-through"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(P=n.value.toolbarTips)==null?void 0:P.strikeThrough])]);case"title":return p(At,{relative:`#${s}`,visible:c.title,onChange:K=>{c.title=K},overlay:p("ul",{class:`${m}-menu`,onClick:()=>{c.title=!1}},[p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h1")}},[(R=n.value.titleItem)==null?void 0:R.h1]),p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h2")}},[(j=n.value.titleItem)==null?void 0:j.h2]),p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h3")}},[(z=n.value.titleItem)==null?void 0:z.h3]),p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h4")}},[(F=n.value.titleItem)==null?void 0:F.h4]),p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h5")}},[($=n.value.titleItem)==null?void 0:$.h5]),p("li",{class:`${m}-menu-item ${m}-menu-item-title`,onClick:()=>{u("h6")}},[(L=n.value.titleItem)==null?void 0:L.h6])])},{default:()=>{var K,ge;return[p("div",{class:`${m}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.title},[p(G,{name:"title"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.title])])]}});case"sub":return p("div",{class:`${m}-toolbar-item`,title:(M=n.value.toolbarTips)==null?void 0:M.sub,onClick:()=>{u("sub")}},[p(G,{name:"sub"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(N=n.value.toolbarTips)==null?void 0:N.sub])]);case"sup":return p("div",{class:`${m}-toolbar-item`,title:(B=n.value.toolbarTips)==null?void 0:B.sup,onClick:()=>{u("sup")}},[p(G,{name:"sup"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Z=n.value.toolbarTips)==null?void 0:Z.sup])]);case"quote":return p("div",{class:`${m}-toolbar-item`,title:(Y=n.value.toolbarTips)==null?void 0:Y.quote,onClick:()=>{u("quote")}},[p(G,{name:"quote"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ce=n.value.toolbarTips)==null?void 0:ce.quote])]);case"unorderedList":return p("div",{class:`${m}-toolbar-item`,title:(de=n.value.toolbarTips)==null?void 0:de.unorderedList,onClick:()=>{u("unorderedList")}},[p(G,{name:"unordered-list"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ee=n.value.toolbarTips)==null?void 0:ee.unorderedList])]);case"orderedList":return p("div",{class:`${m}-toolbar-item`,title:(Q=n.value.toolbarTips)==null?void 0:Q.orderedList,onClick:()=>{u("orderedList")}},[p(G,{name:"ordered-list"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(qe=n.value.toolbarTips)==null?void 0:qe.orderedList])]);case"task":return p("div",{class:`${m}-toolbar-item`,title:(Yt=n.value.toolbarTips)==null?void 0:Yt.task,onClick:()=>{u("task")}},[p(G,{name:"task"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(en=n.value.toolbarTips)==null?void 0:en.task])]);case"codeRow":return p("div",{class:`${m}-toolbar-item`,title:(ct=n.value.toolbarTips)==null?void 0:ct.codeRow,onClick:()=>{u("codeRow")}},[p(G,{name:"code-row"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(tn=n.value.toolbarTips)==null?void 0:tn.codeRow])]);case"code":return p("div",{class:`${m}-toolbar-item`,title:(nn=n.value.toolbarTips)==null?void 0:nn.code,onClick:()=>{u("code")}},[p(G,{name:"code"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(vt=n.value.toolbarTips)==null?void 0:vt.code])]);case"link":return p("div",{class:`${m}-toolbar-item`,title:(bt=n.value.toolbarTips)==null?void 0:bt.link,onClick:()=>{d.type="link",d.linkVisible=!0}},[p(G,{name:"link"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(on=n.value.toolbarTips)==null?void 0:on.link])]);case"image":return e.noUploadImg?p("div",{class:`${m}-toolbar-item`,title:(rn=n.value.toolbarTips)==null?void 0:rn.image,onClick:()=>{d.type="image",d.linkVisible=!0}},[p(G,{name:"image"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(_t=n.value.toolbarTips)==null?void 0:_t.image])]):p(At,{relative:`#${s}`,visible:c.image,onChange:K=>{c.image=K},overlay:p("ul",{class:`${m}-menu`,onClick:()=>{c.title=!1}},[p("li",{class:`${m}-menu-item ${m}-menu-item-image`,onClick:()=>{d.type="image",d.linkVisible=!0}},[(ln=n.value.imgTitleItem)==null?void 0:ln.link]),p("li",{class:`${m}-menu-item ${m}-menu-item-image`,onClick:()=>{f.value.click()}},[(sn=n.value.imgTitleItem)==null?void 0:sn.upload]),p("li",{class:`${m}-menu-item ${m}-menu-item-image`,onClick:()=>{d.clipVisible=!0}},[(Mt=n.value.imgTitleItem)==null?void 0:Mt.clip2upload])])},{default:()=>{var K,ge;return[p("div",{class:`${m}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.image},[p(G,{name:"image"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.image])])]}});case"table":return p(At,{relative:`#${s}`,visible:c.table,onChange:K=>{c.table=K},key:"bar-table",overlay:p(Xf,{tableShape:e.tableShape,onSelected:K=>{u("table",{selectedShape:K})}},null)},{default:()=>{var K,ge;return[p("div",{class:`${m}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.table},[p(G,{name:"table"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.table])])]}});case"revoke":return p("div",{class:`${m}-toolbar-item`,title:(Ro=n.value.toolbarTips)==null?void 0:Ro.revoke,onClick:()=>{T.emit(t,Mr)}},[p(G,{name:"revoke"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Ho=n.value.toolbarTips)==null?void 0:Ho.revoke])]);case"next":return p("div",{class:`${m}-toolbar-item`,title:(jo=n.value.toolbarTips)==null?void 0:jo.next,onClick:()=>{T.emit(t,Or)}},[p(G,{name:"next"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(No=n.value.toolbarTips)==null?void 0:No.next])]);case"save":return p("div",{class:`${m}-toolbar-item`,title:(Uo=n.value.toolbarTips)==null?void 0:Uo.save,onClick:()=>{T.emit(t,Hn)}},[p(G,{name:"baocun"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Wo=n.value.toolbarTips)==null?void 0:Wo.save])]);case"prettier":return e.noPrettier?"":p("div",{class:`${m}-toolbar-item`,title:(Vo=n.value.toolbarTips)==null?void 0:Vo.prettier,onClick:()=>{u("prettier")}},[p(G,{name:"prettier"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(qo=n.value.toolbarTips)==null?void 0:qo.prettier])]);case"pageFullscreen":return!e.setting.fullscreen&&p("div",{class:`${m}-toolbar-item`,title:(Go=n.value.toolbarTips)==null?void 0:Go.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[p(G,{name:e.setting.pageFullscreen?"suoxiao":"fangda"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Zo=n.value.toolbarTips)==null?void 0:Zo.pageFullscreen])]);case"fullscreen":return p("div",{class:`${m}-toolbar-item`,title:(Xo=n.value.toolbarTips)==null?void 0:Xo.fullscreen,onClick:()=>{l()}},[p(G,{name:e.setting.fullscreen?"fullscreen-exit":"fullscreen"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Ko=n.value.toolbarTips)==null?void 0:Ko.fullscreen])]);case"preview":return p("div",{class:`${m}-toolbar-item`,title:(Qo=n.value.toolbarTips)==null?void 0:Qo.preview,onClick:()=>{e.updateSetting("preview")}},[p(G,{name:"preview"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(Jo=n.value.toolbarTips)==null?void 0:Jo.preview])]);case"previewOnly":return p("div",{class:`${m}-toolbar-item`,title:(Yo=n.value.toolbarTips)==null?void 0:Yo.previewOnly,onClick:()=>{e.updateSetting("previewOnly")}},[p(G,{name:"preview-only"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ei=n.value.toolbarTips)==null?void 0:ei.previewOnly])]);case"htmlPreview":return p("div",{class:`${m}-toolbar-item`,title:(ti=n.value.toolbarTips)==null?void 0:ti.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[p(G,{name:"coding"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ni=n.value.toolbarTips)==null?void 0:ni.htmlPreview])]);case"catalog":return p("div",{class:`${m}-toolbar-item`,title:(oi=n.value.toolbarTips)==null?void 0:oi.catalog,onClick:()=>{T.emit(t,Eo)},key:"bar-catalog"},[p(G,{name:"catalog"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ii=n.value.toolbarTips)==null?void 0:ii.catalog])]);case"github":return p("div",{class:`${m}-toolbar-item`,title:(ri=n.value.toolbarTips)==null?void 0:ri.github,onClick:()=>Is("https://github.com/imzbf/md-editor-v3")},[p(G,{name:"github"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(li=n.value.toolbarTips)==null?void 0:li.github])]);case"mermaid":return p(At,{relative:`#${s}`,visible:c.mermaid,onChange:K=>{c.mermaid=K},overlay:p("ul",{class:`${m}-menu`,onClick:()=>{c.mermaid=!1}},[p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("flow")}},[(si=n.value.mermaid)==null?void 0:si.flow]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("sequence")}},[(ai=n.value.mermaid)==null?void 0:ai.sequence]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("gantt")}},[(ci=n.value.mermaid)==null?void 0:ci.gantt]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("class")}},[(ui=n.value.mermaid)==null?void 0:ui.class]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("state")}},[(di=n.value.mermaid)==null?void 0:di.state]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("pie")}},[(fi=n.value.mermaid)==null?void 0:fi.pie]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("relationship")}},[(hi=n.value.mermaid)==null?void 0:hi.relationship]),p("li",{class:`${m}-menu-item ${m}-menu-item-mermaid`,onClick:()=>{u("journey")}},[(mi=n.value.mermaid)==null?void 0:mi.journey])]),key:"bar-mermaid"},{default:()=>{var K,ge;return[p("div",{class:`${m}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.mermaid},[p(G,{name:"mermaid"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.mermaid])])]}});case"katex":return p(At,{relative:`#${s}`,visible:c.katex,onChange:K=>{c.katex=K},overlay:p("ul",{class:`${m}-menu`,onClick:()=>{c.katex=!1}},[p("li",{class:`${m}-menu-item ${m}-menu-item-katex`,onClick:()=>{u("katexInline")}},[(pi=n.value.katex)==null?void 0:pi.inline]),p("li",{class:`${m}-menu-item ${m}-menu-item-katex`,onClick:()=>{u("katexBlock")}},[(gi=n.value.katex)==null?void 0:gi.block])]),key:"bar-katex"},{default:()=>{var K,ge;return[p("div",{class:`${m}-toolbar-item`,title:(K=n.value.toolbarTips)==null?void 0:K.katex},[p(G,{name:"formula"},null),e.showToolbarName&&p("div",{class:`${m}-toolbar-item-name`},[(ge=n.value.toolbarTips)==null?void 0:ge.katex])])]}})}else if(e.defToolbars instanceof Array){const K=e.defToolbars[_];return K?ao(K,{theme:o.value,previewTheme:i.value,language:r.value,insert(Gn){T.emit(t,J,"universal",{generate:Gn})}}):""}else if(e.defToolbars&&e.defToolbars.children instanceof Array){const K=e.defToolbars.children[_];return K?ao(K,{theme:o.value,previewTheme:i.value,language:r.value,insert(Gn){T.emit(t,J,"universal",{generate:Gn})}}):""}else return""};return W(()=>e.toolbars,()=>{Ue(()=>{a.value&&Ms(a.value)})},{immediate:!0}),()=>{const _=b.value[0].map(C=>k(C)),y=b.value[1].map(C=>k(C));return p(Rn,null,[e.toolbars.length>0&&p("div",{class:`${m}-toolbar-wrapper`,ref:a,id:s},[p("div",{class:[`${m}-toolbar`,e.showToolbarName&&`${m}-stn`]},[p("div",{class:`${m}-toolbar-left`,ref:g},[_]),p("div",{class:`${m}-toolbar-right`},[y])])]),p("input",{ref:f,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),p(th,{linkVisible:d.linkVisible,clipVisible:d.clipVisible,type:d.type,onCancel:()=>{d.linkVisible=!1,d.clipVisible=!1},onOk:C=>{C&&u(d.type,{desc:C.desc,url:C.url,transform:d.type==="image"}),d.linkVisible=!1,d.clipVisible=!1}},null)])}}}),oh=`.${m}-preview > [data-line]`,vn=(e,t)=>+getComputedStyle(e).getPropertyValue(t).replace("px",""),ih=(e,t)=>{const n=Ao(()=>{e.removeEventListener("scroll",o),e.addEventListener("scroll",o),t.removeEventListener("scroll",o),t.addEventListener("scroll",o)},50),o=i=>{const r=e.clientHeight,l=t.clientHeight,s=e.scrollHeight,a=t.scrollHeight,c=(s-r)/(a-l);i.target===e?(t.removeEventListener("scroll",o),t.scrollTo({top:e.scrollTop/c}),n()):(e.removeEventListener("scroll",o),e.scrollTo({top:t.scrollTop*c}),n())};return[()=>{n().finally(()=>{e.dispatchEvent(new Event("scroll"))})},()=>{e.removeEventListener("scroll",o),t.removeEventListener("scroll",o)}]},rh=(e,t,n)=>{const{view:o}=n,i=Ls(),r=_=>o.lineBlockAt(o.state.doc.line(_+1).from).top,l=_=>o.lineBlockAt(o.state.doc.line(_+1).from).bottom;let s=[],a=[],c=[];const u=()=>{s=[],a=Array.from(t.querySelectorAll(oh)),c=a.map(A=>Number(A.dataset.line));const _=[...c],{lines:y}=o.state.doc;let C=_.shift()||0,w=_.shift()||y;for(let A=0;A<y;A++)A===w&&(C=A,w=_.shift()||y),s.push({start:C,end:w-1})},d=(_,y)=>{let C=1;for(let w=a.length-1;w-1>=0;w--){const A=a[w],S=a[w-1];if(A.offsetTop+A.offsetHeight>y&&S.offsetTop<y){C=Number(S.dataset.line);break}}for(let w=s.length-1;w>=0;w--){const A=l(s[w].end),S=r(s[w].start);if(A>_&&S<=_){C=C<s[w].start?C:s[w].start;break}}return C};let g=0,b=0;const f=()=>{var _,y,C;if(b!==0)return!1;g++;const{scrollDOM:w,contentHeight:A}=o;let S=vn(t,"padding-top");const D=o.lineBlockAtHeight(w.scrollTop),{number:x}=o.state.doc.lineAt(D.from),P=s[x-1];if(!P)return!1;let R=1;const j=t.querySelector(`[data-line="${P.start}"]`)||((_=t.firstElementChild)==null?void 0:_.firstElementChild),z=t.querySelector(`[data-line="${P.end+1}"]`)||((y=t.lastElementChild)==null?void 0:y.lastElementChild),F=w.scrollHeight-w.clientHeight,$=t.scrollHeight-t.clientHeight;let L=r(P.start),M=l(P.end),N=j.offsetTop,B=z.offsetTop-N;L===0&&(N=0,j===z?(S=0,M=A-w.offsetHeight,B=$):B=z.offsetTop),R=(w.scrollTop-L)/(M-L);const Z=z==((C=t.lastElementChild)==null?void 0:C.lastElementChild)?z.offsetTop+z.clientHeight:z.offsetTop;if(M>=F||Z>$){const ce=d(F,$);L=r(ce),R=(w.scrollTop-L)/(F-L);const de=document.querySelector(`[data-line="${ce}"]`);L>0&&de&&(N=de.offsetTop),B=$-N+vn(t,"padding-top")}const Y=N-S+B*R;i(t,Y,()=>{g--})},v=()=>{var _,y,C,w,A,S;if(g!==0)return;b++;const{scrollDOM:D}=o,x=t.scrollTop,P=t.scrollHeight,R=D.scrollHeight-D.clientHeight,j=t.scrollHeight-t.clientHeight;let z=(_=t.firstElementChild)==null?void 0:_.firstElementChild,F=(y=t.firstElementChild)==null?void 0:y.lastElementChild;if(c.length>0){let de=Math.ceil(c[c.length-1]*(x/P)),ee=c.findLastIndex(Q=>Q<=de);ee=ee===-1?0:ee,de=c[ee];for(let Q=ee;Q>=0&&Q<c.length;)if(a[Q].offsetTop>x){if(Q-1>=0){Q--;continue}de=-1,ee=Q;break}else{if(Q+1<c.length&&a[Q+1].offsetTop<x){Q++;continue}de=c[Q],ee=Q;break}switch(ee){case-1:{z=(C=t.firstElementChild)==null?void 0:C.firstElementChild,F=a[ee];break}case c.length-1:{z=a[ee],F=(w=t.firstElementChild)==null?void 0:w.lastElementChild;break}default:z=a[ee],F=a[ee+1===a.length?ee:ee+1]}}let $=z===((A=t.firstElementChild)==null?void 0:A.firstElementChild)?0:z.offsetTop-vn(z,"margin-top"),L=F.offsetTop,M=0;const{start:N,end:B}=s[Number(z.dataset.line||0)];let Z=r(N);const Y=r(B+1===o.state.doc.lines?B:B+1);let ce=0;if(Y>R||F.offsetTop+F.offsetHeight>j){const de=d(R,j),ee=document.querySelector(`[data-line="${de}"]`);$=ee?ee.offsetTop-vn(ee,"margin-top"):$,Z=r(de),M=(x-$)/(j-$),ce=R-Z}else z===((S=t.firstElementChild)==null?void 0:S.firstElementChild)?(z===F&&(L=F.offsetTop+F.offsetHeight+ +getComputedStyle(F).marginBottom.replace("px","")),ce=Y,M=Math.max(x/L,0)):(M=Math.max((x-$)/(L-$),0),ce=Y-Z);i(e,Z+ce*M,()=>{b--})},k=_=>{var y;const{scrollDOM:C,contentHeight:w}=o,A=C.clientHeight;if(w<=A||t.firstElementChild.clientHeight<=t.clientHeight||o.state.doc.lines<=((y=s[s.length-1])==null?void 0:y.end))return!1;_.target===e?f():v()};return[()=>{u(),e.addEventListener("scroll",k),t.addEventListener("scroll",k),e.dispatchEvent(new Event("scroll"))},()=>{e.removeEventListener("scroll",k),t.removeEventListener("scroll",k)}]},lh=(e,t,n)=>{const o=q("editorId");let i=()=>{},r=()=>{};const l=()=>{i();const s=document.querySelector(`#${o} .cm-scroller`),a=document.querySelector(`[id="${o}-preview-wrapper"]`),c=document.querySelector(`[id="${o}-html-wrapper"]`);(a||c)&&([r,i]=(a?rh:ih)(s,a||c,n.value),e.scrollAuto&&r())};W([t,Je(e.setting,"preview"),Je(e.setting,"htmlPreview"),Je(e.setting,"fullscreen"),Je(e.setting,"pageFullscreen")],()=>{Ue(l)}),W(()=>e.scrollAuto,s=>{s?r():i()}),W(()=>e.setting.previewOnly,s=>{s?i():r()}),ae(l)},io=(e,t,n)=>{var o;let i="",r=0,l=0,s=!0,a=!1;const c=t.getSelectedText(),u=he.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const d=e.replace(/^h(\d)/,(g,b)=>new Array(Number(b)).fill("#",0,b).join(""));i=`${d} ${c}`,r=d.length+1}else if(e==="prettier"){const d=window.prettier||he.editorExtensions.prettier.prettierInstance,g=[((o=window.prettierPlugins)==null?void 0:o.markdown)||he.editorExtensions.prettier.parserMarkdownInstance];!d||g[0]===void 0?(T.emit(n.editorId,pt,{name:"prettier",message:"prettier is undefined"}),i=t.getValue()):i=d.format(t.getValue(),{parser:"markdown",plugins:g}),s=!1,a=!0}else switch(e){case"bold":{i=`**${c}**`,r=2,l=-2;break}case"underline":{i=`<u>${c}</u>`,r=3,l=-4;break}case"italic":{i=`*${c}*`,r=1,l=-1;break}case"strikeThrough":{i=`~~${c}~~`,r=2,l=-2;break}case"sub":{i=`<sub>${c}</sub>`,r=5,l=-6;break}case"sup":{i=`<sup>${c}</sup>`,r=5,l=-6;break}case"codeRow":{i="`"+c+"`",r=1,l=-1;break}case"quote":{i=`> ${c}`,r=2;break}case"orderedList":{i=`1. ${c}`,r=3;break}case"unorderedList":{i=`- ${c}`,r=2;break}case"task":{i=`- [ ] ${c}`,r=6;break}case"code":{const d=n.text||c||"",g=n.mode||"language";i=`\`\`\`${g}
${d}
\`\`\`
`,r=3,l=3+g.length-i.length;break}case"table":{i="|";const{selectedShape:d={x:1,y:1}}=n,{x:g,y:b}=d;for(let f=0;f<=b;f++)i+=" col |";i+=`
|`;for(let f=0;f<=b;f++)i+=" - |";for(let f=0;f<=g;f++){i+=`
|`;for(let v=0;v<=b;v++)i+=" content |"}r=2,l=5-i.length;break}case"link":{const{desc:d,url:g}=n;i=`[${d}](${g})`,s=!1;break}case"image":{const{desc:d,url:g,urls:b}=n;b instanceof Array?i=b.reduce((f,v)=>{const{url:k="",alt:_="",title:y=""}=typeof v=="object"?v:{url:v};return f+`![${_}](${k}${y?" '"+y+"'":""})
`},""):i=`![${d}](${g})
`,s=!1;break}case"flow":{i=`\`\`\`mermaid
${(u==null?void 0:u.flow)||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,r=3,l=10-i.length;break}case"sequence":{i=`\`\`\`mermaid
${(u==null?void 0:u.sequence)||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,r=3,l=10-i.length;break}case"gantt":{i=`\`\`\`mermaid
${(u==null?void 0:u.gantt)||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,r=3,l=10-i.length;break}case"class":{i=`\`\`\`mermaid
${(u==null?void 0:u.class)||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,r=3,l=10-i.length;break}case"state":{i=`\`\`\`mermaid
${(u==null?void 0:u.state)||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,r=3,l=10-i.length;break}case"pie":{i=`\`\`\`mermaid
${(u==null?void 0:u.pie)||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,r=3,l=10-i.length;break}case"relationship":{i=`\`\`\`mermaid
${(u==null?void 0:u.relationship)||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,r=3,l=10-i.length;break}case"journey":{i=`\`\`\`mermaid
${(u==null?void 0:u.journey)||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,r=3,l=10-i.length;break}case"katexInline":{i="$$",r=1,l=-1;break}case"katexBlock":{i=`$$

$$
`,r=3,l=-4;break}case"universal":{const{generate:d}=n,g=d(c);i=g.targetValue,s=g.select??!0,r=g.deviationStart||0,l=g.deviationEnd||0}}return{text:i,options:{select:s,deviationStart:r,deviationEnd:l,replaceAll:a}}},sh="#e5c07b",ur="var(--md-color)",ah="#56b6c2",ch="#ffffff",Rt="var(--md-color)",dr="#e5c07b",uh="#e5c07b",dh="var(--md-color)",fr="#d19a66",fh="#c678dd",hh="#21252b",mh="#2c313a",hr="var(--md-bk-color)",ro="var(--md-bk-color)",ph="#ceedfa33",mr="#528bff",gh=Qe.theme({"&":{color:Rt,backgroundColor:hr},".cm-content":{caretColor:mr},".cm-cursor, .cm-dropCursor":{borderLeftColor:mr},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ph},".cm-panels":{backgroundColor:hh,color:Rt},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:hr,color:Rt,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:mh},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:ro},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ro,borderBottomColor:ro},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Rt}}},{dark:!0}),vh=Dr.define([{tag:E.keyword,color:fh},{tag:[E.name,E.deleted,E.character,E.propertyName,E.macroName],color:ur},{tag:[E.function(E.variableName),E.labelName],color:uh},{tag:[E.color,E.constant(E.name),E.standard(E.name)],color:fr},{tag:[E.definition(E.name),E.separator],color:Rt},{tag:[E.typeName,E.className,E.number,E.changed,E.annotation,E.modifier,E.self,E.namespace],color:sh},{tag:[E.operator,E.operatorKeyword,E.url,E.escape,E.regexp,E.link,E.special(E.string)],color:ah},{tag:[E.meta,E.comment],color:dr},{tag:E.strong,fontWeight:"bold"},{tag:E.emphasis,fontStyle:"italic"},{tag:E.strikethrough,textDecoration:"line-through"},{tag:E.link,color:dr,textDecoration:"underline"},{tag:E.heading,fontWeight:"bold",color:ur},{tag:[E.atom,E.bool,E.special(E.variableName)],color:fr},{tag:[E.processingInstruction,E.string,E.inserted],color:dh},{tag:E.invalid,color:ch}]),pr=[gh,Tr(vh)],bh="#e5c07b",gr="#3f4a54",_h="#56b6c2",kh="#fff",Ht="#3f4a54",vr="#2d8cf0",yh="#2d8cf0",Ch="#3f4a54",br="#d19a66",xh="#c678dd",wh="#f6f6f6",Ah="#ceedfa33",_r="var(--md-bk-color)",lo="var(--md-bk-color)",Eh="#bad5fa",kr="#3f4a54",Fh=Qe.theme({"&":{color:Ht,backgroundColor:_r},".cm-content":{caretColor:kr},".cm-cursor, .cm-dropCursor":{borderLeftColor:kr},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Eh},".cm-panels":{backgroundColor:wh,color:Ht},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:_r,color:Ht,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:Ah},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:lo},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:lo,borderBottomColor:lo},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Ht}}}),Dh=Dr.define([{tag:E.keyword,color:xh},{tag:[E.name,E.deleted,E.character,E.propertyName,E.macroName],color:gr},{tag:[E.function(E.variableName),E.labelName],color:yh},{tag:[E.color,E.constant(E.name),E.standard(E.name)],color:br},{tag:[E.definition(E.name),E.separator],color:Ht},{tag:[E.typeName,E.className,E.number,E.changed,E.annotation,E.modifier,E.self,E.namespace],color:bh},{tag:[E.operator,E.operatorKeyword,E.url,E.escape,E.regexp,E.link,E.special(E.string)],color:_h},{tag:[E.meta,E.comment],color:vr},{tag:E.strong,fontWeight:"bold"},{tag:E.emphasis,fontStyle:"italic"},{tag:E.strikethrough,textDecoration:"line-through"},{tag:E.link,color:vr,textDecoration:"underline"},{tag:E.heading,fontWeight:"bold",color:gr},{tag:[E.atom,E.bool,E.special(E.variableName)],color:br},{tag:[E.processingInstruction,E.string,E.inserted],color:Ch},{tag:E.invalid,color:kh}]),yr=[Fh,Tr(Dh)],bn=(e,t,n,o,i)=>(r,l,s,a)=>{const c=`${e}${t}`.slice(a-s);r.dispatch(r.state.replaceSelection(`${c}${n}${o}`));const u=s+l.label.length+(i==="title"?n.length:0);r.dispatch({selection:Xe.create([Xe.range(s+l.label.length+(i==="title"?1:-t.length),u),Xe.cursor(u)],1)}),r.focus()},Cr=e=>(t,n,o,i)=>{const r=e.slice(i-o);t.dispatch(t.state.replaceSelection(`${r} `))},xr=e=>{const t=n=>{const o=n.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return o===null||o.from==o.to&&n.explicit?null:{from:o.from,options:[...["h1","h2","h3","h4","h5","h6"].map((i,r)=>{const l=new Array(r+1).fill("#").join("");return{label:l,type:"text",apply:Cr(l)}}),...["unchecked","checked"].map(i=>{const r=i==="checked"?"- [x]":"- [ ]";return{label:r,type:"text",apply:Cr(r)}}),...[["`",""],["```","language"],["```mermaid\n",""]].map(i=>({label:`${i[0]}${i[1]}`,type:"text",apply:bn(i[0],i[1],"",i[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:bn("$","","","$","type")},{label:"$$",type:"text",apply:bn("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(i=>({label:`!!! ${i}`,type:"text",apply:bn("!!!",` ${i}`," Title",`

!!!`,"title")}))]}};return _s({override:e?[t,...e]:[t]})},xt=e=>{const t=new wt;return o=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(o)}):e.dispatch({effects:xs.appendConfig.of(t.of(o))}),!0)};class Th{constructor(t){et(this,"view"),et(this,"maxLength",Number.MAX_SAFE_INTEGER),et(this,"toggleTabSize"),et(this,"togglePlaceholder"),et(this,"setExtensions"),et(this,"toggleDisabled"),et(this,"toggleReadOnly"),et(this,"toggleMaxlength"),this.view=t,this.toggleTabSize=xt(this.view),this.togglePlaceholder=xt(this.view),this.setExtensions=xt(this.view),this.toggleDisabled=xt(this.view),this.toggleReadOnly=xt(this.view),this.toggleMaxlength=xt(this.view)}getValue(){return this.view.state.doc.toString()}setValue(t,n=0,o=this.view.state.doc.length){this.view.dispatch({changes:{from:n,to:o,insert:t}})}getSelectedText(){const{from:t,to:n}=this.view.state.selection.main;return this.view.state.sliceDoc(t,n)}replaceSelectedText(t,n={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},o){try{if(n.replaceAll){if(this.setValue(t),t.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+t.length>this.maxLength)throw new Error("The input text is too long");const{from:i}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(t)),n.select){const r=i+t.length+n.deviationEnd;this.view.dispatch({selection:Xe.create([Xe.range(i+n.deviationStart,r),Xe.cursor(r)],1)})}this.view.focus()}catch(i){if(i.message==="The input text is too long")T.emit(o,pt,{name:"overlength",message:i.message,data:t});else throw i}}setTabSize(t){this.toggleTabSize([Qn.tabSize.of(t),ks.of(" ".repeat(t))])}setPlaceholder(t){this.togglePlaceholder(ys(t))}focus(t){if(this.view.focus(),!t)return;let n=0,o=0,i=0;switch(t){case"start":break;case"end":{n=o=i=this.getValue().length;break}default:n=t.rangeAnchor||t.cursorPos,o=t.rangeHead||t.cursorPos,i=t.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:Xe.create([Xe.range(n,o),Xe.cursor(i)],1)})}setDisabled(t){this.toggleDisabled([Qe.editable.of(!t)])}setReadOnly(t){this.toggleReadOnly([Qn.readOnly.of(t)])}setMaxLength(t){this.maxLength=t,this.toggleMaxlength([Qn.changeFilter.of(n=>n.newDoc.length<=t)])}}const Sh=(e,t)=>{const n=q("editorId"),o=r=>{r instanceof Promise?r.then(l=>{T.emit(n,J,"universal",{generate(){return{targetValue:l}}})}).catch(l=>{console.error(l)}):T.emit(n,J,"universal",{generate(){return{targetValue:r}}})};return r=>{var l,s,a;if(!r.clipboardData)return;if(r.clipboardData.files.length>0){const{files:v}=r.clipboardData;T.emit(n,jn,Array.from(v).filter(k=>/image\/.*/.test(k.type))),r.preventDefault();return}const c=r.clipboardData.getData("text/plain"),u=((l=t.value)==null?void 0:l.view.state.selection.main.to)||0,d=((s=t.value)==null?void 0:s.view.state.doc.lineAt(u).from)||0,g=((a=t.value)==null?void 0:a.view.state.doc.sliceString(d,u))||"",b=/!\[.*\]\(\s*$/.test(g),f=/!\[.*\]\((.*)\s?.*\)/.test(c);if(b){const v=e.transformImgUrl(c);o(v),r.preventDefault();return}else if(f){const v=c.match(new RegExp(`(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?["']?.*["']?\\))`,"g"));v?Promise.all(v.map(k=>e.transformImgUrl(k))).then(k=>{o(k.reduce((_,y,C)=>_.replace(v[C],y),c))}):o(c),r.preventDefault();return}if(e.autoDetectCode&&r.clipboardData.types.includes("vscode-editor-data")){const v=JSON.parse(r.clipboardData.getData("vscode-editor-data"));T.emit(n,J,"code",{mode:v.mode,text:r.clipboardData.getData("text/plain")}),r.preventDefault();return}e.maxlength&&c.length+e.modelValue.length>e.maxlength&&T.emit(n,pt,{name:"overlength",message:"The input text is too long",data:c})}},$h=(e,t)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(T.emit(e,J,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:ws,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:w=>(T.emit(e,Hn,w.state.doc.toString()),!0),shift:()=>(T.emit(e,J,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(T.emit(e,J,"underline"),!0),shift:()=>(T.emit(e,J,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(T.emit(e,J,"italic"),!0),shift:()=>(T.emit(e,fo,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(T.emit(e,J,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(T.emit(e,J,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(T.emit(e,J,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(T.emit(e,J,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(T.emit(e,J,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(T.emit(e,J,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(T.emit(e,J,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(T.emit(e,J,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(T.emit(e,J,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(T.emit(e,J,"code"),!0),any(w,A){return(A.ctrlKey||A.metaKey)&&A.altKey&&A.code==="KeyC"?(T.emit(e,J,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(T.emit(e,fo,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>t.noPrettier?!1:(T.emit(e,J,"prettier"),!0)},{any:(w,A)=>(A.ctrlKey||A.metaKey)&&A.altKey&&A.shiftKey&&A.code==="KeyT"?(T.emit(e,J,"table"),!0):!1},...Cs];Qe.EDIT_CONTEXT=!1;const Ih=e=>{const t=q("tabWidth"),n=q("editorId"),o=q("theme"),i=V(),r=mt(),l=new wt,s=new wt,a=new wt,c=new wt,u=new wt,d=$h(n,e),g=V(!1),f={paste:Sh(e,r),blur:e.onBlur,focus:e.onFocus,drop:e.onDrop,compositionstart:()=>{g.value=!0},compositionend:(_,y)=>{g.value=!1,e.updateModelValue(y.state.doc.toString())},input:_=>{e.onInput&&e.onInput(_);const{data:y}=_;e.maxlength&&e.modelValue.length+y.length>e.maxlength&&T.emit(n,pt,{name:"overlength",message:"The input text is too long",data:y})}},v=[hs.of([...ms,...ps,...d,gs]),c.of(Ci()),l.of(Es({codeLanguages:As})),Qe.lineWrapping,Qe.updateListener.of(_=>{_.docChanged&&(e.onChange(_.state.doc.toString()),g.value||e.updateModelValue(_.state.doc.toString()))}),u.of(Qe.domEventHandlers(f))],k=()=>{const _=[...v,s.of(o.value==="light"?yr:pr),a.of(xr(e.completions))];return he.codeMirrorExtensions(o.value,_,[...d])};return ae(()=>{const _=new Qe({doc:e.modelValue,parent:i.value,extensions:[k()]}),y=new Th(_);r.value=y,setTimeout(()=>{y.setTabSize(t),y.setDisabled(e.disabled),y.setReadOnly(e.readonly),e.placeholder&&y.setPlaceholder(e.placeholder),typeof e.maxlength=="number"&&y.setMaxLength(e.maxlength),e.autofocus&&_.focus()},0),T.on(n,{name:Mr,callback(){vs(_)}}),T.on(n,{name:Or,callback(){bs(_)}}),T.on(n,{name:J,callback(C,w={}){var A,S;if(C==="image"&&w.transform){const D=e.transformImgUrl(w.url);if(D instanceof Promise)D.then(x=>{var P;const{text:R,options:j}=io(C,r.value,{...w,url:x});(P=r.value)==null||P.replaceSelectedText(R,j,n)}).catch(x=>{console.error(x)});else{const{text:x,options:P}=io(C,r.value,{...w,url:D});(A=r.value)==null||A.replaceSelectedText(x,P,n)}}else{const{text:D,options:x}=io(C,r.value,w);(S=r.value)==null||S.replaceSelectedText(D,x,n)}}}),T.on(n,{name:Br,callback:zs(C=>{var w;const A={...f},S=Object.keys(f);for(const D in C){const x=D;S.includes(x)?A[x]=(P,R)=>{C[x](P,R),P.defaultPrevented||f[x](P,R)}:A[x]=C[x]}(w=r.value)==null||w.view.dispatch({effects:u.reconfigure(Qe.domEventHandlers(A))})})})}),W(o,()=>{var _;(_=r.value)==null||_.view.dispatch({effects:s.reconfigure(o.value==="light"?yr:pr)})},{deep:!0}),W(()=>e.completions,()=>{var _;(_=r.value)==null||_.view.dispatch({effects:a.reconfigure(xr(e.completions))})},{deep:!0}),W(()=>e.modelValue,()=>{var _,y;((_=r.value)==null?void 0:_.getValue())!==e.modelValue&&((y=r.value)==null||y.setValue(e.modelValue))}),W(()=>e.placeholder,()=>{var _;(_=r.value)==null||_.setPlaceholder(e.placeholder)}),W(()=>e.disabled,()=>{var _;(_=r.value)==null||_.setDisabled(e.disabled)}),W(()=>e.readonly,()=>{var _;(_=r.value)==null||_.setDisabled(e.readonly)}),W(()=>e.maxlength,()=>{var _;e.maxlength&&((_=r.value)==null||_.setMaxLength(e.maxlength))}),{inputWrapperRef:i,codeMirrorUt:r,resetHistory(){var _,y;(_=r.value)==null||_.view.dispatch({effects:c.reconfigure([])}),(y=r.value)==null||y.view.dispatch({effects:c.reconfigure(Ci())})}}},Lh=(e,t,n)=>{const o=ye({resizedWidth:e.inputBoxWitdh}),i=ye({width:e.inputBoxWitdh}),r=ye({left:e.inputBoxWitdh,display:"initial"}),l=c=>{var u,d,g;const b=((u=t.value)==null?void 0:u.offsetWidth)||0,f=((d=t.value)==null?void 0:d.getBoundingClientRect().x)||0;let v=c.x-f;v<un?v=un:v>b-un&&(v=b-un);const k=`${v}px`;i.width=k,r.left=k,o.resizedWidth=k,(g=e.onInputBoxWitdhChange)==null||g.call(e,k)},s=()=>{document.addEventListener("mousemove",l)},a=()=>{document.removeEventListener("mousemove",l)};return W([n],()=>{var c,u;(c=n.value)==null||c.addEventListener("mousedown",s),(u=n.value)==null||u.addEventListener("mouseup",a)},{immediate:!0}),Xt(()=>{var c,u;(c=n.value)==null||c.removeEventListener("mousedown",s),(u=n.value)==null||u.removeEventListener("mouseup",a)}),W(()=>e.inputBoxWitdh,c=>{c&&(o.resizedWidth=c,i.width=c,r.left=c)}),W([Je(e.setting,"htmlPreview"),Je(e.setting,"preview"),Je(e.setting,"previewOnly")],()=>{e.setting.previewOnly?(i.width="0%",r.display="none"):!e.setting.htmlPreview&&!e.setting.preview?(i.width="100%",r.display="none"):(i.width=o.resizedWidth,r.display="initial")},{immediate:!0}),{inputWrapperStyle:i,resizeOperateStyle:r}},zh=le({name:"MDEditorContent",props:wf,setup(e,t){const n=q("editorId"),o=V(""),i=V(),r=V(),{inputWrapperRef:l,codeMirrorUt:s,resetHistory:a}=Ih(e),{inputWrapperStyle:c,resizeOperateStyle:u}=Lh(e,i,r);return lh(e,o,s),t.expose({getSelectedText(){var d;return(d=s.value)==null?void 0:d.getSelectedText()},focus(d){var g;(g=s.value)==null||g.focus(d)},resetHistory:a}),()=>p("div",{class:`${m}-content${e.setting.htmlPreview||e.setting.preview?" has-preview":""}`,ref:i},[p("div",{class:`${m}-input-wrapper`,style:c,ref:l},null),(e.setting.htmlPreview||e.setting.preview)&&p("div",{class:`${m}-resize-operate`,style:u,ref:r},null),p($l,{modelValue:e.modelValue,setting:e.setting,onHtmlChanged:d=>{o.value=d,e.onHtmlChanged(d)},onGetCatalog:e.onGetCatalog,mdHeadingId:e.mdHeadingId,noMermaid:e.noMermaid,sanitize:e.sanitize,noKatex:e.noKatex,formatCopiedText:e.formatCopiedText,noHighlight:e.noHighlight,noImgZoomIn:e.noImgZoomIn,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.catalogVisible&&p(Nt,{theme:e.theme,class:`${m}-catalog-editor`,editorId:n,mdHeadingId:e.mdHeadingId,key:"internal-catalog"},null)])}}),Mh=le({props:{modelValue:{type:String,default:""}},setup(e){const t=q("usedLanguageText");return()=>{var n,o;return p("div",{class:`${m}-footer-item`},[p("label",{class:`${m}-footer-label`},[`${(n=t.value.footer)==null?void 0:n.markdownTotal}:`]),p("span",null,[((o=e.modelValue)==null?void 0:o.length)||0])])}}}),Oh={checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},Ph=le({props:Oh,setup(e){return()=>p("div",{class:[`${m}-checkbox`,e.checked&&`${m}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}}),Bh={scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},Rh=le({props:Bh,setup(e){const t=q("usedLanguageText");return()=>{var n;return p("div",{class:`${m}-footer-item`},[p("label",{class:`${m}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[(n=t.value.footer)==null?void 0:n.scrollAuto]),p(Ph,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),Hh={modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},jh=le({name:"MDEditorFooter",props:Hh,setup(e){const t=ke(()=>{const o=e.footers.indexOf("="),i=o===-1?e.footers:e.footers.slice(0,o),r=o===-1?[]:e.footers.slice(o,Number.MAX_SAFE_INTEGER);return[i,r]}),n=o=>{if(Lr.includes(o))switch(o){case"markdownTotal":return p(Mh,{modelValue:e.modelValue},null);case"scrollSwitch":return p(Rh,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}else return e.defFooters instanceof Array?e.defFooters[o]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[o]||""};return()=>{const o=t.value[0].map(r=>n(r)),i=t.value[1].map(r=>n(r));return p("div",{class:`${m}-footer`},[p("div",{class:`${m}-footer-left`},[o]),p("div",{class:`${m}-footer-right`},[i])])}}}),In=le({name:"MdEditorV3",props:Lf,emits:zf,setup(e,t){const{editorId:n,noKatex:o,noMermaid:i,noPrettier:r,noUploadImg:l,noHighlight:s}=e,a=ye({scrollAuto:e.scrollAuto}),c=V();Af(e,t),Ef(e),Ff(e),Df(e,t);const[u,d]=Tf(e,t),g=Sf(e);return Xt(()=>{T.clear(n)}),$f(e,t,g,u,d,c),()=>{const b=Se({props:e,ctx:t},"defToolbars"),f=Se({props:e,ctx:t},"defFooters");return p("div",{id:n,class:[m,e.class,e.theme==="dark"&&`${m}-dark`,u.fullscreen||u.pageFullscreen?`${m}-fullscreen`:""],style:e.style},[e.toolbars.length>0&&p(nh,{noPrettier:r,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:u,updateSetting:d,tableShape:e.tableShape,defToolbars:b,noUploadImg:l,showToolbarName:e.showToolbarName},null),p(zh,{ref:c,modelValue:e.modelValue,setting:u,mdHeadingId:e.mdHeadingId,noMermaid:i,noPrettier:r,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:o,scrollAuto:a.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,noHighlight:s,updateModelValue:v=>{t.emit("update:modelValue",v)},onChange:v=>{e.onChange&&e.onChange(v),t.emit("onChange",v)},onHtmlChanged:v=>{e.onHtmlChanged&&e.onHtmlChanged(v),t.emit("onHtmlChanged",v)},onGetCatalog:v=>{e.onGetCatalog&&e.onGetCatalog(v),t.emit("onGetCatalog",v)},onBlur:v=>{e.onBlur&&e.onBlur(v),t.emit("onBlur",v)},onFocus:v=>{e.onFocus&&e.onFocus(v),t.emit("onFocus",v)},onInput:v=>{e.onInput&&e.onInput(v),t.emit("onInput",v)},completions:e.completions,catalogVisible:g.value,theme:e.theme,noImgZoomIn:e.noImgZoomIn,onDrop:v=>{e.onDrop&&e.onDrop(v),t.emit("onDrop",v)},inputBoxWitdh:e.inputBoxWitdh,onInputBoxWitdhChange:v=>{e.onInputBoxWitdhChange&&e.onInputBoxWitdhChange(v),t.emit("onInputBoxWitdhChange",v)},sanitizeMermaid:e.sanitizeMermaid,transformImgUrl:e.transformImgUrl,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},null),e.footers.length>0&&p(jh,{modelValue:e.modelValue,footers:e.footers,defFooters:f,scrollAuto:a.scrollAuto,onScrollAutoChange:v=>a.scrollAuto=v},null)])}}});In.install=e=>(e.component(In.name,In),e.use(Sn).use(yn).use($n).use(Nt).use(Tn),e);const Nh={class:"container"},Uh={class:"flex items-center justify-between"},Wh=kn("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," User Validate ",-1),Mm=le({__name:"[...id]",async setup(e){let t,n;const o=bi(),i=V(null),r=V(null),l=V(""),s=V(""),a=V(""),c=V({}),u=rs(),d=o.params.id,g=o.query;console.log(g);const b=ls();console.log(b);const f=b.protocol+"//"+b.host,v=ds(Xl().public.mindpress),k=(v.mode===Ye.SSG||v.mode===Ye.FCM)&&d[0]==="undefined"?V(null):V(d[0]);!k.value&&g.id&&(k.value=g.id),ae(()=>{i&&i.value&&i.value.focus()});const _=["github"];let y=V("");console.log("articleid === "+k.value);const C=f+v.contentUrl+"/"+k.value;console.log(C);async function w(){return console.log(" ---- getDataAx"),console.log(C),await ss({url:C,method:"get",params:{articleid:k.value||y.value}})}const A={},S={},D=V(!1);if(console.log("mode===>"+v.mode),v.mode===Ye.SSG){console.log("SSG mode. articleid:"+k.value);const F="/article/"+k.value;if(console.log(F),k.value){const $=k.value.indexOf(":")>=0?([t,n]=cn(()=>ki().where({_id:{$eq:k.value}}).findOne()),t=await t,n(),t):([t,n]=cn(()=>ki().where({permalink:{$eq:F}}).findOne()),t=await t,n(),t);y.value=$._file,console.log($),["author","authors","permalink"].forEach(N=>{$.hasOwnProperty(N)&&(A[N]=$[N])}),l.value=$.title,c.value={title:"Tips",desc:"SSG Mode cannot save md content!! ",color:"orange"};const M=us($.body);a.value=M}else c.value={title:"Tips",desc:"SSG mode: cannot save file content!! ",color:"orange"}}else if(v.mode===Ye.FCM){let F;if(k.value){try{const{data:L}=([t,n]=cn(()=>Kl("/api/md/query?_id="+k.value,"$t0mXAJl9dw")),t=await t,n(),t);console.log("***************"),F=L.value,console.log(F)}catch(L){console.warn(L)}y.value=F._file,console.log(F),["author","authors","permalink"].forEach(L=>{F.hasOwnProperty(L)&&(A[L]=F[L])}),l.value=F.title,$fetch("/api/md/mdcontent",{key:k,method:"POST",headers:{"Content-Type":"application/json"},body:{file:y.value,articleid:k.value}}).then(L=>{L.status?(a.value=L.mdcontent,S.value=L.mdheader):c.value={title:"Info",desc:L.msg,color:"primary"}},L=>{console.log("exception..."),console.log(L),c.value={title:"Error",desc:"request exception"+L,color:"orange"}})}}else{const F=([t,n]=cn(()=>w()),t=await t,n(),t);a.value=F.content,l.value=F.title}const x=()=>{console.log("token submit"),console.log("value:"+s.value),console.log(a.value),s.value&&s.value.length>0?(D.value=!1,localStorage.setItem("token",s.value),P(a.value)):D.value=!0};function P(F){if(v.mode===Ye.SSG){console.error("SSG mode cannot save edit content!"),c.value={title:"Error",desc:"SSG mode cannot save edit content!",color:"orange"};return}bi();const $=fs(F);console.log($),(!l.value||l.value.trim().length===0)&&$.title&&$.title!==""&&(l.value=$.title),console.log("title:"+l.value),console.log("--- now save event triggled. articleid="+k.value+"---");const L=k.value+"t"+new Date;$.mode=v.mode;const M=localStorage.getItem("token");if(!M){D.value=!0,r&&r.value&&r.value.focus();return}const N={articleid:k.value,content:F,title:l.value,extInfo:JSON.stringify($),file:y.value,permalink:k.value?"/article/"+k.value:void 0,pub:!0,header:S.value,...A};c.value={title:"save......"},console.log(N),console.log(v.contentUrl),$fetch(v.mode===Ye.FCM?"/api/md/savecontent":v.contentUrl,{key:L,method:"POST",headers:{"Content-Type":"application/json",token:M||""},body:N}).then(B=>{console.log(B),B&&B.success?(c.value={title:"Info",desc:B.msg+" , Complete Time: "+yi(new Date),color:"primary"},B.ext&&B.ext.articleid&&(console.log(B.ext.articleid),k.value=B.ext.articleid,console.log("scm mode, saved articleid: "+k.value)),B.ext&&B.ext.file&&(y.value=B.ext.file,B.ext.contentUpdate&&(console.warn("content updated!"),a.value=B.ext.content),console.log("fcm mode, save articleid:"+y.value))):(B.code===501&&localStorage.removeItem("token"),c.value={title:"Tips",desc:B.msg+" , Time: "+yi(new Date),color:"orange"})},B=>{console.log("exception..."),console.log(B),c.value={title:"Error",desc:"request exception!!"+B,color:"orange"}})}const R=async(F,$)=>{const L=await Promise.all(F.map(M=>new Promise((N,B)=>{const Z=new FormData;Z.append("file",M),k.value&&Z.append("articleid",k.value||""),as.post("/api/upload",Z,{headers:{"Content-Type":"multipart/form-data"}}).then(Y=>N(Y)).catch(Y=>B(Y))})));console.log(L),$(L.map(M=>{const N=M.data.data;return console.log(N),{url:N[0].url,alt:N[0].alt,title:N[0].title}}))},j=F=>{console.log("changed  "+new Date),u(()=>z(F),500)},z=F=>{console.log(" ----------action: "+new Date);const $=cs(F);if($&&$.length>0){if(console.log("process images...."),v.mode!==Ye.FCM)return;const L={articleid:k.value,content:F,title:l.value};$fetch(v.mode===Ye.FCM?"/api/md/mdimage":v.contentUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:L}).then(M=>{console.log(M),M&&M.success?M.state&&(console.warn("content updated!"),a.value=M.content):console.warn("call /api/md/mdimage error")},M=>{console.log("exception..."),console.log(M)})}};return(F,$)=>{const L=Rl,M=Hl,N=jl,B=Ts,Z=es,Y=ts,ce=ns,de=os,ee=is;return _n(),Ql("div",null,[p(L),kn("main",Nh,[Jl(kn("input",{id:"title",ref_key:"titleInput",ref:i,name:"title",placeholder:"Article title","onUpdate:modelValue":$[0]||($[0]=Q=>l.value=Q),required:""},null,512),[[Yl,l.value]]),c.value.title?(_n(),so(M,{key:0,icon:"i-heroicons-chat-bubble-left-ellipsis",color:`${c.value.color}`,variant:"outline",title:`${c.value.title}`,description:`${c.value.desc}`,style:{"margin-bottom":"10px"}},null,8,["color","title","description"])):_i("",!0),Xn(k)?(_n(),so(N,{key:1,to:`/article/${Xn(k)}`,class:"secondary",target:"_blank"},{default:Ge(()=>[Kn("Article Detail ")]),_:1},8,["to"])):_i("",!0),p(B,{placeholder:"loading...",tag:"span"},{default:Ge(()=>[p(Xn(In),{modelValue:a.value,"onUpdate:modelValue":$[1]||($[1]=Q=>a.value=Q),theme:F.$colorMode.value,toolbarsExclude:_,style:{height:"480px"},onOnChange:j,onOnSave:P,onOnUploadImg:R},null,8,["modelValue","theme","toolbarsExclude"])]),_:1})]),p(ee,{modelValue:D.value,"onUpdate:modelValue":$[5]||($[5]=Q=>D.value=Q),"prevent-close":""},{default:Ge(()=>[p(de,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:Ge(()=>[kn("div",Uh,[Wh,p(Z,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:$[2]||($[2]=Q=>D.value=!1)})])]),default:Ge(()=>[p(Y,{color:"primary",ref_key:"tokenInput",ref:r,modelValue:s.value,"onUpdate:modelValue":$[3]||($[3]=Q=>s.value=Q),variant:"outline",placeholder:"Your validate token..."},null,8,["modelValue"]),p(ce,{size:"sm",orientation:"horizontal"},{default:Ge(()=>[p(Z,{color:"gray",onClick:$[4]||($[4]=Q=>D.value=!1)},{default:Ge(()=>[Kn("Cancel")]),_:1}),p(Z,{style:{"margin-left":"10px"},onClick:x},{default:Ge(()=>[Kn("Submit")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{Mm as default};
