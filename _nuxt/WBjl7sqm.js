import{f as p}from"./DtMEWqXq.js";function f(t){return typeof t=="function"?t():p(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const x=t=>typeof t<"u",s=()=>{};function d(t,r){function n(...e){return new Promise((i,o)=>{Promise.resolve(t(()=>r.apply(this,e),{fn:r,thisArg:this,args:e})).then(i).catch(o)})}return n}function h(t,r={}){let n,e,i=s;const o=u=>{clearTimeout(u),i(),i=s};return u=>{const a=f(t),c=f(r.maxWait);return n&&o(n),a<=0||c!==void 0&&c<=0?(e&&(o(e),e=null),Promise.resolve(u())):new Promise((l,m)=>{i=r.rejectOnCancel?m:l,c&&!e&&(e=setTimeout(()=>{n&&o(n),e=null,l(u())},c)),n=setTimeout(()=>{e&&o(e),e=null,l(u())},a)})}}function y(t,r=200,n={}){return d(h(r,n),t)}export{x as i,f as t,y as u};
